var nB=Object.create;var bu=Object.defineProperty;var pS=Object.getOwnPropertyDescriptor;var oB=Object.getOwnPropertyNames;var sB=Object.getPrototypeOf,aB=Object.prototype.hasOwnProperty;var k=(r,t)=>()=>(r&&(t=r(r=0)),t);var T=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),pt=(r,t)=>{for(var e in t)bu(r,e,{get:t[e],enumerable:!0})},hS=(r,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of oB(t))!aB.call(r,n)&&n!==e&&bu(r,n,{get:()=>t[n],enumerable:!(i=pS(t,n))||i.enumerable});return r};var qt=(r,t,e)=>(e=r!=null?nB(sB(r)):{},hS(t||!r||!r.__esModule?bu(e,"default",{value:r,enumerable:!0}):e,r)),uB=r=>hS(bu({},"__esModule",{value:!0}),r),ge=(r,t,e,i)=>{for(var n=i>1?void 0:i?pS(t,e):t,o=r.length-1,u;o>=0;o--)(u=r[o])&&(n=(i?u(t,e,n):u(n))||n);return i&&n&&bu(t,e,n),n};var v,p=k(()=>{v={}});var mS=T((Mie,fS)=>{p();var bs=1e3,ys=bs*60,_s=ys*60,Qn=_s*24,cB=Qn*7,dB=Qn*365.25;fS.exports=function(r,t){t=t||{};var e=typeof r;if(e==="string"&&r.length>0)return pB(r);if(e==="number"&&isFinite(r))return t.long?fB(r):hB(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function pB(r){if(r=String(r),!(r.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(t){var e=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return e*dB;case"weeks":case"week":case"w":return e*cB;case"days":case"day":case"d":return e*Qn;case"hours":case"hour":case"hrs":case"hr":case"h":return e*_s;case"minutes":case"minute":case"mins":case"min":case"m":return e*ys;case"seconds":case"second":case"secs":case"sec":case"s":return e*bs;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e;default:return}}}}function hB(r){var t=Math.abs(r);return t>=Qn?Math.round(r/Qn)+"d":t>=_s?Math.round(r/_s)+"h":t>=ys?Math.round(r/ys)+"m":t>=bs?Math.round(r/bs)+"s":r+"ms"}function fB(r){var t=Math.abs(r);return t>=Qn?dd(r,t,Qn,"day"):t>=_s?dd(r,t,_s,"hour"):t>=ys?dd(r,t,ys,"minute"):t>=bs?dd(r,t,bs,"second"):r+" ms"}function dd(r,t,e,i){var n=t>=e*1.5;return Math.round(r/e)+" "+i+(n?"s":"")}});var xg=T((Lie,vS)=>{p();function mB(r){e.debug=e,e.default=e,e.coerce=c,e.disable=o,e.enable=n,e.enabled=u,e.humanize=mS(),e.destroy=h,Object.keys(r).forEach(m=>{e[m]=r[m]}),e.names=[],e.skips=[],e.formatters={};function t(m){let b=0;for(let y=0;y<m.length;y++)b=(b<<5)-b+m.charCodeAt(y),b|=0;return e.colors[Math.abs(b)%e.colors.length]}e.selectColor=t;function e(m){let b,y=null,w,O;function x(...R){if(!x.enabled)return;let L=x,W=Number(new Date),Y=W-(b||W);L.diff=Y,L.prev=b,L.curr=W,b=W,R[0]=e.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let he=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(U,xe)=>{if(U==="%%")return"%";he++;let Ke=e.formatters[xe];if(typeof Ke=="function"){let Ve=R[he];U=Ke.call(L,Ve),R.splice(he,1),he--}return U}),e.formatArgs.call(L,R),(L.log||e.log).apply(L,R)}return x.namespace=m,x.useColors=e.useColors(),x.color=e.selectColor(m),x.extend=i,x.destroy=e.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(w!==e.namespaces&&(w=e.namespaces,O=e.enabled(m)),O),set:R=>{y=R}}),typeof e.init=="function"&&e.init(x),x}function i(m,b){let y=e(this.namespace+(typeof b>"u"?":":b)+m);return y.log=this.log,y}function n(m){e.save(m),e.namespaces=m,e.names=[],e.skips=[];let b,y=(typeof m=="string"?m:"").split(/[\s,]+/),w=y.length;for(b=0;b<w;b++)y[b]&&(m=y[b].replace(/\*/g,".*?"),m[0]==="-"?e.skips.push(new RegExp("^"+m.slice(1)+"$")):e.names.push(new RegExp("^"+m+"$")))}function o(){let m=[...e.names.map(l),...e.skips.map(l).map(b=>"-"+b)].join(",");return e.enable(""),m}function u(m){if(m[m.length-1]==="*")return!0;let b,y;for(b=0,y=e.skips.length;b<y;b++)if(e.skips[b].test(m))return!1;for(b=0,y=e.names.length;b<y;b++)if(e.names[b].test(m))return!0;return!1}function l(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}function c(m){return m instanceof Error?m.stack||m.message:m}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e.enable(e.load()),e}vS.exports=mB});var gS=T((or,pd)=>{p();or.formatArgs=gB;or.save=bB;or.load=yB;or.useColors=vB;or.storage=_B();or.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();or.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function vB(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function gB(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+pd.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;r.splice(1,0,t,"color: inherit");let e=0,i=0;r[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(e++,n==="%c"&&(i=e))}),r.splice(i,0,t)}or.log=console.debug||console.log||(()=>{});function bB(r){try{r?or.storage.setItem("debug",r):or.storage.removeItem("debug")}catch{}}function yB(){let r;try{r=or.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=v.DEBUG),r}function _B(){try{return localStorage}catch{}}pd.exports=xg()(or);var{formatters:wB}=pd.exports;wB.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var yS=T((Nie,bS)=>{"use strict";p();bS.exports=(r,t=process.argv)=>{let e=r.startsWith("-")?"":r.length===1?"-":"--",i=t.indexOf(e+r),n=t.indexOf("--");return i!==-1&&(n===-1||i<n)}});var ES=T((Die,wS)=>{"use strict";p();var EB=require("os"),_S=require("tty"),yr=yS(),{env:_t}=process,Qi;yr("no-color")||yr("no-colors")||yr("color=false")||yr("color=never")?Qi=0:(yr("color")||yr("colors")||yr("color=true")||yr("color=always"))&&(Qi=1);"FORCE_COLOR"in _t&&(_t.FORCE_COLOR==="true"?Qi=1:_t.FORCE_COLOR==="false"?Qi=0:Qi=_t.FORCE_COLOR.length===0?1:Math.min(parseInt(_t.FORCE_COLOR,10),3));function Cg(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function Mg(r,t){if(Qi===0)return 0;if(yr("color=16m")||yr("color=full")||yr("color=truecolor"))return 3;if(yr("color=256"))return 2;if(r&&!t&&Qi===void 0)return 0;let e=Qi||0;if(_t.TERM==="dumb")return e;if(process.platform==="win32"){let i=EB.release().split(".");return Number(i[0])>=10&&Number(i[2])>=10586?Number(i[2])>=14931?3:2:1}if("CI"in _t)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(i=>i in _t)||_t.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in _t)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(_t.TEAMCITY_VERSION)?1:0;if(_t.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in _t){let i=parseInt((_t.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(_t.TERM_PROGRAM){case"iTerm.app":return i>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(_t.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(_t.TERM)||"COLORTERM"in _t?1:e}function SB(r){let t=Mg(r,r&&r.isTTY);return Cg(t)}wS.exports={supportsColor:SB,stdout:Cg(Mg(!0,_S.isatty(1))),stderr:Cg(Mg(!0,_S.isatty(2)))}});var OS=T((At,fd)=>{p();var OB=require("tty"),hd=require("util");At.init=IB;At.log=xB;At.formatArgs=PB;At.save=CB;At.load=MB;At.useColors=TB;At.destroy=hd.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");At.colors=[6,2,3,4,5,1];try{let r=ES();r&&(r.stderr||r).level>=2&&(At.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}At.inspectOpts=Object.keys(v).filter(r=>/^debug_/i.test(r)).reduce((r,t)=>{let e=t.substring(6).toLowerCase().replace(/_([a-z])/g,(n,o)=>o.toUpperCase()),i=v[t];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),r[e]=i,r},{});function TB(){return"colors"in At.inspectOpts?!!At.inspectOpts.colors:OB.isatty(process.stderr.fd)}function PB(r){let{namespace:t,useColors:e}=this;if(e){let i=this.color,n="\x1B[3"+(i<8?i:"8;5;"+i),o=`  ${n};1m${t} \x1B[0m`;r[0]=o+r[0].split(`
`).join(`
`+o),r.push(n+"m+"+fd.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=AB()+t+" "+r[0]}function AB(){return At.inspectOpts.hideDate?"":new Date().toISOString()+" "}function xB(...r){return process.stderr.write(hd.format(...r)+`
`)}function CB(r){r?v.DEBUG=r:delete v.DEBUG}function MB(){return v.DEBUG}function IB(r){r.inspectOpts={};let t=Object.keys(At.inspectOpts);for(let e=0;e<t.length;e++)r.inspectOpts[t[e]]=At.inspectOpts[t[e]]}fd.exports=xg()(At);var{formatters:SS}=fd.exports;SS.o=function(r){return this.inspectOpts.colors=this.useColors,hd.inspect(r,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};SS.O=function(r){return this.inspectOpts.colors=this.useColors,hd.inspect(r,this.inspectOpts)}});var Lg=T((jie,Ig)=>{p();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Ig.exports=gS():Ig.exports=OS()});var md=T((Kie,PS)=>{p();function LB(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}PS.exports=LB});var xS=T((Xie,AS)=>{p();var RB=typeof global=="object"&&global&&global.Object===Object&&global;AS.exports=RB});var kg=T((ene,CS)=>{p();var kB=xS(),NB=typeof self=="object"&&self&&self.Object===Object&&self,FB=kB||NB||Function("return this")();CS.exports=FB});var IS=T((rne,MS)=>{p();var DB=kg(),qB=function(){return DB.Date.now()};MS.exports=qB});var RS=T((nne,LS)=>{p();var $B=/\s/;function jB(r){for(var t=r.length;t--&&$B.test(r.charAt(t)););return t}LS.exports=jB});var NS=T((sne,kS)=>{p();var BB=RS(),WB=/^\s+/;function UB(r){return r&&r.slice(0,BB(r)+1).replace(WB,"")}kS.exports=UB});var Ng=T((une,FS)=>{p();var HB=kg(),zB=HB.Symbol;FS.exports=zB});var jS=T((cne,$S)=>{p();var DS=Ng(),qS=Object.prototype,VB=qS.hasOwnProperty,GB=qS.toString,yu=DS?DS.toStringTag:void 0;function ZB(r){var t=VB.call(r,yu),e=r[yu];try{r[yu]=void 0;var i=!0}catch{}var n=GB.call(r);return i&&(t?r[yu]=e:delete r[yu]),n}$S.exports=ZB});var WS=T((pne,BS)=>{p();var JB=Object.prototype,KB=JB.toString;function YB(r){return KB.call(r)}BS.exports=YB});var VS=T((fne,zS)=>{p();var US=Ng(),XB=jS(),QB=WS(),e2="[object Null]",t2="[object Undefined]",HS=US?US.toStringTag:void 0;function r2(r){return r==null?r===void 0?t2:e2:HS&&HS in Object(r)?XB(r):QB(r)}zS.exports=r2});var ZS=T((vne,GS)=>{p();function i2(r){return r!=null&&typeof r=="object"}GS.exports=i2});var KS=T((bne,JS)=>{p();var n2=VS(),o2=ZS(),s2="[object Symbol]";function a2(r){return typeof r=="symbol"||o2(r)&&n2(r)==s2}JS.exports=a2});var eO=T((_ne,QS)=>{p();var u2=NS(),YS=md(),l2=KS(),XS=NaN,c2=/^[-+]0x[0-9a-f]+$/i,d2=/^0b[01]+$/i,p2=/^0o[0-7]+$/i,h2=parseInt;function f2(r){if(typeof r=="number")return r;if(l2(r))return XS;if(YS(r)){var t=typeof r.valueOf=="function"?r.valueOf():r;r=YS(t)?t+"":t}if(typeof r!="string")return r===0?r:+r;r=u2(r);var e=d2.test(r);return e||p2.test(r)?h2(r.slice(2),e?2:8):c2.test(r)?XS:+r}QS.exports=f2});var iO=T((Ene,rO)=>{p();var m2=md(),Fg=IS(),tO=eO(),v2="Expected a function",g2=Math.max,b2=Math.min;function y2(r,t,e){var i,n,o,u,l,c,h=0,m=!1,b=!1,y=!0;if(typeof r!="function")throw new TypeError(v2);t=tO(t)||0,m2(e)&&(m=!!e.leading,b="maxWait"in e,o=b?g2(tO(e.maxWait)||0,t):o,y="trailing"in e?!!e.trailing:y);function w(U){var xe=i,Ke=n;return i=n=void 0,h=U,u=r.apply(Ke,xe),u}function O(U){return h=U,l=setTimeout(L,t),m?w(U):u}function x(U){var xe=U-c,Ke=U-h,Ve=t-xe;return b?b2(Ve,o-Ke):Ve}function R(U){var xe=U-c,Ke=U-h;return c===void 0||xe>=t||xe<0||b&&Ke>=o}function L(){var U=Fg();if(R(U))return W(U);l=setTimeout(L,x(U))}function W(U){return l=void 0,y&&i?w(U):(i=n=void 0,u)}function Y(){l!==void 0&&clearTimeout(l),h=0,i=c=n=l=void 0}function he(){return l===void 0?u:W(Fg())}function we(){var U=Fg(),xe=R(U);if(i=arguments,n=this,c=U,xe){if(l===void 0)return O(c);if(b)return clearTimeout(l),l=setTimeout(L,t),w(c)}return l===void 0&&(l=setTimeout(L,t)),u}return we.cancel=Y,we.flush=he,we}rO.exports=y2});var Dg=T((One,nO)=>{p();var _2=iO(),w2=md(),E2="Expected a function";function S2(r,t,e){var i=!0,n=!0;if(typeof r!="function")throw new TypeError(E2);return w2(e)&&(i="leading"in e?!!e.leading:i,n="trailing"in e?!!e.trailing:n),_2(r,t,{leading:i,maxWait:t,trailing:n})}nO.exports=S2});var eo=T((ws,_u)=>{p();(function(){var r,t="4.17.21",e=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",n="Expected a function",o="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",l=500,c="__lodash_placeholder__",h=1,m=2,b=4,y=1,w=2,O=1,x=2,R=4,L=8,W=16,Y=32,he=64,we=128,U=256,xe=512,Ke=30,Ve="...",dt=800,cr=16,Kr=1,mc=2,vc=3,Yr=1/0,Ar=9007199254740991,gc=17976931348623157e292,bc=NaN,Xr=4294967295,vR=Xr-1,gR=Xr>>>1,bR=[["ary",we],["bind",O],["bindKey",x],["curry",L],["curryRight",W],["flip",xe],["partial",Y],["partialRight",he],["rearg",U]],is="[object Arguments]",yc="[object Array]",yR="[object AsyncFunction]",Ka="[object Boolean]",Ya="[object Date]",_R="[object DOMException]",_c="[object Error]",wc="[object Function]",Nw="[object GeneratorFunction]",xr="[object Map]",Xa="[object Number]",wR="[object Null]",vi="[object Object]",Fw="[object Promise]",ER="[object Proxy]",Qa="[object RegExp]",Cr="[object Set]",eu="[object String]",Ec="[object Symbol]",SR="[object Undefined]",tu="[object WeakMap]",OR="[object WeakSet]",ru="[object ArrayBuffer]",ns="[object DataView]",av="[object Float32Array]",uv="[object Float64Array]",lv="[object Int8Array]",cv="[object Int16Array]",dv="[object Int32Array]",pv="[object Uint8Array]",hv="[object Uint8ClampedArray]",fv="[object Uint16Array]",mv="[object Uint32Array]",TR=/\b__p \+= '';/g,PR=/\b(__p \+=) '' \+/g,AR=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Dw=/&(?:amp|lt|gt|quot|#39);/g,qw=/[&<>"']/g,xR=RegExp(Dw.source),CR=RegExp(qw.source),MR=/<%-([\s\S]+?)%>/g,IR=/<%([\s\S]+?)%>/g,$w=/<%=([\s\S]+?)%>/g,LR=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,RR=/^\w*$/,kR=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vv=/[\\^$.*+?()[\]{}|]/g,NR=RegExp(vv.source),gv=/^\s+/,FR=/\s/,DR=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qR=/\{\n\/\* \[wrapped with (.+)\] \*/,$R=/,? & /,jR=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,BR=/[()=,{}\[\]\/\s]/,WR=/\\(\\)?/g,UR=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jw=/\w*$/,HR=/^[-+]0x[0-9a-f]+$/i,zR=/^0b[01]+$/i,VR=/^\[object .+?Constructor\]$/,GR=/^0o[0-7]+$/i,ZR=/^(?:0|[1-9]\d*)$/,JR=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Sc=/($^)/,KR=/['\n\r\u2028\u2029\\]/g,Oc="\\ud800-\\udfff",YR="\\u0300-\\u036f",XR="\\ufe20-\\ufe2f",QR="\\u20d0-\\u20ff",Bw=YR+XR+QR,Ww="\\u2700-\\u27bf",Uw="a-z\\xdf-\\xf6\\xf8-\\xff",ek="\\xac\\xb1\\xd7\\xf7",tk="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rk="\\u2000-\\u206f",ik=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Hw="A-Z\\xc0-\\xd6\\xd8-\\xde",zw="\\ufe0e\\ufe0f",Vw=ek+tk+rk+ik,bv="['\u2019]",nk="["+Oc+"]",Gw="["+Vw+"]",Tc="["+Bw+"]",Zw="\\d+",ok="["+Ww+"]",Jw="["+Uw+"]",Kw="[^"+Oc+Vw+Zw+Ww+Uw+Hw+"]",yv="\\ud83c[\\udffb-\\udfff]",sk="(?:"+Tc+"|"+yv+")",Yw="[^"+Oc+"]",_v="(?:\\ud83c[\\udde6-\\uddff]){2}",wv="[\\ud800-\\udbff][\\udc00-\\udfff]",os="["+Hw+"]",Xw="\\u200d",Qw="(?:"+Jw+"|"+Kw+")",ak="(?:"+os+"|"+Kw+")",e0="(?:"+bv+"(?:d|ll|m|re|s|t|ve))?",t0="(?:"+bv+"(?:D|LL|M|RE|S|T|VE))?",r0=sk+"?",i0="["+zw+"]?",uk="(?:"+Xw+"(?:"+[Yw,_v,wv].join("|")+")"+i0+r0+")*",lk="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ck="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",n0=i0+r0+uk,dk="(?:"+[ok,_v,wv].join("|")+")"+n0,pk="(?:"+[Yw+Tc+"?",Tc,_v,wv,nk].join("|")+")",hk=RegExp(bv,"g"),fk=RegExp(Tc,"g"),Ev=RegExp(yv+"(?="+yv+")|"+pk+n0,"g"),mk=RegExp([os+"?"+Jw+"+"+e0+"(?="+[Gw,os,"$"].join("|")+")",ak+"+"+t0+"(?="+[Gw,os+Qw,"$"].join("|")+")",os+"?"+Qw+"+"+e0,os+"+"+t0,ck,lk,Zw,dk].join("|"),"g"),vk=RegExp("["+Xw+Oc+Bw+zw+"]"),gk=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bk=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],yk=-1,Je={};Je[av]=Je[uv]=Je[lv]=Je[cv]=Je[dv]=Je[pv]=Je[hv]=Je[fv]=Je[mv]=!0,Je[is]=Je[yc]=Je[ru]=Je[Ka]=Je[ns]=Je[Ya]=Je[_c]=Je[wc]=Je[xr]=Je[Xa]=Je[vi]=Je[Qa]=Je[Cr]=Je[eu]=Je[tu]=!1;var Ze={};Ze[is]=Ze[yc]=Ze[ru]=Ze[ns]=Ze[Ka]=Ze[Ya]=Ze[av]=Ze[uv]=Ze[lv]=Ze[cv]=Ze[dv]=Ze[xr]=Ze[Xa]=Ze[vi]=Ze[Qa]=Ze[Cr]=Ze[eu]=Ze[Ec]=Ze[pv]=Ze[hv]=Ze[fv]=Ze[mv]=!0,Ze[_c]=Ze[wc]=Ze[tu]=!1;var _k={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},wk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ek={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Sk={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ok=parseFloat,Tk=parseInt,o0=typeof global=="object"&&global&&global.Object===Object&&global,Pk=typeof self=="object"&&self&&self.Object===Object&&self,bt=o0||Pk||Function("return this")(),Sv=typeof ws=="object"&&ws&&!ws.nodeType&&ws,Hn=Sv&&typeof _u=="object"&&_u&&!_u.nodeType&&_u,s0=Hn&&Hn.exports===Sv,Ov=s0&&o0.process,dr=function(){try{var C=Hn&&Hn.require&&Hn.require("util").types;return C||Ov&&Ov.binding&&Ov.binding("util")}catch{}}(),a0=dr&&dr.isArrayBuffer,u0=dr&&dr.isDate,l0=dr&&dr.isMap,c0=dr&&dr.isRegExp,d0=dr&&dr.isSet,p0=dr&&dr.isTypedArray;function Qt(C,N,I){switch(I.length){case 0:return C.call(N);case 1:return C.call(N,I[0]);case 2:return C.call(N,I[0],I[1]);case 3:return C.call(N,I[0],I[1],I[2])}return C.apply(N,I)}function Ak(C,N,I,J){for(var fe=-1,Fe=C==null?0:C.length;++fe<Fe;){var vt=C[fe];N(J,vt,I(vt),C)}return J}function pr(C,N){for(var I=-1,J=C==null?0:C.length;++I<J&&N(C[I],I,C)!==!1;);return C}function xk(C,N){for(var I=C==null?0:C.length;I--&&N(C[I],I,C)!==!1;);return C}function h0(C,N){for(var I=-1,J=C==null?0:C.length;++I<J;)if(!N(C[I],I,C))return!1;return!0}function Ui(C,N){for(var I=-1,J=C==null?0:C.length,fe=0,Fe=[];++I<J;){var vt=C[I];N(vt,I,C)&&(Fe[fe++]=vt)}return Fe}function Pc(C,N){var I=C==null?0:C.length;return!!I&&ss(C,N,0)>-1}function Tv(C,N,I){for(var J=-1,fe=C==null?0:C.length;++J<fe;)if(I(N,C[J]))return!0;return!1}function Ye(C,N){for(var I=-1,J=C==null?0:C.length,fe=Array(J);++I<J;)fe[I]=N(C[I],I,C);return fe}function Hi(C,N){for(var I=-1,J=N.length,fe=C.length;++I<J;)C[fe+I]=N[I];return C}function Pv(C,N,I,J){var fe=-1,Fe=C==null?0:C.length;for(J&&Fe&&(I=C[++fe]);++fe<Fe;)I=N(I,C[fe],fe,C);return I}function Ck(C,N,I,J){var fe=C==null?0:C.length;for(J&&fe&&(I=C[--fe]);fe--;)I=N(I,C[fe],fe,C);return I}function Av(C,N){for(var I=-1,J=C==null?0:C.length;++I<J;)if(N(C[I],I,C))return!0;return!1}var Mk=xv("length");function Ik(C){return C.split("")}function Lk(C){return C.match(jR)||[]}function f0(C,N,I){var J;return I(C,function(fe,Fe,vt){if(N(fe,Fe,vt))return J=Fe,!1}),J}function Ac(C,N,I,J){for(var fe=C.length,Fe=I+(J?1:-1);J?Fe--:++Fe<fe;)if(N(C[Fe],Fe,C))return Fe;return-1}function ss(C,N,I){return N===N?Hk(C,N,I):Ac(C,m0,I)}function Rk(C,N,I,J){for(var fe=I-1,Fe=C.length;++fe<Fe;)if(J(C[fe],N))return fe;return-1}function m0(C){return C!==C}function v0(C,N){var I=C==null?0:C.length;return I?Mv(C,N)/I:bc}function xv(C){return function(N){return N==null?r:N[C]}}function Cv(C){return function(N){return C==null?r:C[N]}}function g0(C,N,I,J,fe){return fe(C,function(Fe,vt,Ge){I=J?(J=!1,Fe):N(I,Fe,vt,Ge)}),I}function kk(C,N){var I=C.length;for(C.sort(N);I--;)C[I]=C[I].value;return C}function Mv(C,N){for(var I,J=-1,fe=C.length;++J<fe;){var Fe=N(C[J]);Fe!==r&&(I=I===r?Fe:I+Fe)}return I}function Iv(C,N){for(var I=-1,J=Array(C);++I<C;)J[I]=N(I);return J}function Nk(C,N){return Ye(N,function(I){return[I,C[I]]})}function b0(C){return C&&C.slice(0,E0(C)+1).replace(gv,"")}function er(C){return function(N){return C(N)}}function Lv(C,N){return Ye(N,function(I){return C[I]})}function iu(C,N){return C.has(N)}function y0(C,N){for(var I=-1,J=C.length;++I<J&&ss(N,C[I],0)>-1;);return I}function _0(C,N){for(var I=C.length;I--&&ss(N,C[I],0)>-1;);return I}function Fk(C,N){for(var I=C.length,J=0;I--;)C[I]===N&&++J;return J}var Dk=Cv(_k),qk=Cv(wk);function $k(C){return"\\"+Sk[C]}function jk(C,N){return C==null?r:C[N]}function as(C){return vk.test(C)}function Bk(C){return gk.test(C)}function Wk(C){for(var N,I=[];!(N=C.next()).done;)I.push(N.value);return I}function Rv(C){var N=-1,I=Array(C.size);return C.forEach(function(J,fe){I[++N]=[fe,J]}),I}function w0(C,N){return function(I){return C(N(I))}}function zi(C,N){for(var I=-1,J=C.length,fe=0,Fe=[];++I<J;){var vt=C[I];(vt===N||vt===c)&&(C[I]=c,Fe[fe++]=I)}return Fe}function xc(C){var N=-1,I=Array(C.size);return C.forEach(function(J){I[++N]=J}),I}function Uk(C){var N=-1,I=Array(C.size);return C.forEach(function(J){I[++N]=[J,J]}),I}function Hk(C,N,I){for(var J=I-1,fe=C.length;++J<fe;)if(C[J]===N)return J;return-1}function zk(C,N,I){for(var J=I+1;J--;)if(C[J]===N)return J;return J}function us(C){return as(C)?Gk(C):Mk(C)}function Mr(C){return as(C)?Zk(C):Ik(C)}function E0(C){for(var N=C.length;N--&&FR.test(C.charAt(N)););return N}var Vk=Cv(Ek);function Gk(C){for(var N=Ev.lastIndex=0;Ev.test(C);)++N;return N}function Zk(C){return C.match(Ev)||[]}function Jk(C){return C.match(mk)||[]}var Kk=function C(N){N=N==null?bt:Vi.defaults(bt.Object(),N,Vi.pick(bt,bk));var I=N.Array,J=N.Date,fe=N.Error,Fe=N.Function,vt=N.Math,Ge=N.Object,kv=N.RegExp,Yk=N.String,hr=N.TypeError,Cc=I.prototype,Xk=Fe.prototype,ls=Ge.prototype,Mc=N["__core-js_shared__"],Ic=Xk.toString,We=ls.hasOwnProperty,Qk=0,S0=function(){var s=/[^.]+$/.exec(Mc&&Mc.keys&&Mc.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Lc=ls.toString,eN=Ic.call(Ge),tN=bt._,rN=kv("^"+Ic.call(We).replace(vv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rc=s0?N.Buffer:r,Gi=N.Symbol,kc=N.Uint8Array,O0=Rc?Rc.allocUnsafe:r,Nc=w0(Ge.getPrototypeOf,Ge),T0=Ge.create,P0=ls.propertyIsEnumerable,Fc=Cc.splice,A0=Gi?Gi.isConcatSpreadable:r,nu=Gi?Gi.iterator:r,zn=Gi?Gi.toStringTag:r,Dc=function(){try{var s=Kn(Ge,"defineProperty");return s({},"",{}),s}catch{}}(),iN=N.clearTimeout!==bt.clearTimeout&&N.clearTimeout,nN=J&&J.now!==bt.Date.now&&J.now,oN=N.setTimeout!==bt.setTimeout&&N.setTimeout,qc=vt.ceil,$c=vt.floor,Nv=Ge.getOwnPropertySymbols,sN=Rc?Rc.isBuffer:r,x0=N.isFinite,aN=Cc.join,uN=w0(Ge.keys,Ge),gt=vt.max,It=vt.min,lN=J.now,cN=N.parseInt,C0=vt.random,dN=Cc.reverse,Fv=Kn(N,"DataView"),ou=Kn(N,"Map"),Dv=Kn(N,"Promise"),cs=Kn(N,"Set"),su=Kn(N,"WeakMap"),au=Kn(Ge,"create"),jc=su&&new su,ds={},pN=Yn(Fv),hN=Yn(ou),fN=Yn(Dv),mN=Yn(cs),vN=Yn(su),Bc=Gi?Gi.prototype:r,uu=Bc?Bc.valueOf:r,M0=Bc?Bc.toString:r;function E(s){if(it(s)&&!ve(s)&&!(s instanceof Me)){if(s instanceof fr)return s;if(We.call(s,"__wrapped__"))return IE(s)}return new fr(s)}var ps=function(){function s(){}return function(a){if(!et(a))return{};if(T0)return T0(a);s.prototype=a;var d=new s;return s.prototype=r,d}}();function Wc(){}function fr(s,a){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=r}E.templateSettings={escape:MR,evaluate:IR,interpolate:$w,variable:"",imports:{_:E}},E.prototype=Wc.prototype,E.prototype.constructor=E,fr.prototype=ps(Wc.prototype),fr.prototype.constructor=fr;function Me(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Xr,this.__views__=[]}function gN(){var s=new Me(this.__wrapped__);return s.__actions__=Wt(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Wt(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Wt(this.__views__),s}function bN(){if(this.__filtered__){var s=new Me(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function yN(){var s=this.__wrapped__.value(),a=this.__dir__,d=ve(s),f=a<0,g=d?s.length:0,S=IF(0,g,this.__views__),P=S.start,A=S.end,M=A-P,D=f?A:P-1,q=this.__iteratees__,$=q.length,H=0,X=It(M,this.__takeCount__);if(!d||!f&&g==M&&X==M)return eE(s,this.__actions__);var oe=[];e:for(;M--&&H<X;){D+=a;for(var Oe=-1,se=s[D];++Oe<$;){var Ce=q[Oe],Ie=Ce.iteratee,ir=Ce.type,Dt=Ie(se);if(ir==mc)se=Dt;else if(!Dt){if(ir==Kr)continue e;break e}}oe[H++]=se}return oe}Me.prototype=ps(Wc.prototype),Me.prototype.constructor=Me;function Vn(s){var a=-1,d=s==null?0:s.length;for(this.clear();++a<d;){var f=s[a];this.set(f[0],f[1])}}function _N(){this.__data__=au?au(null):{},this.size=0}function wN(s){var a=this.has(s)&&delete this.__data__[s];return this.size-=a?1:0,a}function EN(s){var a=this.__data__;if(au){var d=a[s];return d===u?r:d}return We.call(a,s)?a[s]:r}function SN(s){var a=this.__data__;return au?a[s]!==r:We.call(a,s)}function ON(s,a){var d=this.__data__;return this.size+=this.has(s)?0:1,d[s]=au&&a===r?u:a,this}Vn.prototype.clear=_N,Vn.prototype.delete=wN,Vn.prototype.get=EN,Vn.prototype.has=SN,Vn.prototype.set=ON;function gi(s){var a=-1,d=s==null?0:s.length;for(this.clear();++a<d;){var f=s[a];this.set(f[0],f[1])}}function TN(){this.__data__=[],this.size=0}function PN(s){var a=this.__data__,d=Uc(a,s);if(d<0)return!1;var f=a.length-1;return d==f?a.pop():Fc.call(a,d,1),--this.size,!0}function AN(s){var a=this.__data__,d=Uc(a,s);return d<0?r:a[d][1]}function xN(s){return Uc(this.__data__,s)>-1}function CN(s,a){var d=this.__data__,f=Uc(d,s);return f<0?(++this.size,d.push([s,a])):d[f][1]=a,this}gi.prototype.clear=TN,gi.prototype.delete=PN,gi.prototype.get=AN,gi.prototype.has=xN,gi.prototype.set=CN;function bi(s){var a=-1,d=s==null?0:s.length;for(this.clear();++a<d;){var f=s[a];this.set(f[0],f[1])}}function MN(){this.size=0,this.__data__={hash:new Vn,map:new(ou||gi),string:new Vn}}function IN(s){var a=td(this,s).delete(s);return this.size-=a?1:0,a}function LN(s){return td(this,s).get(s)}function RN(s){return td(this,s).has(s)}function kN(s,a){var d=td(this,s),f=d.size;return d.set(s,a),this.size+=d.size==f?0:1,this}bi.prototype.clear=MN,bi.prototype.delete=IN,bi.prototype.get=LN,bi.prototype.has=RN,bi.prototype.set=kN;function Gn(s){var a=-1,d=s==null?0:s.length;for(this.__data__=new bi;++a<d;)this.add(s[a])}function NN(s){return this.__data__.set(s,u),this}function FN(s){return this.__data__.has(s)}Gn.prototype.add=Gn.prototype.push=NN,Gn.prototype.has=FN;function Ir(s){var a=this.__data__=new gi(s);this.size=a.size}function DN(){this.__data__=new gi,this.size=0}function qN(s){var a=this.__data__,d=a.delete(s);return this.size=a.size,d}function $N(s){return this.__data__.get(s)}function jN(s){return this.__data__.has(s)}function BN(s,a){var d=this.__data__;if(d instanceof gi){var f=d.__data__;if(!ou||f.length<e-1)return f.push([s,a]),this.size=++d.size,this;d=this.__data__=new bi(f)}return d.set(s,a),this.size=d.size,this}Ir.prototype.clear=DN,Ir.prototype.delete=qN,Ir.prototype.get=$N,Ir.prototype.has=jN,Ir.prototype.set=BN;function I0(s,a){var d=ve(s),f=!d&&Xn(s),g=!d&&!f&&Xi(s),S=!d&&!f&&!g&&vs(s),P=d||f||g||S,A=P?Iv(s.length,Yk):[],M=A.length;for(var D in s)(a||We.call(s,D))&&!(P&&(D=="length"||g&&(D=="offset"||D=="parent")||S&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||Ei(D,M)))&&A.push(D);return A}function L0(s){var a=s.length;return a?s[Zv(0,a-1)]:r}function WN(s,a){return rd(Wt(s),Zn(a,0,s.length))}function UN(s){return rd(Wt(s))}function qv(s,a,d){(d!==r&&!Lr(s[a],d)||d===r&&!(a in s))&&yi(s,a,d)}function lu(s,a,d){var f=s[a];(!(We.call(s,a)&&Lr(f,d))||d===r&&!(a in s))&&yi(s,a,d)}function Uc(s,a){for(var d=s.length;d--;)if(Lr(s[d][0],a))return d;return-1}function HN(s,a,d,f){return Zi(s,function(g,S,P){a(f,g,d(g),P)}),f}function R0(s,a){return s&&ei(a,yt(a),s)}function zN(s,a){return s&&ei(a,Ht(a),s)}function yi(s,a,d){a=="__proto__"&&Dc?Dc(s,a,{configurable:!0,enumerable:!0,value:d,writable:!0}):s[a]=d}function $v(s,a){for(var d=-1,f=a.length,g=I(f),S=s==null;++d<f;)g[d]=S?r:yg(s,a[d]);return g}function Zn(s,a,d){return s===s&&(d!==r&&(s=s<=d?s:d),a!==r&&(s=s>=a?s:a)),s}function mr(s,a,d,f,g,S){var P,A=a&h,M=a&m,D=a&b;if(d&&(P=g?d(s,f,g,S):d(s)),P!==r)return P;if(!et(s))return s;var q=ve(s);if(q){if(P=RF(s),!A)return Wt(s,P)}else{var $=Lt(s),H=$==wc||$==Nw;if(Xi(s))return iE(s,A);if($==vi||$==is||H&&!g){if(P=M||H?{}:EE(s),!A)return M?EF(s,zN(P,s)):wF(s,R0(P,s))}else{if(!Ze[$])return g?s:{};P=kF(s,$,A)}}S||(S=new Ir);var X=S.get(s);if(X)return X;S.set(s,P),YE(s)?s.forEach(function(se){P.add(mr(se,a,d,se,s,S))}):JE(s)&&s.forEach(function(se,Ce){P.set(Ce,mr(se,a,d,Ce,s,S))});var oe=D?M?og:ng:M?Ht:yt,Oe=q?r:oe(s);return pr(Oe||s,function(se,Ce){Oe&&(Ce=se,se=s[Ce]),lu(P,Ce,mr(se,a,d,Ce,s,S))}),P}function VN(s){var a=yt(s);return function(d){return k0(d,s,a)}}function k0(s,a,d){var f=d.length;if(s==null)return!f;for(s=Ge(s);f--;){var g=d[f],S=a[g],P=s[g];if(P===r&&!(g in s)||!S(P))return!1}return!0}function N0(s,a,d){if(typeof s!="function")throw new hr(n);return vu(function(){s.apply(r,d)},a)}function cu(s,a,d,f){var g=-1,S=Pc,P=!0,A=s.length,M=[],D=a.length;if(!A)return M;d&&(a=Ye(a,er(d))),f?(S=Tv,P=!1):a.length>=e&&(S=iu,P=!1,a=new Gn(a));e:for(;++g<A;){var q=s[g],$=d==null?q:d(q);if(q=f||q!==0?q:0,P&&$===$){for(var H=D;H--;)if(a[H]===$)continue e;M.push(q)}else S(a,$,f)||M.push(q)}return M}var Zi=uE(Qr),F0=uE(Bv,!0);function GN(s,a){var d=!0;return Zi(s,function(f,g,S){return d=!!a(f,g,S),d}),d}function Hc(s,a,d){for(var f=-1,g=s.length;++f<g;){var S=s[f],P=a(S);if(P!=null&&(A===r?P===P&&!rr(P):d(P,A)))var A=P,M=S}return M}function ZN(s,a,d,f){var g=s.length;for(d=Ee(d),d<0&&(d=-d>g?0:g+d),f=f===r||f>g?g:Ee(f),f<0&&(f+=g),f=d>f?0:QE(f);d<f;)s[d++]=a;return s}function D0(s,a){var d=[];return Zi(s,function(f,g,S){a(f,g,S)&&d.push(f)}),d}function Pt(s,a,d,f,g){var S=-1,P=s.length;for(d||(d=FF),g||(g=[]);++S<P;){var A=s[S];a>0&&d(A)?a>1?Pt(A,a-1,d,f,g):Hi(g,A):f||(g[g.length]=A)}return g}var jv=lE(),q0=lE(!0);function Qr(s,a){return s&&jv(s,a,yt)}function Bv(s,a){return s&&q0(s,a,yt)}function zc(s,a){return Ui(a,function(d){return Si(s[d])})}function Jn(s,a){a=Ki(a,s);for(var d=0,f=a.length;s!=null&&d<f;)s=s[ti(a[d++])];return d&&d==f?s:r}function $0(s,a,d){var f=a(s);return ve(s)?f:Hi(f,d(s))}function Nt(s){return s==null?s===r?SR:wR:zn&&zn in Ge(s)?MF(s):UF(s)}function Wv(s,a){return s>a}function JN(s,a){return s!=null&&We.call(s,a)}function KN(s,a){return s!=null&&a in Ge(s)}function YN(s,a,d){return s>=It(a,d)&&s<gt(a,d)}function Uv(s,a,d){for(var f=d?Tv:Pc,g=s[0].length,S=s.length,P=S,A=I(S),M=1/0,D=[];P--;){var q=s[P];P&&a&&(q=Ye(q,er(a))),M=It(q.length,M),A[P]=!d&&(a||g>=120&&q.length>=120)?new Gn(P&&q):r}q=s[0];var $=-1,H=A[0];e:for(;++$<g&&D.length<M;){var X=q[$],oe=a?a(X):X;if(X=d||X!==0?X:0,!(H?iu(H,oe):f(D,oe,d))){for(P=S;--P;){var Oe=A[P];if(!(Oe?iu(Oe,oe):f(s[P],oe,d)))continue e}H&&H.push(oe),D.push(X)}}return D}function XN(s,a,d,f){return Qr(s,function(g,S,P){a(f,d(g),S,P)}),f}function du(s,a,d){a=Ki(a,s),s=PE(s,a);var f=s==null?s:s[ti(gr(a))];return f==null?r:Qt(f,s,d)}function j0(s){return it(s)&&Nt(s)==is}function QN(s){return it(s)&&Nt(s)==ru}function eF(s){return it(s)&&Nt(s)==Ya}function pu(s,a,d,f,g){return s===a?!0:s==null||a==null||!it(s)&&!it(a)?s!==s&&a!==a:tF(s,a,d,f,pu,g)}function tF(s,a,d,f,g,S){var P=ve(s),A=ve(a),M=P?yc:Lt(s),D=A?yc:Lt(a);M=M==is?vi:M,D=D==is?vi:D;var q=M==vi,$=D==vi,H=M==D;if(H&&Xi(s)){if(!Xi(a))return!1;P=!0,q=!1}if(H&&!q)return S||(S=new Ir),P||vs(s)?yE(s,a,d,f,g,S):xF(s,a,M,d,f,g,S);if(!(d&y)){var X=q&&We.call(s,"__wrapped__"),oe=$&&We.call(a,"__wrapped__");if(X||oe){var Oe=X?s.value():s,se=oe?a.value():a;return S||(S=new Ir),g(Oe,se,d,f,S)}}return H?(S||(S=new Ir),CF(s,a,d,f,g,S)):!1}function rF(s){return it(s)&&Lt(s)==xr}function Hv(s,a,d,f){var g=d.length,S=g,P=!f;if(s==null)return!S;for(s=Ge(s);g--;){var A=d[g];if(P&&A[2]?A[1]!==s[A[0]]:!(A[0]in s))return!1}for(;++g<S;){A=d[g];var M=A[0],D=s[M],q=A[1];if(P&&A[2]){if(D===r&&!(M in s))return!1}else{var $=new Ir;if(f)var H=f(D,q,M,s,a,$);if(!(H===r?pu(q,D,y|w,f,$):H))return!1}}return!0}function B0(s){if(!et(s)||qF(s))return!1;var a=Si(s)?rN:VR;return a.test(Yn(s))}function iF(s){return it(s)&&Nt(s)==Qa}function nF(s){return it(s)&&Lt(s)==Cr}function oF(s){return it(s)&&ud(s.length)&&!!Je[Nt(s)]}function W0(s){return typeof s=="function"?s:s==null?zt:typeof s=="object"?ve(s)?z0(s[0],s[1]):H0(s):cS(s)}function zv(s){if(!mu(s))return uN(s);var a=[];for(var d in Ge(s))We.call(s,d)&&d!="constructor"&&a.push(d);return a}function sF(s){if(!et(s))return WF(s);var a=mu(s),d=[];for(var f in s)f=="constructor"&&(a||!We.call(s,f))||d.push(f);return d}function Vv(s,a){return s<a}function U0(s,a){var d=-1,f=Ut(s)?I(s.length):[];return Zi(s,function(g,S,P){f[++d]=a(g,S,P)}),f}function H0(s){var a=ag(s);return a.length==1&&a[0][2]?OE(a[0][0],a[0][1]):function(d){return d===s||Hv(d,s,a)}}function z0(s,a){return lg(s)&&SE(a)?OE(ti(s),a):function(d){var f=yg(d,s);return f===r&&f===a?_g(d,s):pu(a,f,y|w)}}function Vc(s,a,d,f,g){s!==a&&jv(a,function(S,P){if(g||(g=new Ir),et(S))aF(s,a,P,d,Vc,f,g);else{var A=f?f(dg(s,P),S,P+"",s,a,g):r;A===r&&(A=S),qv(s,P,A)}},Ht)}function aF(s,a,d,f,g,S,P){var A=dg(s,d),M=dg(a,d),D=P.get(M);if(D){qv(s,d,D);return}var q=S?S(A,M,d+"",s,a,P):r,$=q===r;if($){var H=ve(M),X=!H&&Xi(M),oe=!H&&!X&&vs(M);q=M,H||X||oe?ve(A)?q=A:at(A)?q=Wt(A):X?($=!1,q=iE(M,!0)):oe?($=!1,q=nE(M,!0)):q=[]:gu(M)||Xn(M)?(q=A,Xn(A)?q=eS(A):(!et(A)||Si(A))&&(q=EE(M))):$=!1}$&&(P.set(M,q),g(q,M,f,S,P),P.delete(M)),qv(s,d,q)}function V0(s,a){var d=s.length;if(d)return a+=a<0?d:0,Ei(a,d)?s[a]:r}function G0(s,a,d){a.length?a=Ye(a,function(S){return ve(S)?function(P){return Jn(P,S.length===1?S[0]:S)}:S}):a=[zt];var f=-1;a=Ye(a,er(ie()));var g=U0(s,function(S,P,A){var M=Ye(a,function(D){return D(S)});return{criteria:M,index:++f,value:S}});return kk(g,function(S,P){return _F(S,P,d)})}function uF(s,a){return Z0(s,a,function(d,f){return _g(s,f)})}function Z0(s,a,d){for(var f=-1,g=a.length,S={};++f<g;){var P=a[f],A=Jn(s,P);d(A,P)&&hu(S,Ki(P,s),A)}return S}function lF(s){return function(a){return Jn(a,s)}}function Gv(s,a,d,f){var g=f?Rk:ss,S=-1,P=a.length,A=s;for(s===a&&(a=Wt(a)),d&&(A=Ye(s,er(d)));++S<P;)for(var M=0,D=a[S],q=d?d(D):D;(M=g(A,q,M,f))>-1;)A!==s&&Fc.call(A,M,1),Fc.call(s,M,1);return s}function J0(s,a){for(var d=s?a.length:0,f=d-1;d--;){var g=a[d];if(d==f||g!==S){var S=g;Ei(g)?Fc.call(s,g,1):Yv(s,g)}}return s}function Zv(s,a){return s+$c(C0()*(a-s+1))}function cF(s,a,d,f){for(var g=-1,S=gt(qc((a-s)/(d||1)),0),P=I(S);S--;)P[f?S:++g]=s,s+=d;return P}function Jv(s,a){var d="";if(!s||a<1||a>Ar)return d;do a%2&&(d+=s),a=$c(a/2),a&&(s+=s);while(a);return d}function Pe(s,a){return pg(TE(s,a,zt),s+"")}function dF(s){return L0(gs(s))}function pF(s,a){var d=gs(s);return rd(d,Zn(a,0,d.length))}function hu(s,a,d,f){if(!et(s))return s;a=Ki(a,s);for(var g=-1,S=a.length,P=S-1,A=s;A!=null&&++g<S;){var M=ti(a[g]),D=d;if(M==="__proto__"||M==="constructor"||M==="prototype")return s;if(g!=P){var q=A[M];D=f?f(q,M,A):r,D===r&&(D=et(q)?q:Ei(a[g+1])?[]:{})}lu(A,M,D),A=A[M]}return s}var K0=jc?function(s,a){return jc.set(s,a),s}:zt,hF=Dc?function(s,a){return Dc(s,"toString",{configurable:!0,enumerable:!1,value:Eg(a),writable:!0})}:zt;function fF(s){return rd(gs(s))}function vr(s,a,d){var f=-1,g=s.length;a<0&&(a=-a>g?0:g+a),d=d>g?g:d,d<0&&(d+=g),g=a>d?0:d-a>>>0,a>>>=0;for(var S=I(g);++f<g;)S[f]=s[f+a];return S}function mF(s,a){var d;return Zi(s,function(f,g,S){return d=a(f,g,S),!d}),!!d}function Gc(s,a,d){var f=0,g=s==null?f:s.length;if(typeof a=="number"&&a===a&&g<=gR){for(;f<g;){var S=f+g>>>1,P=s[S];P!==null&&!rr(P)&&(d?P<=a:P<a)?f=S+1:g=S}return g}return Kv(s,a,zt,d)}function Kv(s,a,d,f){var g=0,S=s==null?0:s.length;if(S===0)return 0;a=d(a);for(var P=a!==a,A=a===null,M=rr(a),D=a===r;g<S;){var q=$c((g+S)/2),$=d(s[q]),H=$!==r,X=$===null,oe=$===$,Oe=rr($);if(P)var se=f||oe;else D?se=oe&&(f||H):A?se=oe&&H&&(f||!X):M?se=oe&&H&&!X&&(f||!Oe):X||Oe?se=!1:se=f?$<=a:$<a;se?g=q+1:S=q}return It(S,vR)}function Y0(s,a){for(var d=-1,f=s.length,g=0,S=[];++d<f;){var P=s[d],A=a?a(P):P;if(!d||!Lr(A,M)){var M=A;S[g++]=P===0?0:P}}return S}function X0(s){return typeof s=="number"?s:rr(s)?bc:+s}function tr(s){if(typeof s=="string")return s;if(ve(s))return Ye(s,tr)+"";if(rr(s))return M0?M0.call(s):"";var a=s+"";return a=="0"&&1/s==-Yr?"-0":a}function Ji(s,a,d){var f=-1,g=Pc,S=s.length,P=!0,A=[],M=A;if(d)P=!1,g=Tv;else if(S>=e){var D=a?null:PF(s);if(D)return xc(D);P=!1,g=iu,M=new Gn}else M=a?[]:A;e:for(;++f<S;){var q=s[f],$=a?a(q):q;if(q=d||q!==0?q:0,P&&$===$){for(var H=M.length;H--;)if(M[H]===$)continue e;a&&M.push($),A.push(q)}else g(M,$,d)||(M!==A&&M.push($),A.push(q))}return A}function Yv(s,a){return a=Ki(a,s),s=PE(s,a),s==null||delete s[ti(gr(a))]}function Q0(s,a,d,f){return hu(s,a,d(Jn(s,a)),f)}function Zc(s,a,d,f){for(var g=s.length,S=f?g:-1;(f?S--:++S<g)&&a(s[S],S,s););return d?vr(s,f?0:S,f?S+1:g):vr(s,f?S+1:0,f?g:S)}function eE(s,a){var d=s;return d instanceof Me&&(d=d.value()),Pv(a,function(f,g){return g.func.apply(g.thisArg,Hi([f],g.args))},d)}function Xv(s,a,d){var f=s.length;if(f<2)return f?Ji(s[0]):[];for(var g=-1,S=I(f);++g<f;)for(var P=s[g],A=-1;++A<f;)A!=g&&(S[g]=cu(S[g]||P,s[A],a,d));return Ji(Pt(S,1),a,d)}function tE(s,a,d){for(var f=-1,g=s.length,S=a.length,P={};++f<g;){var A=f<S?a[f]:r;d(P,s[f],A)}return P}function Qv(s){return at(s)?s:[]}function eg(s){return typeof s=="function"?s:zt}function Ki(s,a){return ve(s)?s:lg(s,a)?[s]:ME($e(s))}var vF=Pe;function Yi(s,a,d){var f=s.length;return d=d===r?f:d,!a&&d>=f?s:vr(s,a,d)}var rE=iN||function(s){return bt.clearTimeout(s)};function iE(s,a){if(a)return s.slice();var d=s.length,f=O0?O0(d):new s.constructor(d);return s.copy(f),f}function tg(s){var a=new s.constructor(s.byteLength);return new kc(a).set(new kc(s)),a}function gF(s,a){var d=a?tg(s.buffer):s.buffer;return new s.constructor(d,s.byteOffset,s.byteLength)}function bF(s){var a=new s.constructor(s.source,jw.exec(s));return a.lastIndex=s.lastIndex,a}function yF(s){return uu?Ge(uu.call(s)):{}}function nE(s,a){var d=a?tg(s.buffer):s.buffer;return new s.constructor(d,s.byteOffset,s.length)}function oE(s,a){if(s!==a){var d=s!==r,f=s===null,g=s===s,S=rr(s),P=a!==r,A=a===null,M=a===a,D=rr(a);if(!A&&!D&&!S&&s>a||S&&P&&M&&!A&&!D||f&&P&&M||!d&&M||!g)return 1;if(!f&&!S&&!D&&s<a||D&&d&&g&&!f&&!S||A&&d&&g||!P&&g||!M)return-1}return 0}function _F(s,a,d){for(var f=-1,g=s.criteria,S=a.criteria,P=g.length,A=d.length;++f<P;){var M=oE(g[f],S[f]);if(M){if(f>=A)return M;var D=d[f];return M*(D=="desc"?-1:1)}}return s.index-a.index}function sE(s,a,d,f){for(var g=-1,S=s.length,P=d.length,A=-1,M=a.length,D=gt(S-P,0),q=I(M+D),$=!f;++A<M;)q[A]=a[A];for(;++g<P;)($||g<S)&&(q[d[g]]=s[g]);for(;D--;)q[A++]=s[g++];return q}function aE(s,a,d,f){for(var g=-1,S=s.length,P=-1,A=d.length,M=-1,D=a.length,q=gt(S-A,0),$=I(q+D),H=!f;++g<q;)$[g]=s[g];for(var X=g;++M<D;)$[X+M]=a[M];for(;++P<A;)(H||g<S)&&($[X+d[P]]=s[g++]);return $}function Wt(s,a){var d=-1,f=s.length;for(a||(a=I(f));++d<f;)a[d]=s[d];return a}function ei(s,a,d,f){var g=!d;d||(d={});for(var S=-1,P=a.length;++S<P;){var A=a[S],M=f?f(d[A],s[A],A,d,s):r;M===r&&(M=s[A]),g?yi(d,A,M):lu(d,A,M)}return d}function wF(s,a){return ei(s,ug(s),a)}function EF(s,a){return ei(s,_E(s),a)}function Jc(s,a){return function(d,f){var g=ve(d)?Ak:HN,S=a?a():{};return g(d,s,ie(f,2),S)}}function hs(s){return Pe(function(a,d){var f=-1,g=d.length,S=g>1?d[g-1]:r,P=g>2?d[2]:r;for(S=s.length>3&&typeof S=="function"?(g--,S):r,P&&Ft(d[0],d[1],P)&&(S=g<3?r:S,g=1),a=Ge(a);++f<g;){var A=d[f];A&&s(a,A,f,S)}return a})}function uE(s,a){return function(d,f){if(d==null)return d;if(!Ut(d))return s(d,f);for(var g=d.length,S=a?g:-1,P=Ge(d);(a?S--:++S<g)&&f(P[S],S,P)!==!1;);return d}}function lE(s){return function(a,d,f){for(var g=-1,S=Ge(a),P=f(a),A=P.length;A--;){var M=P[s?A:++g];if(d(S[M],M,S)===!1)break}return a}}function SF(s,a,d){var f=a&O,g=fu(s);function S(){var P=this&&this!==bt&&this instanceof S?g:s;return P.apply(f?d:this,arguments)}return S}function cE(s){return function(a){a=$e(a);var d=as(a)?Mr(a):r,f=d?d[0]:a.charAt(0),g=d?Yi(d,1).join(""):a.slice(1);return f[s]()+g}}function fs(s){return function(a){return Pv(uS(aS(a).replace(hk,"")),s,"")}}function fu(s){return function(){var a=arguments;switch(a.length){case 0:return new s;case 1:return new s(a[0]);case 2:return new s(a[0],a[1]);case 3:return new s(a[0],a[1],a[2]);case 4:return new s(a[0],a[1],a[2],a[3]);case 5:return new s(a[0],a[1],a[2],a[3],a[4]);case 6:return new s(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new s(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var d=ps(s.prototype),f=s.apply(d,a);return et(f)?f:d}}function OF(s,a,d){var f=fu(s);function g(){for(var S=arguments.length,P=I(S),A=S,M=ms(g);A--;)P[A]=arguments[A];var D=S<3&&P[0]!==M&&P[S-1]!==M?[]:zi(P,M);if(S-=D.length,S<d)return mE(s,a,Kc,g.placeholder,r,P,D,r,r,d-S);var q=this&&this!==bt&&this instanceof g?f:s;return Qt(q,this,P)}return g}function dE(s){return function(a,d,f){var g=Ge(a);if(!Ut(a)){var S=ie(d,3);a=yt(a),d=function(A){return S(g[A],A,g)}}var P=s(a,d,f);return P>-1?g[S?a[P]:P]:r}}function pE(s){return wi(function(a){var d=a.length,f=d,g=fr.prototype.thru;for(s&&a.reverse();f--;){var S=a[f];if(typeof S!="function")throw new hr(n);if(g&&!P&&ed(S)=="wrapper")var P=new fr([],!0)}for(f=P?f:d;++f<d;){S=a[f];var A=ed(S),M=A=="wrapper"?sg(S):r;M&&cg(M[0])&&M[1]==(we|L|Y|U)&&!M[4].length&&M[9]==1?P=P[ed(M[0])].apply(P,M[3]):P=S.length==1&&cg(S)?P[A]():P.thru(S)}return function(){var D=arguments,q=D[0];if(P&&D.length==1&&ve(q))return P.plant(q).value();for(var $=0,H=d?a[$].apply(this,D):q;++$<d;)H=a[$].call(this,H);return H}})}function Kc(s,a,d,f,g,S,P,A,M,D){var q=a&we,$=a&O,H=a&x,X=a&(L|W),oe=a&xe,Oe=H?r:fu(s);function se(){for(var Ce=arguments.length,Ie=I(Ce),ir=Ce;ir--;)Ie[ir]=arguments[ir];if(X)var Dt=ms(se),nr=Fk(Ie,Dt);if(f&&(Ie=sE(Ie,f,g,X)),S&&(Ie=aE(Ie,S,P,X)),Ce-=nr,X&&Ce<D){var ut=zi(Ie,Dt);return mE(s,a,Kc,se.placeholder,d,Ie,ut,A,M,D-Ce)}var Rr=$?d:this,Ti=H?Rr[s]:s;return Ce=Ie.length,A?Ie=HF(Ie,A):oe&&Ce>1&&Ie.reverse(),q&&M<Ce&&(Ie.length=M),this&&this!==bt&&this instanceof se&&(Ti=Oe||fu(Ti)),Ti.apply(Rr,Ie)}return se}function hE(s,a){return function(d,f){return XN(d,s,a(f),{})}}function Yc(s,a){return function(d,f){var g;if(d===r&&f===r)return a;if(d!==r&&(g=d),f!==r){if(g===r)return f;typeof d=="string"||typeof f=="string"?(d=tr(d),f=tr(f)):(d=X0(d),f=X0(f)),g=s(d,f)}return g}}function rg(s){return wi(function(a){return a=Ye(a,er(ie())),Pe(function(d){var f=this;return s(a,function(g){return Qt(g,f,d)})})})}function Xc(s,a){a=a===r?" ":tr(a);var d=a.length;if(d<2)return d?Jv(a,s):a;var f=Jv(a,qc(s/us(a)));return as(a)?Yi(Mr(f),0,s).join(""):f.slice(0,s)}function TF(s,a,d,f){var g=a&O,S=fu(s);function P(){for(var A=-1,M=arguments.length,D=-1,q=f.length,$=I(q+M),H=this&&this!==bt&&this instanceof P?S:s;++D<q;)$[D]=f[D];for(;M--;)$[D++]=arguments[++A];return Qt(H,g?d:this,$)}return P}function fE(s){return function(a,d,f){return f&&typeof f!="number"&&Ft(a,d,f)&&(d=f=r),a=Oi(a),d===r?(d=a,a=0):d=Oi(d),f=f===r?a<d?1:-1:Oi(f),cF(a,d,f,s)}}function Qc(s){return function(a,d){return typeof a=="string"&&typeof d=="string"||(a=br(a),d=br(d)),s(a,d)}}function mE(s,a,d,f,g,S,P,A,M,D){var q=a&L,$=q?P:r,H=q?r:P,X=q?S:r,oe=q?r:S;a|=q?Y:he,a&=~(q?he:Y),a&R||(a&=~(O|x));var Oe=[s,a,g,X,$,oe,H,A,M,D],se=d.apply(r,Oe);return cg(s)&&AE(se,Oe),se.placeholder=f,xE(se,s,a)}function ig(s){var a=vt[s];return function(d,f){if(d=br(d),f=f==null?0:It(Ee(f),292),f&&x0(d)){var g=($e(d)+"e").split("e"),S=a(g[0]+"e"+(+g[1]+f));return g=($e(S)+"e").split("e"),+(g[0]+"e"+(+g[1]-f))}return a(d)}}var PF=cs&&1/xc(new cs([,-0]))[1]==Yr?function(s){return new cs(s)}:Tg;function vE(s){return function(a){var d=Lt(a);return d==xr?Rv(a):d==Cr?Uk(a):Nk(a,s(a))}}function _i(s,a,d,f,g,S,P,A){var M=a&x;if(!M&&typeof s!="function")throw new hr(n);var D=f?f.length:0;if(D||(a&=~(Y|he),f=g=r),P=P===r?P:gt(Ee(P),0),A=A===r?A:Ee(A),D-=g?g.length:0,a&he){var q=f,$=g;f=g=r}var H=M?r:sg(s),X=[s,a,d,f,g,q,$,S,P,A];if(H&&BF(X,H),s=X[0],a=X[1],d=X[2],f=X[3],g=X[4],A=X[9]=X[9]===r?M?0:s.length:gt(X[9]-D,0),!A&&a&(L|W)&&(a&=~(L|W)),!a||a==O)var oe=SF(s,a,d);else a==L||a==W?oe=OF(s,a,A):(a==Y||a==(O|Y))&&!g.length?oe=TF(s,a,d,f):oe=Kc.apply(r,X);var Oe=H?K0:AE;return xE(Oe(oe,X),s,a)}function gE(s,a,d,f){return s===r||Lr(s,ls[d])&&!We.call(f,d)?a:s}function bE(s,a,d,f,g,S){return et(s)&&et(a)&&(S.set(a,s),Vc(s,a,r,bE,S),S.delete(a)),s}function AF(s){return gu(s)?r:s}function yE(s,a,d,f,g,S){var P=d&y,A=s.length,M=a.length;if(A!=M&&!(P&&M>A))return!1;var D=S.get(s),q=S.get(a);if(D&&q)return D==a&&q==s;var $=-1,H=!0,X=d&w?new Gn:r;for(S.set(s,a),S.set(a,s);++$<A;){var oe=s[$],Oe=a[$];if(f)var se=P?f(Oe,oe,$,a,s,S):f(oe,Oe,$,s,a,S);if(se!==r){if(se)continue;H=!1;break}if(X){if(!Av(a,function(Ce,Ie){if(!iu(X,Ie)&&(oe===Ce||g(oe,Ce,d,f,S)))return X.push(Ie)})){H=!1;break}}else if(!(oe===Oe||g(oe,Oe,d,f,S))){H=!1;break}}return S.delete(s),S.delete(a),H}function xF(s,a,d,f,g,S,P){switch(d){case ns:if(s.byteLength!=a.byteLength||s.byteOffset!=a.byteOffset)return!1;s=s.buffer,a=a.buffer;case ru:return!(s.byteLength!=a.byteLength||!S(new kc(s),new kc(a)));case Ka:case Ya:case Xa:return Lr(+s,+a);case _c:return s.name==a.name&&s.message==a.message;case Qa:case eu:return s==a+"";case xr:var A=Rv;case Cr:var M=f&y;if(A||(A=xc),s.size!=a.size&&!M)return!1;var D=P.get(s);if(D)return D==a;f|=w,P.set(s,a);var q=yE(A(s),A(a),f,g,S,P);return P.delete(s),q;case Ec:if(uu)return uu.call(s)==uu.call(a)}return!1}function CF(s,a,d,f,g,S){var P=d&y,A=ng(s),M=A.length,D=ng(a),q=D.length;if(M!=q&&!P)return!1;for(var $=M;$--;){var H=A[$];if(!(P?H in a:We.call(a,H)))return!1}var X=S.get(s),oe=S.get(a);if(X&&oe)return X==a&&oe==s;var Oe=!0;S.set(s,a),S.set(a,s);for(var se=P;++$<M;){H=A[$];var Ce=s[H],Ie=a[H];if(f)var ir=P?f(Ie,Ce,H,a,s,S):f(Ce,Ie,H,s,a,S);if(!(ir===r?Ce===Ie||g(Ce,Ie,d,f,S):ir)){Oe=!1;break}se||(se=H=="constructor")}if(Oe&&!se){var Dt=s.constructor,nr=a.constructor;Dt!=nr&&"constructor"in s&&"constructor"in a&&!(typeof Dt=="function"&&Dt instanceof Dt&&typeof nr=="function"&&nr instanceof nr)&&(Oe=!1)}return S.delete(s),S.delete(a),Oe}function wi(s){return pg(TE(s,r,kE),s+"")}function ng(s){return $0(s,yt,ug)}function og(s){return $0(s,Ht,_E)}var sg=jc?function(s){return jc.get(s)}:Tg;function ed(s){for(var a=s.name+"",d=ds[a],f=We.call(ds,a)?d.length:0;f--;){var g=d[f],S=g.func;if(S==null||S==s)return g.name}return a}function ms(s){var a=We.call(E,"placeholder")?E:s;return a.placeholder}function ie(){var s=E.iteratee||Sg;return s=s===Sg?W0:s,arguments.length?s(arguments[0],arguments[1]):s}function td(s,a){var d=s.__data__;return DF(a)?d[typeof a=="string"?"string":"hash"]:d.map}function ag(s){for(var a=yt(s),d=a.length;d--;){var f=a[d],g=s[f];a[d]=[f,g,SE(g)]}return a}function Kn(s,a){var d=jk(s,a);return B0(d)?d:r}function MF(s){var a=We.call(s,zn),d=s[zn];try{s[zn]=r;var f=!0}catch{}var g=Lc.call(s);return f&&(a?s[zn]=d:delete s[zn]),g}var ug=Nv?function(s){return s==null?[]:(s=Ge(s),Ui(Nv(s),function(a){return P0.call(s,a)}))}:Pg,_E=Nv?function(s){for(var a=[];s;)Hi(a,ug(s)),s=Nc(s);return a}:Pg,Lt=Nt;(Fv&&Lt(new Fv(new ArrayBuffer(1)))!=ns||ou&&Lt(new ou)!=xr||Dv&&Lt(Dv.resolve())!=Fw||cs&&Lt(new cs)!=Cr||su&&Lt(new su)!=tu)&&(Lt=function(s){var a=Nt(s),d=a==vi?s.constructor:r,f=d?Yn(d):"";if(f)switch(f){case pN:return ns;case hN:return xr;case fN:return Fw;case mN:return Cr;case vN:return tu}return a});function IF(s,a,d){for(var f=-1,g=d.length;++f<g;){var S=d[f],P=S.size;switch(S.type){case"drop":s+=P;break;case"dropRight":a-=P;break;case"take":a=It(a,s+P);break;case"takeRight":s=gt(s,a-P);break}}return{start:s,end:a}}function LF(s){var a=s.match(qR);return a?a[1].split($R):[]}function wE(s,a,d){a=Ki(a,s);for(var f=-1,g=a.length,S=!1;++f<g;){var P=ti(a[f]);if(!(S=s!=null&&d(s,P)))break;s=s[P]}return S||++f!=g?S:(g=s==null?0:s.length,!!g&&ud(g)&&Ei(P,g)&&(ve(s)||Xn(s)))}function RF(s){var a=s.length,d=new s.constructor(a);return a&&typeof s[0]=="string"&&We.call(s,"index")&&(d.index=s.index,d.input=s.input),d}function EE(s){return typeof s.constructor=="function"&&!mu(s)?ps(Nc(s)):{}}function kF(s,a,d){var f=s.constructor;switch(a){case ru:return tg(s);case Ka:case Ya:return new f(+s);case ns:return gF(s,d);case av:case uv:case lv:case cv:case dv:case pv:case hv:case fv:case mv:return nE(s,d);case xr:return new f;case Xa:case eu:return new f(s);case Qa:return bF(s);case Cr:return new f;case Ec:return yF(s)}}function NF(s,a){var d=a.length;if(!d)return s;var f=d-1;return a[f]=(d>1?"& ":"")+a[f],a=a.join(d>2?", ":" "),s.replace(DR,`{
/* [wrapped with `+a+`] */
`)}function FF(s){return ve(s)||Xn(s)||!!(A0&&s&&s[A0])}function Ei(s,a){var d=typeof s;return a=a??Ar,!!a&&(d=="number"||d!="symbol"&&ZR.test(s))&&s>-1&&s%1==0&&s<a}function Ft(s,a,d){if(!et(d))return!1;var f=typeof a;return(f=="number"?Ut(d)&&Ei(a,d.length):f=="string"&&a in d)?Lr(d[a],s):!1}function lg(s,a){if(ve(s))return!1;var d=typeof s;return d=="number"||d=="symbol"||d=="boolean"||s==null||rr(s)?!0:RR.test(s)||!LR.test(s)||a!=null&&s in Ge(a)}function DF(s){var a=typeof s;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?s!=="__proto__":s===null}function cg(s){var a=ed(s),d=E[a];if(typeof d!="function"||!(a in Me.prototype))return!1;if(s===d)return!0;var f=sg(d);return!!f&&s===f[0]}function qF(s){return!!S0&&S0 in s}var $F=Mc?Si:Ag;function mu(s){var a=s&&s.constructor,d=typeof a=="function"&&a.prototype||ls;return s===d}function SE(s){return s===s&&!et(s)}function OE(s,a){return function(d){return d==null?!1:d[s]===a&&(a!==r||s in Ge(d))}}function jF(s){var a=sd(s,function(f){return d.size===l&&d.clear(),f}),d=a.cache;return a}function BF(s,a){var d=s[1],f=a[1],g=d|f,S=g<(O|x|we),P=f==we&&d==L||f==we&&d==U&&s[7].length<=a[8]||f==(we|U)&&a[7].length<=a[8]&&d==L;if(!(S||P))return s;f&O&&(s[2]=a[2],g|=d&O?0:R);var A=a[3];if(A){var M=s[3];s[3]=M?sE(M,A,a[4]):A,s[4]=M?zi(s[3],c):a[4]}return A=a[5],A&&(M=s[5],s[5]=M?aE(M,A,a[6]):A,s[6]=M?zi(s[5],c):a[6]),A=a[7],A&&(s[7]=A),f&we&&(s[8]=s[8]==null?a[8]:It(s[8],a[8])),s[9]==null&&(s[9]=a[9]),s[0]=a[0],s[1]=g,s}function WF(s){var a=[];if(s!=null)for(var d in Ge(s))a.push(d);return a}function UF(s){return Lc.call(s)}function TE(s,a,d){return a=gt(a===r?s.length-1:a,0),function(){for(var f=arguments,g=-1,S=gt(f.length-a,0),P=I(S);++g<S;)P[g]=f[a+g];g=-1;for(var A=I(a+1);++g<a;)A[g]=f[g];return A[a]=d(P),Qt(s,this,A)}}function PE(s,a){return a.length<2?s:Jn(s,vr(a,0,-1))}function HF(s,a){for(var d=s.length,f=It(a.length,d),g=Wt(s);f--;){var S=a[f];s[f]=Ei(S,d)?g[S]:r}return s}function dg(s,a){if(!(a==="constructor"&&typeof s[a]=="function")&&a!="__proto__")return s[a]}var AE=CE(K0),vu=oN||function(s,a){return bt.setTimeout(s,a)},pg=CE(hF);function xE(s,a,d){var f=a+"";return pg(s,NF(f,zF(LF(f),d)))}function CE(s){var a=0,d=0;return function(){var f=lN(),g=cr-(f-d);if(d=f,g>0){if(++a>=dt)return arguments[0]}else a=0;return s.apply(r,arguments)}}function rd(s,a){var d=-1,f=s.length,g=f-1;for(a=a===r?f:a;++d<a;){var S=Zv(d,g),P=s[S];s[S]=s[d],s[d]=P}return s.length=a,s}var ME=jF(function(s){var a=[];return s.charCodeAt(0)===46&&a.push(""),s.replace(kR,function(d,f,g,S){a.push(g?S.replace(WR,"$1"):f||d)}),a});function ti(s){if(typeof s=="string"||rr(s))return s;var a=s+"";return a=="0"&&1/s==-Yr?"-0":a}function Yn(s){if(s!=null){try{return Ic.call(s)}catch{}try{return s+""}catch{}}return""}function zF(s,a){return pr(bR,function(d){var f="_."+d[0];a&d[1]&&!Pc(s,f)&&s.push(f)}),s.sort()}function IE(s){if(s instanceof Me)return s.clone();var a=new fr(s.__wrapped__,s.__chain__);return a.__actions__=Wt(s.__actions__),a.__index__=s.__index__,a.__values__=s.__values__,a}function VF(s,a,d){(d?Ft(s,a,d):a===r)?a=1:a=gt(Ee(a),0);var f=s==null?0:s.length;if(!f||a<1)return[];for(var g=0,S=0,P=I(qc(f/a));g<f;)P[S++]=vr(s,g,g+=a);return P}function GF(s){for(var a=-1,d=s==null?0:s.length,f=0,g=[];++a<d;){var S=s[a];S&&(g[f++]=S)}return g}function ZF(){var s=arguments.length;if(!s)return[];for(var a=I(s-1),d=arguments[0],f=s;f--;)a[f-1]=arguments[f];return Hi(ve(d)?Wt(d):[d],Pt(a,1))}var JF=Pe(function(s,a){return at(s)?cu(s,Pt(a,1,at,!0)):[]}),KF=Pe(function(s,a){var d=gr(a);return at(d)&&(d=r),at(s)?cu(s,Pt(a,1,at,!0),ie(d,2)):[]}),YF=Pe(function(s,a){var d=gr(a);return at(d)&&(d=r),at(s)?cu(s,Pt(a,1,at,!0),r,d):[]});function XF(s,a,d){var f=s==null?0:s.length;return f?(a=d||a===r?1:Ee(a),vr(s,a<0?0:a,f)):[]}function QF(s,a,d){var f=s==null?0:s.length;return f?(a=d||a===r?1:Ee(a),a=f-a,vr(s,0,a<0?0:a)):[]}function eD(s,a){return s&&s.length?Zc(s,ie(a,3),!0,!0):[]}function tD(s,a){return s&&s.length?Zc(s,ie(a,3),!0):[]}function rD(s,a,d,f){var g=s==null?0:s.length;return g?(d&&typeof d!="number"&&Ft(s,a,d)&&(d=0,f=g),ZN(s,a,d,f)):[]}function LE(s,a,d){var f=s==null?0:s.length;if(!f)return-1;var g=d==null?0:Ee(d);return g<0&&(g=gt(f+g,0)),Ac(s,ie(a,3),g)}function RE(s,a,d){var f=s==null?0:s.length;if(!f)return-1;var g=f-1;return d!==r&&(g=Ee(d),g=d<0?gt(f+g,0):It(g,f-1)),Ac(s,ie(a,3),g,!0)}function kE(s){var a=s==null?0:s.length;return a?Pt(s,1):[]}function iD(s){var a=s==null?0:s.length;return a?Pt(s,Yr):[]}function nD(s,a){var d=s==null?0:s.length;return d?(a=a===r?1:Ee(a),Pt(s,a)):[]}function oD(s){for(var a=-1,d=s==null?0:s.length,f={};++a<d;){var g=s[a];f[g[0]]=g[1]}return f}function NE(s){return s&&s.length?s[0]:r}function sD(s,a,d){var f=s==null?0:s.length;if(!f)return-1;var g=d==null?0:Ee(d);return g<0&&(g=gt(f+g,0)),ss(s,a,g)}function aD(s){var a=s==null?0:s.length;return a?vr(s,0,-1):[]}var uD=Pe(function(s){var a=Ye(s,Qv);return a.length&&a[0]===s[0]?Uv(a):[]}),lD=Pe(function(s){var a=gr(s),d=Ye(s,Qv);return a===gr(d)?a=r:d.pop(),d.length&&d[0]===s[0]?Uv(d,ie(a,2)):[]}),cD=Pe(function(s){var a=gr(s),d=Ye(s,Qv);return a=typeof a=="function"?a:r,a&&d.pop(),d.length&&d[0]===s[0]?Uv(d,r,a):[]});function dD(s,a){return s==null?"":aN.call(s,a)}function gr(s){var a=s==null?0:s.length;return a?s[a-1]:r}function pD(s,a,d){var f=s==null?0:s.length;if(!f)return-1;var g=f;return d!==r&&(g=Ee(d),g=g<0?gt(f+g,0):It(g,f-1)),a===a?zk(s,a,g):Ac(s,m0,g,!0)}function hD(s,a){return s&&s.length?V0(s,Ee(a)):r}var fD=Pe(FE);function FE(s,a){return s&&s.length&&a&&a.length?Gv(s,a):s}function mD(s,a,d){return s&&s.length&&a&&a.length?Gv(s,a,ie(d,2)):s}function vD(s,a,d){return s&&s.length&&a&&a.length?Gv(s,a,r,d):s}var gD=wi(function(s,a){var d=s==null?0:s.length,f=$v(s,a);return J0(s,Ye(a,function(g){return Ei(g,d)?+g:g}).sort(oE)),f});function bD(s,a){var d=[];if(!(s&&s.length))return d;var f=-1,g=[],S=s.length;for(a=ie(a,3);++f<S;){var P=s[f];a(P,f,s)&&(d.push(P),g.push(f))}return J0(s,g),d}function hg(s){return s==null?s:dN.call(s)}function yD(s,a,d){var f=s==null?0:s.length;return f?(d&&typeof d!="number"&&Ft(s,a,d)?(a=0,d=f):(a=a==null?0:Ee(a),d=d===r?f:Ee(d)),vr(s,a,d)):[]}function _D(s,a){return Gc(s,a)}function wD(s,a,d){return Kv(s,a,ie(d,2))}function ED(s,a){var d=s==null?0:s.length;if(d){var f=Gc(s,a);if(f<d&&Lr(s[f],a))return f}return-1}function SD(s,a){return Gc(s,a,!0)}function OD(s,a,d){return Kv(s,a,ie(d,2),!0)}function TD(s,a){var d=s==null?0:s.length;if(d){var f=Gc(s,a,!0)-1;if(Lr(s[f],a))return f}return-1}function PD(s){return s&&s.length?Y0(s):[]}function AD(s,a){return s&&s.length?Y0(s,ie(a,2)):[]}function xD(s){var a=s==null?0:s.length;return a?vr(s,1,a):[]}function CD(s,a,d){return s&&s.length?(a=d||a===r?1:Ee(a),vr(s,0,a<0?0:a)):[]}function MD(s,a,d){var f=s==null?0:s.length;return f?(a=d||a===r?1:Ee(a),a=f-a,vr(s,a<0?0:a,f)):[]}function ID(s,a){return s&&s.length?Zc(s,ie(a,3),!1,!0):[]}function LD(s,a){return s&&s.length?Zc(s,ie(a,3)):[]}var RD=Pe(function(s){return Ji(Pt(s,1,at,!0))}),kD=Pe(function(s){var a=gr(s);return at(a)&&(a=r),Ji(Pt(s,1,at,!0),ie(a,2))}),ND=Pe(function(s){var a=gr(s);return a=typeof a=="function"?a:r,Ji(Pt(s,1,at,!0),r,a)});function FD(s){return s&&s.length?Ji(s):[]}function DD(s,a){return s&&s.length?Ji(s,ie(a,2)):[]}function qD(s,a){return a=typeof a=="function"?a:r,s&&s.length?Ji(s,r,a):[]}function fg(s){if(!(s&&s.length))return[];var a=0;return s=Ui(s,function(d){if(at(d))return a=gt(d.length,a),!0}),Iv(a,function(d){return Ye(s,xv(d))})}function DE(s,a){if(!(s&&s.length))return[];var d=fg(s);return a==null?d:Ye(d,function(f){return Qt(a,r,f)})}var $D=Pe(function(s,a){return at(s)?cu(s,a):[]}),jD=Pe(function(s){return Xv(Ui(s,at))}),BD=Pe(function(s){var a=gr(s);return at(a)&&(a=r),Xv(Ui(s,at),ie(a,2))}),WD=Pe(function(s){var a=gr(s);return a=typeof a=="function"?a:r,Xv(Ui(s,at),r,a)}),UD=Pe(fg);function HD(s,a){return tE(s||[],a||[],lu)}function zD(s,a){return tE(s||[],a||[],hu)}var VD=Pe(function(s){var a=s.length,d=a>1?s[a-1]:r;return d=typeof d=="function"?(s.pop(),d):r,DE(s,d)});function qE(s){var a=E(s);return a.__chain__=!0,a}function GD(s,a){return a(s),s}function id(s,a){return a(s)}var ZD=wi(function(s){var a=s.length,d=a?s[0]:0,f=this.__wrapped__,g=function(S){return $v(S,s)};return a>1||this.__actions__.length||!(f instanceof Me)||!Ei(d)?this.thru(g):(f=f.slice(d,+d+(a?1:0)),f.__actions__.push({func:id,args:[g],thisArg:r}),new fr(f,this.__chain__).thru(function(S){return a&&!S.length&&S.push(r),S}))});function JD(){return qE(this)}function KD(){return new fr(this.value(),this.__chain__)}function YD(){this.__values__===r&&(this.__values__=XE(this.value()));var s=this.__index__>=this.__values__.length,a=s?r:this.__values__[this.__index__++];return{done:s,value:a}}function XD(){return this}function QD(s){for(var a,d=this;d instanceof Wc;){var f=IE(d);f.__index__=0,f.__values__=r,a?g.__wrapped__=f:a=f;var g=f;d=d.__wrapped__}return g.__wrapped__=s,a}function eq(){var s=this.__wrapped__;if(s instanceof Me){var a=s;return this.__actions__.length&&(a=new Me(this)),a=a.reverse(),a.__actions__.push({func:id,args:[hg],thisArg:r}),new fr(a,this.__chain__)}return this.thru(hg)}function tq(){return eE(this.__wrapped__,this.__actions__)}var rq=Jc(function(s,a,d){We.call(s,d)?++s[d]:yi(s,d,1)});function iq(s,a,d){var f=ve(s)?h0:GN;return d&&Ft(s,a,d)&&(a=r),f(s,ie(a,3))}function nq(s,a){var d=ve(s)?Ui:D0;return d(s,ie(a,3))}var oq=dE(LE),sq=dE(RE);function aq(s,a){return Pt(nd(s,a),1)}function uq(s,a){return Pt(nd(s,a),Yr)}function lq(s,a,d){return d=d===r?1:Ee(d),Pt(nd(s,a),d)}function $E(s,a){var d=ve(s)?pr:Zi;return d(s,ie(a,3))}function jE(s,a){var d=ve(s)?xk:F0;return d(s,ie(a,3))}var cq=Jc(function(s,a,d){We.call(s,d)?s[d].push(a):yi(s,d,[a])});function dq(s,a,d,f){s=Ut(s)?s:gs(s),d=d&&!f?Ee(d):0;var g=s.length;return d<0&&(d=gt(g+d,0)),ld(s)?d<=g&&s.indexOf(a,d)>-1:!!g&&ss(s,a,d)>-1}var pq=Pe(function(s,a,d){var f=-1,g=typeof a=="function",S=Ut(s)?I(s.length):[];return Zi(s,function(P){S[++f]=g?Qt(a,P,d):du(P,a,d)}),S}),hq=Jc(function(s,a,d){yi(s,d,a)});function nd(s,a){var d=ve(s)?Ye:U0;return d(s,ie(a,3))}function fq(s,a,d,f){return s==null?[]:(ve(a)||(a=a==null?[]:[a]),d=f?r:d,ve(d)||(d=d==null?[]:[d]),G0(s,a,d))}var mq=Jc(function(s,a,d){s[d?0:1].push(a)},function(){return[[],[]]});function vq(s,a,d){var f=ve(s)?Pv:g0,g=arguments.length<3;return f(s,ie(a,4),d,g,Zi)}function gq(s,a,d){var f=ve(s)?Ck:g0,g=arguments.length<3;return f(s,ie(a,4),d,g,F0)}function bq(s,a){var d=ve(s)?Ui:D0;return d(s,ad(ie(a,3)))}function yq(s){var a=ve(s)?L0:dF;return a(s)}function _q(s,a,d){(d?Ft(s,a,d):a===r)?a=1:a=Ee(a);var f=ve(s)?WN:pF;return f(s,a)}function wq(s){var a=ve(s)?UN:fF;return a(s)}function Eq(s){if(s==null)return 0;if(Ut(s))return ld(s)?us(s):s.length;var a=Lt(s);return a==xr||a==Cr?s.size:zv(s).length}function Sq(s,a,d){var f=ve(s)?Av:mF;return d&&Ft(s,a,d)&&(a=r),f(s,ie(a,3))}var Oq=Pe(function(s,a){if(s==null)return[];var d=a.length;return d>1&&Ft(s,a[0],a[1])?a=[]:d>2&&Ft(a[0],a[1],a[2])&&(a=[a[0]]),G0(s,Pt(a,1),[])}),od=nN||function(){return bt.Date.now()};function Tq(s,a){if(typeof a!="function")throw new hr(n);return s=Ee(s),function(){if(--s<1)return a.apply(this,arguments)}}function BE(s,a,d){return a=d?r:a,a=s&&a==null?s.length:a,_i(s,we,r,r,r,r,a)}function WE(s,a){var d;if(typeof a!="function")throw new hr(n);return s=Ee(s),function(){return--s>0&&(d=a.apply(this,arguments)),s<=1&&(a=r),d}}var mg=Pe(function(s,a,d){var f=O;if(d.length){var g=zi(d,ms(mg));f|=Y}return _i(s,f,a,d,g)}),UE=Pe(function(s,a,d){var f=O|x;if(d.length){var g=zi(d,ms(UE));f|=Y}return _i(a,f,s,d,g)});function HE(s,a,d){a=d?r:a;var f=_i(s,L,r,r,r,r,r,a);return f.placeholder=HE.placeholder,f}function zE(s,a,d){a=d?r:a;var f=_i(s,W,r,r,r,r,r,a);return f.placeholder=zE.placeholder,f}function VE(s,a,d){var f,g,S,P,A,M,D=0,q=!1,$=!1,H=!0;if(typeof s!="function")throw new hr(n);a=br(a)||0,et(d)&&(q=!!d.leading,$="maxWait"in d,S=$?gt(br(d.maxWait)||0,a):S,H="trailing"in d?!!d.trailing:H);function X(ut){var Rr=f,Ti=g;return f=g=r,D=ut,P=s.apply(Ti,Rr),P}function oe(ut){return D=ut,A=vu(Ce,a),q?X(ut):P}function Oe(ut){var Rr=ut-M,Ti=ut-D,dS=a-Rr;return $?It(dS,S-Ti):dS}function se(ut){var Rr=ut-M,Ti=ut-D;return M===r||Rr>=a||Rr<0||$&&Ti>=S}function Ce(){var ut=od();if(se(ut))return Ie(ut);A=vu(Ce,Oe(ut))}function Ie(ut){return A=r,H&&f?X(ut):(f=g=r,P)}function ir(){A!==r&&rE(A),D=0,f=M=g=A=r}function Dt(){return A===r?P:Ie(od())}function nr(){var ut=od(),Rr=se(ut);if(f=arguments,g=this,M=ut,Rr){if(A===r)return oe(M);if($)return rE(A),A=vu(Ce,a),X(M)}return A===r&&(A=vu(Ce,a)),P}return nr.cancel=ir,nr.flush=Dt,nr}var Pq=Pe(function(s,a){return N0(s,1,a)}),Aq=Pe(function(s,a,d){return N0(s,br(a)||0,d)});function xq(s){return _i(s,xe)}function sd(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new hr(n);var d=function(){var f=arguments,g=a?a.apply(this,f):f[0],S=d.cache;if(S.has(g))return S.get(g);var P=s.apply(this,f);return d.cache=S.set(g,P)||S,P};return d.cache=new(sd.Cache||bi),d}sd.Cache=bi;function ad(s){if(typeof s!="function")throw new hr(n);return function(){var a=arguments;switch(a.length){case 0:return!s.call(this);case 1:return!s.call(this,a[0]);case 2:return!s.call(this,a[0],a[1]);case 3:return!s.call(this,a[0],a[1],a[2])}return!s.apply(this,a)}}function Cq(s){return WE(2,s)}var Mq=vF(function(s,a){a=a.length==1&&ve(a[0])?Ye(a[0],er(ie())):Ye(Pt(a,1),er(ie()));var d=a.length;return Pe(function(f){for(var g=-1,S=It(f.length,d);++g<S;)f[g]=a[g].call(this,f[g]);return Qt(s,this,f)})}),vg=Pe(function(s,a){var d=zi(a,ms(vg));return _i(s,Y,r,a,d)}),GE=Pe(function(s,a){var d=zi(a,ms(GE));return _i(s,he,r,a,d)}),Iq=wi(function(s,a){return _i(s,U,r,r,r,a)});function Lq(s,a){if(typeof s!="function")throw new hr(n);return a=a===r?a:Ee(a),Pe(s,a)}function Rq(s,a){if(typeof s!="function")throw new hr(n);return a=a==null?0:gt(Ee(a),0),Pe(function(d){var f=d[a],g=Yi(d,0,a);return f&&Hi(g,f),Qt(s,this,g)})}function kq(s,a,d){var f=!0,g=!0;if(typeof s!="function")throw new hr(n);return et(d)&&(f="leading"in d?!!d.leading:f,g="trailing"in d?!!d.trailing:g),VE(s,a,{leading:f,maxWait:a,trailing:g})}function Nq(s){return BE(s,1)}function Fq(s,a){return vg(eg(a),s)}function Dq(){if(!arguments.length)return[];var s=arguments[0];return ve(s)?s:[s]}function qq(s){return mr(s,b)}function $q(s,a){return a=typeof a=="function"?a:r,mr(s,b,a)}function jq(s){return mr(s,h|b)}function Bq(s,a){return a=typeof a=="function"?a:r,mr(s,h|b,a)}function Wq(s,a){return a==null||k0(s,a,yt(a))}function Lr(s,a){return s===a||s!==s&&a!==a}var Uq=Qc(Wv),Hq=Qc(function(s,a){return s>=a}),Xn=j0(function(){return arguments}())?j0:function(s){return it(s)&&We.call(s,"callee")&&!P0.call(s,"callee")},ve=I.isArray,zq=a0?er(a0):QN;function Ut(s){return s!=null&&ud(s.length)&&!Si(s)}function at(s){return it(s)&&Ut(s)}function Vq(s){return s===!0||s===!1||it(s)&&Nt(s)==Ka}var Xi=sN||Ag,Gq=u0?er(u0):eF;function Zq(s){return it(s)&&s.nodeType===1&&!gu(s)}function Jq(s){if(s==null)return!0;if(Ut(s)&&(ve(s)||typeof s=="string"||typeof s.splice=="function"||Xi(s)||vs(s)||Xn(s)))return!s.length;var a=Lt(s);if(a==xr||a==Cr)return!s.size;if(mu(s))return!zv(s).length;for(var d in s)if(We.call(s,d))return!1;return!0}function Kq(s,a){return pu(s,a)}function Yq(s,a,d){d=typeof d=="function"?d:r;var f=d?d(s,a):r;return f===r?pu(s,a,r,d):!!f}function gg(s){if(!it(s))return!1;var a=Nt(s);return a==_c||a==_R||typeof s.message=="string"&&typeof s.name=="string"&&!gu(s)}function Xq(s){return typeof s=="number"&&x0(s)}function Si(s){if(!et(s))return!1;var a=Nt(s);return a==wc||a==Nw||a==yR||a==ER}function ZE(s){return typeof s=="number"&&s==Ee(s)}function ud(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=Ar}function et(s){var a=typeof s;return s!=null&&(a=="object"||a=="function")}function it(s){return s!=null&&typeof s=="object"}var JE=l0?er(l0):rF;function Qq(s,a){return s===a||Hv(s,a,ag(a))}function e$(s,a,d){return d=typeof d=="function"?d:r,Hv(s,a,ag(a),d)}function t$(s){return KE(s)&&s!=+s}function r$(s){if($F(s))throw new fe(i);return B0(s)}function i$(s){return s===null}function n$(s){return s==null}function KE(s){return typeof s=="number"||it(s)&&Nt(s)==Xa}function gu(s){if(!it(s)||Nt(s)!=vi)return!1;var a=Nc(s);if(a===null)return!0;var d=We.call(a,"constructor")&&a.constructor;return typeof d=="function"&&d instanceof d&&Ic.call(d)==eN}var bg=c0?er(c0):iF;function o$(s){return ZE(s)&&s>=-Ar&&s<=Ar}var YE=d0?er(d0):nF;function ld(s){return typeof s=="string"||!ve(s)&&it(s)&&Nt(s)==eu}function rr(s){return typeof s=="symbol"||it(s)&&Nt(s)==Ec}var vs=p0?er(p0):oF;function s$(s){return s===r}function a$(s){return it(s)&&Lt(s)==tu}function u$(s){return it(s)&&Nt(s)==OR}var l$=Qc(Vv),c$=Qc(function(s,a){return s<=a});function XE(s){if(!s)return[];if(Ut(s))return ld(s)?Mr(s):Wt(s);if(nu&&s[nu])return Wk(s[nu]());var a=Lt(s),d=a==xr?Rv:a==Cr?xc:gs;return d(s)}function Oi(s){if(!s)return s===0?s:0;if(s=br(s),s===Yr||s===-Yr){var a=s<0?-1:1;return a*gc}return s===s?s:0}function Ee(s){var a=Oi(s),d=a%1;return a===a?d?a-d:a:0}function QE(s){return s?Zn(Ee(s),0,Xr):0}function br(s){if(typeof s=="number")return s;if(rr(s))return bc;if(et(s)){var a=typeof s.valueOf=="function"?s.valueOf():s;s=et(a)?a+"":a}if(typeof s!="string")return s===0?s:+s;s=b0(s);var d=zR.test(s);return d||GR.test(s)?Tk(s.slice(2),d?2:8):HR.test(s)?bc:+s}function eS(s){return ei(s,Ht(s))}function d$(s){return s?Zn(Ee(s),-Ar,Ar):s===0?s:0}function $e(s){return s==null?"":tr(s)}var p$=hs(function(s,a){if(mu(a)||Ut(a)){ei(a,yt(a),s);return}for(var d in a)We.call(a,d)&&lu(s,d,a[d])}),tS=hs(function(s,a){ei(a,Ht(a),s)}),cd=hs(function(s,a,d,f){ei(a,Ht(a),s,f)}),h$=hs(function(s,a,d,f){ei(a,yt(a),s,f)}),f$=wi($v);function m$(s,a){var d=ps(s);return a==null?d:R0(d,a)}var v$=Pe(function(s,a){s=Ge(s);var d=-1,f=a.length,g=f>2?a[2]:r;for(g&&Ft(a[0],a[1],g)&&(f=1);++d<f;)for(var S=a[d],P=Ht(S),A=-1,M=P.length;++A<M;){var D=P[A],q=s[D];(q===r||Lr(q,ls[D])&&!We.call(s,D))&&(s[D]=S[D])}return s}),g$=Pe(function(s){return s.push(r,bE),Qt(rS,r,s)});function b$(s,a){return f0(s,ie(a,3),Qr)}function y$(s,a){return f0(s,ie(a,3),Bv)}function _$(s,a){return s==null?s:jv(s,ie(a,3),Ht)}function w$(s,a){return s==null?s:q0(s,ie(a,3),Ht)}function E$(s,a){return s&&Qr(s,ie(a,3))}function S$(s,a){return s&&Bv(s,ie(a,3))}function O$(s){return s==null?[]:zc(s,yt(s))}function T$(s){return s==null?[]:zc(s,Ht(s))}function yg(s,a,d){var f=s==null?r:Jn(s,a);return f===r?d:f}function P$(s,a){return s!=null&&wE(s,a,JN)}function _g(s,a){return s!=null&&wE(s,a,KN)}var A$=hE(function(s,a,d){a!=null&&typeof a.toString!="function"&&(a=Lc.call(a)),s[a]=d},Eg(zt)),x$=hE(function(s,a,d){a!=null&&typeof a.toString!="function"&&(a=Lc.call(a)),We.call(s,a)?s[a].push(d):s[a]=[d]},ie),C$=Pe(du);function yt(s){return Ut(s)?I0(s):zv(s)}function Ht(s){return Ut(s)?I0(s,!0):sF(s)}function M$(s,a){var d={};return a=ie(a,3),Qr(s,function(f,g,S){yi(d,a(f,g,S),f)}),d}function I$(s,a){var d={};return a=ie(a,3),Qr(s,function(f,g,S){yi(d,g,a(f,g,S))}),d}var L$=hs(function(s,a,d){Vc(s,a,d)}),rS=hs(function(s,a,d,f){Vc(s,a,d,f)}),R$=wi(function(s,a){var d={};if(s==null)return d;var f=!1;a=Ye(a,function(S){return S=Ki(S,s),f||(f=S.length>1),S}),ei(s,og(s),d),f&&(d=mr(d,h|m|b,AF));for(var g=a.length;g--;)Yv(d,a[g]);return d});function k$(s,a){return iS(s,ad(ie(a)))}var N$=wi(function(s,a){return s==null?{}:uF(s,a)});function iS(s,a){if(s==null)return{};var d=Ye(og(s),function(f){return[f]});return a=ie(a),Z0(s,d,function(f,g){return a(f,g[0])})}function F$(s,a,d){a=Ki(a,s);var f=-1,g=a.length;for(g||(g=1,s=r);++f<g;){var S=s==null?r:s[ti(a[f])];S===r&&(f=g,S=d),s=Si(S)?S.call(s):S}return s}function D$(s,a,d){return s==null?s:hu(s,a,d)}function q$(s,a,d,f){return f=typeof f=="function"?f:r,s==null?s:hu(s,a,d,f)}var nS=vE(yt),oS=vE(Ht);function $$(s,a,d){var f=ve(s),g=f||Xi(s)||vs(s);if(a=ie(a,4),d==null){var S=s&&s.constructor;g?d=f?new S:[]:et(s)?d=Si(S)?ps(Nc(s)):{}:d={}}return(g?pr:Qr)(s,function(P,A,M){return a(d,P,A,M)}),d}function j$(s,a){return s==null?!0:Yv(s,a)}function B$(s,a,d){return s==null?s:Q0(s,a,eg(d))}function W$(s,a,d,f){return f=typeof f=="function"?f:r,s==null?s:Q0(s,a,eg(d),f)}function gs(s){return s==null?[]:Lv(s,yt(s))}function U$(s){return s==null?[]:Lv(s,Ht(s))}function H$(s,a,d){return d===r&&(d=a,a=r),d!==r&&(d=br(d),d=d===d?d:0),a!==r&&(a=br(a),a=a===a?a:0),Zn(br(s),a,d)}function z$(s,a,d){return a=Oi(a),d===r?(d=a,a=0):d=Oi(d),s=br(s),YN(s,a,d)}function V$(s,a,d){if(d&&typeof d!="boolean"&&Ft(s,a,d)&&(a=d=r),d===r&&(typeof a=="boolean"?(d=a,a=r):typeof s=="boolean"&&(d=s,s=r)),s===r&&a===r?(s=0,a=1):(s=Oi(s),a===r?(a=s,s=0):a=Oi(a)),s>a){var f=s;s=a,a=f}if(d||s%1||a%1){var g=C0();return It(s+g*(a-s+Ok("1e-"+((g+"").length-1))),a)}return Zv(s,a)}var G$=fs(function(s,a,d){return a=a.toLowerCase(),s+(d?sS(a):a)});function sS(s){return wg($e(s).toLowerCase())}function aS(s){return s=$e(s),s&&s.replace(JR,Dk).replace(fk,"")}function Z$(s,a,d){s=$e(s),a=tr(a);var f=s.length;d=d===r?f:Zn(Ee(d),0,f);var g=d;return d-=a.length,d>=0&&s.slice(d,g)==a}function J$(s){return s=$e(s),s&&CR.test(s)?s.replace(qw,qk):s}function K$(s){return s=$e(s),s&&NR.test(s)?s.replace(vv,"\\$&"):s}var Y$=fs(function(s,a,d){return s+(d?"-":"")+a.toLowerCase()}),X$=fs(function(s,a,d){return s+(d?" ":"")+a.toLowerCase()}),Q$=cE("toLowerCase");function ej(s,a,d){s=$e(s),a=Ee(a);var f=a?us(s):0;if(!a||f>=a)return s;var g=(a-f)/2;return Xc($c(g),d)+s+Xc(qc(g),d)}function tj(s,a,d){s=$e(s),a=Ee(a);var f=a?us(s):0;return a&&f<a?s+Xc(a-f,d):s}function rj(s,a,d){s=$e(s),a=Ee(a);var f=a?us(s):0;return a&&f<a?Xc(a-f,d)+s:s}function ij(s,a,d){return d||a==null?a=0:a&&(a=+a),cN($e(s).replace(gv,""),a||0)}function nj(s,a,d){return(d?Ft(s,a,d):a===r)?a=1:a=Ee(a),Jv($e(s),a)}function oj(){var s=arguments,a=$e(s[0]);return s.length<3?a:a.replace(s[1],s[2])}var sj=fs(function(s,a,d){return s+(d?"_":"")+a.toLowerCase()});function aj(s,a,d){return d&&typeof d!="number"&&Ft(s,a,d)&&(a=d=r),d=d===r?Xr:d>>>0,d?(s=$e(s),s&&(typeof a=="string"||a!=null&&!bg(a))&&(a=tr(a),!a&&as(s))?Yi(Mr(s),0,d):s.split(a,d)):[]}var uj=fs(function(s,a,d){return s+(d?" ":"")+wg(a)});function lj(s,a,d){return s=$e(s),d=d==null?0:Zn(Ee(d),0,s.length),a=tr(a),s.slice(d,d+a.length)==a}function cj(s,a,d){var f=E.templateSettings;d&&Ft(s,a,d)&&(a=r),s=$e(s),a=cd({},a,f,gE);var g=cd({},a.imports,f.imports,gE),S=yt(g),P=Lv(g,S),A,M,D=0,q=a.interpolate||Sc,$="__p += '",H=kv((a.escape||Sc).source+"|"+q.source+"|"+(q===$w?UR:Sc).source+"|"+(a.evaluate||Sc).source+"|$","g"),X="//# sourceURL="+(We.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++yk+"]")+`
`;s.replace(H,function(se,Ce,Ie,ir,Dt,nr){return Ie||(Ie=ir),$+=s.slice(D,nr).replace(KR,$k),Ce&&(A=!0,$+=`' +
__e(`+Ce+`) +
'`),Dt&&(M=!0,$+=`';
`+Dt+`;
__p += '`),Ie&&($+=`' +
((__t = (`+Ie+`)) == null ? '' : __t) +
'`),D=nr+se.length,se}),$+=`';
`;var oe=We.call(a,"variable")&&a.variable;if(!oe)$=`with (obj) {
`+$+`
}
`;else if(BR.test(oe))throw new fe(o);$=(M?$.replace(TR,""):$).replace(PR,"$1").replace(AR,"$1;"),$="function("+(oe||"obj")+`) {
`+(oe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(A?", __e = _.escape":"")+(M?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+$+`return __p
}`;var Oe=lS(function(){return Fe(S,X+"return "+$).apply(r,P)});if(Oe.source=$,gg(Oe))throw Oe;return Oe}function dj(s){return $e(s).toLowerCase()}function pj(s){return $e(s).toUpperCase()}function hj(s,a,d){if(s=$e(s),s&&(d||a===r))return b0(s);if(!s||!(a=tr(a)))return s;var f=Mr(s),g=Mr(a),S=y0(f,g),P=_0(f,g)+1;return Yi(f,S,P).join("")}function fj(s,a,d){if(s=$e(s),s&&(d||a===r))return s.slice(0,E0(s)+1);if(!s||!(a=tr(a)))return s;var f=Mr(s),g=_0(f,Mr(a))+1;return Yi(f,0,g).join("")}function mj(s,a,d){if(s=$e(s),s&&(d||a===r))return s.replace(gv,"");if(!s||!(a=tr(a)))return s;var f=Mr(s),g=y0(f,Mr(a));return Yi(f,g).join("")}function vj(s,a){var d=Ke,f=Ve;if(et(a)){var g="separator"in a?a.separator:g;d="length"in a?Ee(a.length):d,f="omission"in a?tr(a.omission):f}s=$e(s);var S=s.length;if(as(s)){var P=Mr(s);S=P.length}if(d>=S)return s;var A=d-us(f);if(A<1)return f;var M=P?Yi(P,0,A).join(""):s.slice(0,A);if(g===r)return M+f;if(P&&(A+=M.length-A),bg(g)){if(s.slice(A).search(g)){var D,q=M;for(g.global||(g=kv(g.source,$e(jw.exec(g))+"g")),g.lastIndex=0;D=g.exec(q);)var $=D.index;M=M.slice(0,$===r?A:$)}}else if(s.indexOf(tr(g),A)!=A){var H=M.lastIndexOf(g);H>-1&&(M=M.slice(0,H))}return M+f}function gj(s){return s=$e(s),s&&xR.test(s)?s.replace(Dw,Vk):s}var bj=fs(function(s,a,d){return s+(d?" ":"")+a.toUpperCase()}),wg=cE("toUpperCase");function uS(s,a,d){return s=$e(s),a=d?r:a,a===r?Bk(s)?Jk(s):Lk(s):s.match(a)||[]}var lS=Pe(function(s,a){try{return Qt(s,r,a)}catch(d){return gg(d)?d:new fe(d)}}),yj=wi(function(s,a){return pr(a,function(d){d=ti(d),yi(s,d,mg(s[d],s))}),s});function _j(s){var a=s==null?0:s.length,d=ie();return s=a?Ye(s,function(f){if(typeof f[1]!="function")throw new hr(n);return[d(f[0]),f[1]]}):[],Pe(function(f){for(var g=-1;++g<a;){var S=s[g];if(Qt(S[0],this,f))return Qt(S[1],this,f)}})}function wj(s){return VN(mr(s,h))}function Eg(s){return function(){return s}}function Ej(s,a){return s==null||s!==s?a:s}var Sj=pE(),Oj=pE(!0);function zt(s){return s}function Sg(s){return W0(typeof s=="function"?s:mr(s,h))}function Tj(s){return H0(mr(s,h))}function Pj(s,a){return z0(s,mr(a,h))}var Aj=Pe(function(s,a){return function(d){return du(d,s,a)}}),xj=Pe(function(s,a){return function(d){return du(s,d,a)}});function Og(s,a,d){var f=yt(a),g=zc(a,f);d==null&&!(et(a)&&(g.length||!f.length))&&(d=a,a=s,s=this,g=zc(a,yt(a)));var S=!(et(d)&&"chain"in d)||!!d.chain,P=Si(s);return pr(g,function(A){var M=a[A];s[A]=M,P&&(s.prototype[A]=function(){var D=this.__chain__;if(S||D){var q=s(this.__wrapped__),$=q.__actions__=Wt(this.__actions__);return $.push({func:M,args:arguments,thisArg:s}),q.__chain__=D,q}return M.apply(s,Hi([this.value()],arguments))})}),s}function Cj(){return bt._===this&&(bt._=tN),this}function Tg(){}function Mj(s){return s=Ee(s),Pe(function(a){return V0(a,s)})}var Ij=rg(Ye),Lj=rg(h0),Rj=rg(Av);function cS(s){return lg(s)?xv(ti(s)):lF(s)}function kj(s){return function(a){return s==null?r:Jn(s,a)}}var Nj=fE(),Fj=fE(!0);function Pg(){return[]}function Ag(){return!1}function Dj(){return{}}function qj(){return""}function $j(){return!0}function jj(s,a){if(s=Ee(s),s<1||s>Ar)return[];var d=Xr,f=It(s,Xr);a=ie(a),s-=Xr;for(var g=Iv(f,a);++d<s;)a(d);return g}function Bj(s){return ve(s)?Ye(s,ti):rr(s)?[s]:Wt(ME($e(s)))}function Wj(s){var a=++Qk;return $e(s)+a}var Uj=Yc(function(s,a){return s+a},0),Hj=ig("ceil"),zj=Yc(function(s,a){return s/a},1),Vj=ig("floor");function Gj(s){return s&&s.length?Hc(s,zt,Wv):r}function Zj(s,a){return s&&s.length?Hc(s,ie(a,2),Wv):r}function Jj(s){return v0(s,zt)}function Kj(s,a){return v0(s,ie(a,2))}function Yj(s){return s&&s.length?Hc(s,zt,Vv):r}function Xj(s,a){return s&&s.length?Hc(s,ie(a,2),Vv):r}var Qj=Yc(function(s,a){return s*a},1),eB=ig("round"),tB=Yc(function(s,a){return s-a},0);function rB(s){return s&&s.length?Mv(s,zt):0}function iB(s,a){return s&&s.length?Mv(s,ie(a,2)):0}return E.after=Tq,E.ary=BE,E.assign=p$,E.assignIn=tS,E.assignInWith=cd,E.assignWith=h$,E.at=f$,E.before=WE,E.bind=mg,E.bindAll=yj,E.bindKey=UE,E.castArray=Dq,E.chain=qE,E.chunk=VF,E.compact=GF,E.concat=ZF,E.cond=_j,E.conforms=wj,E.constant=Eg,E.countBy=rq,E.create=m$,E.curry=HE,E.curryRight=zE,E.debounce=VE,E.defaults=v$,E.defaultsDeep=g$,E.defer=Pq,E.delay=Aq,E.difference=JF,E.differenceBy=KF,E.differenceWith=YF,E.drop=XF,E.dropRight=QF,E.dropRightWhile=eD,E.dropWhile=tD,E.fill=rD,E.filter=nq,E.flatMap=aq,E.flatMapDeep=uq,E.flatMapDepth=lq,E.flatten=kE,E.flattenDeep=iD,E.flattenDepth=nD,E.flip=xq,E.flow=Sj,E.flowRight=Oj,E.fromPairs=oD,E.functions=O$,E.functionsIn=T$,E.groupBy=cq,E.initial=aD,E.intersection=uD,E.intersectionBy=lD,E.intersectionWith=cD,E.invert=A$,E.invertBy=x$,E.invokeMap=pq,E.iteratee=Sg,E.keyBy=hq,E.keys=yt,E.keysIn=Ht,E.map=nd,E.mapKeys=M$,E.mapValues=I$,E.matches=Tj,E.matchesProperty=Pj,E.memoize=sd,E.merge=L$,E.mergeWith=rS,E.method=Aj,E.methodOf=xj,E.mixin=Og,E.negate=ad,E.nthArg=Mj,E.omit=R$,E.omitBy=k$,E.once=Cq,E.orderBy=fq,E.over=Ij,E.overArgs=Mq,E.overEvery=Lj,E.overSome=Rj,E.partial=vg,E.partialRight=GE,E.partition=mq,E.pick=N$,E.pickBy=iS,E.property=cS,E.propertyOf=kj,E.pull=fD,E.pullAll=FE,E.pullAllBy=mD,E.pullAllWith=vD,E.pullAt=gD,E.range=Nj,E.rangeRight=Fj,E.rearg=Iq,E.reject=bq,E.remove=bD,E.rest=Lq,E.reverse=hg,E.sampleSize=_q,E.set=D$,E.setWith=q$,E.shuffle=wq,E.slice=yD,E.sortBy=Oq,E.sortedUniq=PD,E.sortedUniqBy=AD,E.split=aj,E.spread=Rq,E.tail=xD,E.take=CD,E.takeRight=MD,E.takeRightWhile=ID,E.takeWhile=LD,E.tap=GD,E.throttle=kq,E.thru=id,E.toArray=XE,E.toPairs=nS,E.toPairsIn=oS,E.toPath=Bj,E.toPlainObject=eS,E.transform=$$,E.unary=Nq,E.union=RD,E.unionBy=kD,E.unionWith=ND,E.uniq=FD,E.uniqBy=DD,E.uniqWith=qD,E.unset=j$,E.unzip=fg,E.unzipWith=DE,E.update=B$,E.updateWith=W$,E.values=gs,E.valuesIn=U$,E.without=$D,E.words=uS,E.wrap=Fq,E.xor=jD,E.xorBy=BD,E.xorWith=WD,E.zip=UD,E.zipObject=HD,E.zipObjectDeep=zD,E.zipWith=VD,E.entries=nS,E.entriesIn=oS,E.extend=tS,E.extendWith=cd,Og(E,E),E.add=Uj,E.attempt=lS,E.camelCase=G$,E.capitalize=sS,E.ceil=Hj,E.clamp=H$,E.clone=qq,E.cloneDeep=jq,E.cloneDeepWith=Bq,E.cloneWith=$q,E.conformsTo=Wq,E.deburr=aS,E.defaultTo=Ej,E.divide=zj,E.endsWith=Z$,E.eq=Lr,E.escape=J$,E.escapeRegExp=K$,E.every=iq,E.find=oq,E.findIndex=LE,E.findKey=b$,E.findLast=sq,E.findLastIndex=RE,E.findLastKey=y$,E.floor=Vj,E.forEach=$E,E.forEachRight=jE,E.forIn=_$,E.forInRight=w$,E.forOwn=E$,E.forOwnRight=S$,E.get=yg,E.gt=Uq,E.gte=Hq,E.has=P$,E.hasIn=_g,E.head=NE,E.identity=zt,E.includes=dq,E.indexOf=sD,E.inRange=z$,E.invoke=C$,E.isArguments=Xn,E.isArray=ve,E.isArrayBuffer=zq,E.isArrayLike=Ut,E.isArrayLikeObject=at,E.isBoolean=Vq,E.isBuffer=Xi,E.isDate=Gq,E.isElement=Zq,E.isEmpty=Jq,E.isEqual=Kq,E.isEqualWith=Yq,E.isError=gg,E.isFinite=Xq,E.isFunction=Si,E.isInteger=ZE,E.isLength=ud,E.isMap=JE,E.isMatch=Qq,E.isMatchWith=e$,E.isNaN=t$,E.isNative=r$,E.isNil=n$,E.isNull=i$,E.isNumber=KE,E.isObject=et,E.isObjectLike=it,E.isPlainObject=gu,E.isRegExp=bg,E.isSafeInteger=o$,E.isSet=YE,E.isString=ld,E.isSymbol=rr,E.isTypedArray=vs,E.isUndefined=s$,E.isWeakMap=a$,E.isWeakSet=u$,E.join=dD,E.kebabCase=Y$,E.last=gr,E.lastIndexOf=pD,E.lowerCase=X$,E.lowerFirst=Q$,E.lt=l$,E.lte=c$,E.max=Gj,E.maxBy=Zj,E.mean=Jj,E.meanBy=Kj,E.min=Yj,E.minBy=Xj,E.stubArray=Pg,E.stubFalse=Ag,E.stubObject=Dj,E.stubString=qj,E.stubTrue=$j,E.multiply=Qj,E.nth=hD,E.noConflict=Cj,E.noop=Tg,E.now=od,E.pad=ej,E.padEnd=tj,E.padStart=rj,E.parseInt=ij,E.random=V$,E.reduce=vq,E.reduceRight=gq,E.repeat=nj,E.replace=oj,E.result=F$,E.round=eB,E.runInContext=C,E.sample=yq,E.size=Eq,E.snakeCase=sj,E.some=Sq,E.sortedIndex=_D,E.sortedIndexBy=wD,E.sortedIndexOf=ED,E.sortedLastIndex=SD,E.sortedLastIndexBy=OD,E.sortedLastIndexOf=TD,E.startCase=uj,E.startsWith=lj,E.subtract=tB,E.sum=rB,E.sumBy=iB,E.template=cj,E.times=jj,E.toFinite=Oi,E.toInteger=Ee,E.toLength=QE,E.toLower=dj,E.toNumber=br,E.toSafeInteger=d$,E.toString=$e,E.toUpper=pj,E.trim=hj,E.trimEnd=fj,E.trimStart=mj,E.truncate=vj,E.unescape=gj,E.uniqueId=Wj,E.upperCase=bj,E.upperFirst=wg,E.each=$E,E.eachRight=jE,E.first=NE,Og(E,function(){var s={};return Qr(E,function(a,d){We.call(E.prototype,d)||(s[d]=a)}),s}(),{chain:!1}),E.VERSION=t,pr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){E[s].placeholder=E}),pr(["drop","take"],function(s,a){Me.prototype[s]=function(d){d=d===r?1:gt(Ee(d),0);var f=this.__filtered__&&!a?new Me(this):this.clone();return f.__filtered__?f.__takeCount__=It(d,f.__takeCount__):f.__views__.push({size:It(d,Xr),type:s+(f.__dir__<0?"Right":"")}),f},Me.prototype[s+"Right"]=function(d){return this.reverse()[s](d).reverse()}}),pr(["filter","map","takeWhile"],function(s,a){var d=a+1,f=d==Kr||d==vc;Me.prototype[s]=function(g){var S=this.clone();return S.__iteratees__.push({iteratee:ie(g,3),type:d}),S.__filtered__=S.__filtered__||f,S}}),pr(["head","last"],function(s,a){var d="take"+(a?"Right":"");Me.prototype[s]=function(){return this[d](1).value()[0]}}),pr(["initial","tail"],function(s,a){var d="drop"+(a?"":"Right");Me.prototype[s]=function(){return this.__filtered__?new Me(this):this[d](1)}}),Me.prototype.compact=function(){return this.filter(zt)},Me.prototype.find=function(s){return this.filter(s).head()},Me.prototype.findLast=function(s){return this.reverse().find(s)},Me.prototype.invokeMap=Pe(function(s,a){return typeof s=="function"?new Me(this):this.map(function(d){return du(d,s,a)})}),Me.prototype.reject=function(s){return this.filter(ad(ie(s)))},Me.prototype.slice=function(s,a){s=Ee(s);var d=this;return d.__filtered__&&(s>0||a<0)?new Me(d):(s<0?d=d.takeRight(-s):s&&(d=d.drop(s)),a!==r&&(a=Ee(a),d=a<0?d.dropRight(-a):d.take(a-s)),d)},Me.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},Me.prototype.toArray=function(){return this.take(Xr)},Qr(Me.prototype,function(s,a){var d=/^(?:filter|find|map|reject)|While$/.test(a),f=/^(?:head|last)$/.test(a),g=E[f?"take"+(a=="last"?"Right":""):a],S=f||/^find/.test(a);g&&(E.prototype[a]=function(){var P=this.__wrapped__,A=f?[1]:arguments,M=P instanceof Me,D=A[0],q=M||ve(P),$=function(Ce){var Ie=g.apply(E,Hi([Ce],A));return f&&H?Ie[0]:Ie};q&&d&&typeof D=="function"&&D.length!=1&&(M=q=!1);var H=this.__chain__,X=!!this.__actions__.length,oe=S&&!H,Oe=M&&!X;if(!S&&q){P=Oe?P:new Me(this);var se=s.apply(P,A);return se.__actions__.push({func:id,args:[$],thisArg:r}),new fr(se,H)}return oe&&Oe?s.apply(this,A):(se=this.thru($),oe?f?se.value()[0]:se.value():se)})}),pr(["pop","push","shift","sort","splice","unshift"],function(s){var a=Cc[s],d=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",f=/^(?:pop|shift)$/.test(s);E.prototype[s]=function(){var g=arguments;if(f&&!this.__chain__){var S=this.value();return a.apply(ve(S)?S:[],g)}return this[d](function(P){return a.apply(ve(P)?P:[],g)})}}),Qr(Me.prototype,function(s,a){var d=E[a];if(d){var f=d.name+"";We.call(ds,f)||(ds[f]=[]),ds[f].push({name:a,func:d})}}),ds[Kc(r,x).name]=[{name:"wrapper",func:r}],Me.prototype.clone=gN,Me.prototype.reverse=bN,Me.prototype.value=yN,E.prototype.at=ZD,E.prototype.chain=JD,E.prototype.commit=KD,E.prototype.next=YD,E.prototype.plant=QD,E.prototype.reverse=eq,E.prototype.toJSON=E.prototype.valueOf=E.prototype.value=tq,E.prototype.first=E.prototype.head,nu&&(E.prototype[nu]=XD),E},Vi=Kk();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(bt._=Vi,define(function(){return Vi})):Hn?((Hn.exports=Vi)._=Vi,Sv._=Vi):bt._=Vi}).call(ws)});var sO,qg,ee,kr=k(()=>{p();sO=qt(eo()),qg=class{setConfig(t){this.configuration=t}get(t,e){return this.configuration?(0,sO.get)(this.configuration,t,e):e}},ee=new qg});var uO={};pt(uO,{version:()=>T2});var T2,lO=k(()=>{p();T2="6.6.0"});var dO=T((Qne,cO)=>{p();cO.exports={remoteConfig:{apiUrl:"https://dev.nodeapi.superviz.com",conferenceLayerUrl:"https://video-frame.superviz.com/lab/index.html"}}});var Is,Ls,Rs,si,Uu,Hu,ks,Hd,zu,so,Vu,Gt=k(()=>{p();Is=(U=>(U.MEETING_START="meeting.start",U.MEETING_LEAVE="meeting.leave",U.MEETING_PARTICIPANT_AMOUNT_UPDATE="meeting.amount-of-participants-update",U.MEETING_PARTICIPANT_LIST_UPDATE="meeting.participant-list-update",U.MEETING_PARTICIPANT_JOINED="meeting.participant-joined",U.MEETING_PARTICIPANT_LEFT="meeting.participant-left",U.MEETING_JOIN="meeting.join",U.MEETING_PARTICIPANT_PROPERTIES="meeting.participant-properties",U.MEETING_HOST_CHANGE="meeting.host-change",U.MEETING_HOST_AVAILABLE="meeting.host-available",U.MEETING_NO_HOST_AVAILABLE="meeting.no-host-available",U.MEETING_SAME_PARTICIPANT_ERROR="meeting.same-participant-error",U.MEETING_DEVICES_CHANGE="meeting.devices-change",U.MEETING_KICK_PARTICIPANTS="meeting.kick-all-participants",U.MEETING_STATE_UPDATE="meeting.state-update",U.MEETING_CONNECTION_STATUS_CHANGE="meeting.connection-status-change",U.MEETING_WAITING_FOR_HOST="meeting.waiting-for-host",U.MY_PARTICIPANT_UPDATED="my-participant.update",U.MY_PARTICIPANT_LEFT="my-participant.left",U.MY_PARTICIPANT_JOINED="my-participant.joined",U.MEETING_KICK_PARTICIPANT="meeting.kick-participant",U.DESTROY="destroy",U))(Is||{}),Ls=(c=>(c.FRAME_LOAD="frame.load",c.FRAME_DIMENSIONS_UPDATE="frame.dimensions-update",c.FRAME_PARENT_SIZE_UPDATE="frame.parent-window-size-update",c.FRAME_LOCALE_UPDATE="frame.locales-update",c.FRAME_AVATAR_LIST_UPDATE="frame.avatar-list-update",c.FRAME_COLOR_LIST_UPDATE="frame.color-list-update",c.FRAME_STYLES_UPDATE="frame.styles-update",c.FRAME_CALLBACKS_UPDATE="frame.callbacks-update",c))(Ls||{}),Rs=(c=>(c.TOGGLE_MEETING_CHAT="meeting-controls.toggle-chat",c.TOGGLE_MEETING_SETUP="meeting-controls.toggle-setup",c.TOGGLE_MICROPHONE="meeting-controls.toggle-microphone",c.TOGGLE_CAM="meeting-controls.toggle-cam",c.TOGGLE_SCREENSHARE="meeting-controls.toggle-screenshare",c.TOGGLE_RECORDING="meeting-controls.toggle-recording",c.HANG_UP="hang-up",c.CALLBACK_CALLED="callback-called",c))(Rs||{}),si=(w=>(w.REALTIME_PARTICIPANT_LIST_UPDATE="realtime.participant-list-update",w.REALTIME_HOST_CHANGE="realtime.host-change",w.REALTIME_GRID_MODE_CHANGE="realtime.grid-mode-change",w.REALTIME_WAIT_FOR_HOST="realtime.wait-for-host",w.REALTIME_AUTHENTICATION_FAILED="realtime.authentication-failed",w.REALTIME_GO_TO_PARTICIPANT="realtime.go-to-participant",w.REALTIME_GATHER="realtime.gather",w.REALTIME_FOLLOW_PARTICIPANT="realtime.follow-participant",w.REALTIME_LOCAL_FOLLOW_PARTICIPANT="realtime.local-follow-participant",w.REALTIME_SET_AVATAR="realtime.set-avatar",w.REALTIME_DRAWING_CHANGE="realtime.drawing-change",w.REALTIME_TRANSCRIPT_CHANGE="realtime.transcript-change",w.REALTIME_PRIVATE_MODE="realtime.private-mode",w))(si||{}),Uu=(m=>(m[m.MEETING_FAILED=-1]="MEETING_FAILED",m[m.MEETING_DISCONNECTED=0]="MEETING_DISCONNECTED",m[m.MEETING_INITIALIZING=1]="MEETING_INITIALIZING",m[m.MEETING_READY_TO_JOIN=2]="MEETING_READY_TO_JOIN",m[m.MEETING_CONNECTING=3]="MEETING_CONNECTING",m[m.MEETING_CONNECTED=4]="MEETING_CONNECTED",m[m.MEETING_RECONNECT=5]="MEETING_RECONNECT",m[m.FRAME_INITIALIZING=6]="FRAME_INITIALIZING",m[m.FRAME_INITIALIZED=7]="FRAME_INITIALIZED",m[m.FRAME_UNINITIALIZED=8]="FRAME_UNINITIALIZED",m))(Uu||{}),Hu=(l=>(l.JOINED="participant.joined",l.LOCAL_JOINED="participant.local-joined",l.LEFT="participant.left",l.LOCAL_LEFT="participant.local-left",l.LOCAL_UPDATED="participant.updated",l.LIST_UPDATED="participant.list-updated",l.SAME_ACCOUNT_ERROR="participant.same-account-error",l))(Hu||{}),ks=(l=>(l[l.NOT_AVAILABLE=0]="NOT_AVAILABLE",l[l.GOOD=1]="GOOD",l[l.BAD=2]="BAD",l[l.POOR=3]="POOR",l[l.DISCONNECTED=4]="DISCONNECTED",l[l.RECONNECTING=5]="RECONNECTING",l[l.LOST_CONNECTION=6]="LOST_CONNECTION",l))(ks||{}),Hd=(l=>(l.NO_CAM="devices.no-cam",l.NO_DEVICES="devices.no-devices",l.DEVICES_BLOCKED="devices.blocked",l.DEVICES_CAM_BLOCKED="devices.cam-blocked",l.DEVICES_INITIALIZATION_ERROR="devices.inititalization-error",l.DEVICES_UNKNOWN_ERROR="devices.unknown-error",l.DEVICES_ALLOWED="devices.allowed",l))(Hd||{}),zu=(e=>(e.PIN_ACTIVE="pin-mode.active",e.PIN_INACTIVE="pin-mode.inactive",e))(zu||{}),so=(e=>(e.MOUNT="mount",e.UNMOUNT="unmount",e))(so||{}),Vu=(c=>(c.START_FOLLOWING_PARTICIPANT="who-is-online.start-following-participant",c.STOP_FOLLOWING_PARTICIPANT="who-is-online.stop-following-participant",c.ENTER_PRIVATE_MODE="who-is-online.enter-private-mode",c.LEAVE_PRIVATE_MODE="who-is-online.leave-private-mode",c.GATHER_ALL="who-is-online.gather-all",c.GO_TO_PARTICIPANT="who-is-online.go-to-participant",c.START_FOLLOW_ME="who-is-online.start-follow-me",c.STOP_FOLLOW_ME="who-is-online.stop-follow-me",c))(Vu||{})});var nt,ft=k(()=>{p();nt=(u=>(u.GLOBAL="global-store",u.COMMENTS="comments-store",u.WHO_IS_ONLINE="who-is-online-store",u.VIDEO="video-store",u.PRESENCE_3D="presence-3d-store",u.CORE="core-store",u))(nt||{})});function ai(){return{set value(r){this.instance=r,setTimeout(()=>Object.freeze(this))},get value(){return this.instance}}}var Ns=k(()=>{p()});var Ue=T(zd=>{"use strict";p();Object.defineProperty(zd,"__esModule",{value:!0});zd.isFunction=void 0;function QU(r){return typeof r=="function"}zd.isFunction=QU});var on=T(Vd=>{"use strict";p();Object.defineProperty(Vd,"__esModule",{value:!0});Vd.createErrorClass=void 0;function eH(r){var t=function(i){Error.call(i),i.stack=new Error().stack},e=r(t);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}Vd.createErrorClass=eH});var Sb=T(Gd=>{"use strict";p();Object.defineProperty(Gd,"__esModule",{value:!0});Gd.UnsubscriptionError=void 0;var tH=on();Gd.UnsubscriptionError=tH.createErrorClass(function(r){return function(e){r(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(i,n){return n+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}})});var Mi=T(Zd=>{"use strict";p();Object.defineProperty(Zd,"__esModule",{value:!0});Zd.arrRemove=void 0;function rH(r,t){if(r){var e=r.indexOf(t);0<=e&&r.splice(e,1)}}Zd.arrRemove=rH});var sr=T(Zt=>{"use strict";p();var _T=Zt&&Zt.__values||function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},wT=Zt&&Zt.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},ET=Zt&&Zt.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.isSubscription=Zt.EMPTY_SUBSCRIPTION=Zt.Subscription=void 0;var Gu=Ue(),Ob=Sb(),ST=Mi(),Tb=function(){function r(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var t,e,i,n,o;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var l=_T(u),c=l.next();!c.done;c=l.next()){var h=c.value;h.remove(this)}}catch(x){t={error:x}}finally{try{c&&!c.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}else u.remove(this);var m=this.initialTeardown;if(Gu.isFunction(m))try{m()}catch(x){o=x instanceof Ob.UnsubscriptionError?x.errors:[x]}var b=this._finalizers;if(b){this._finalizers=null;try{for(var y=_T(b),w=y.next();!w.done;w=y.next()){var O=w.value;try{OT(O)}catch(x){o=o??[],x instanceof Ob.UnsubscriptionError?o=ET(ET([],wT(o)),wT(x.errors)):o.push(x)}}}catch(x){i={error:x}}finally{try{w&&!w.done&&(n=y.return)&&n.call(y)}finally{if(i)throw i.error}}}if(o)throw new Ob.UnsubscriptionError(o)}},r.prototype.add=function(t){var e;if(t&&t!==this)if(this.closed)OT(t);else{if(t instanceof r){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}},r.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},r.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},r.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&ST.arrRemove(e,t)},r.prototype.remove=function(t){var e=this._finalizers;e&&ST.arrRemove(e,t),t instanceof r&&t._removeParent(this)},r.EMPTY=function(){var t=new r;return t.closed=!0,t}(),r}();Zt.Subscription=Tb;Zt.EMPTY_SUBSCRIPTION=Tb.EMPTY;function iH(r){return r instanceof Tb||r&&"closed"in r&&Gu.isFunction(r.remove)&&Gu.isFunction(r.add)&&Gu.isFunction(r.unsubscribe)}Zt.isSubscription=iH;function OT(r){Gu.isFunction(r)?r():r.unsubscribe()}});var Fs=T(Jd=>{"use strict";p();Object.defineProperty(Jd,"__esModule",{value:!0});Jd.config=void 0;Jd.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var Pb=T(ui=>{"use strict";p();var TT=ui&&ui.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},PT=ui&&ui.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(ui,"__esModule",{value:!0});ui.timeoutProvider=void 0;ui.timeoutProvider={setTimeout:function(r,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];var n=ui.timeoutProvider.delegate;return n!=null&&n.setTimeout?n.setTimeout.apply(n,PT([r,t],TT(e))):setTimeout.apply(void 0,PT([r,t],TT(e)))},clearTimeout:function(r){var t=ui.timeoutProvider.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(r)},delegate:void 0}});var Ab=T(Kd=>{"use strict";p();Object.defineProperty(Kd,"__esModule",{value:!0});Kd.reportUnhandledError=void 0;var nH=Fs(),oH=Pb();function sH(r){oH.timeoutProvider.setTimeout(function(){var t=nH.config.onUnhandledError;if(t)t(r);else throw r})}Kd.reportUnhandledError=sH});var xt=T(Yd=>{"use strict";p();Object.defineProperty(Yd,"__esModule",{value:!0});Yd.noop=void 0;function aH(){}Yd.noop=aH});var AT=T(li=>{"use strict";p();Object.defineProperty(li,"__esModule",{value:!0});li.createNotification=li.nextNotification=li.errorNotification=li.COMPLETE_NOTIFICATION=void 0;li.COMPLETE_NOTIFICATION=function(){return Xd("C",void 0,void 0)}();function uH(r){return Xd("E",void 0,r)}li.errorNotification=uH;function lH(r){return Xd("N",r,void 0)}li.nextNotification=lH;function Xd(r,t,e){return{kind:r,value:t,error:e}}li.createNotification=Xd});var Qd=T(Ds=>{"use strict";p();Object.defineProperty(Ds,"__esModule",{value:!0});Ds.captureError=Ds.errorContext=void 0;var xT=Fs(),ao=null;function cH(r){if(xT.config.useDeprecatedSynchronousErrorHandling){var t=!ao;if(t&&(ao={errorThrown:!1,error:null}),r(),t){var e=ao,i=e.errorThrown,n=e.error;if(ao=null,i)throw n}}else r()}Ds.errorContext=cH;function dH(r){xT.config.useDeprecatedSynchronousErrorHandling&&ao&&(ao.errorThrown=!0,ao.error=r)}Ds.captureError=dH});var qs=T(jr=>{"use strict";p();var IT=jr&&jr.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(jr,"__esModule",{value:!0});jr.EMPTY_OBSERVER=jr.SafeSubscriber=jr.Subscriber=void 0;var pH=Ue(),CT=sr(),Ib=Fs(),hH=Ab(),MT=xt(),xb=AT(),fH=Pb(),mH=Qd(),LT=function(r){IT(t,r);function t(e){var i=r.call(this)||this;return i.isStopped=!1,e?(i.destination=e,CT.isSubscription(e)&&e.add(i)):i.destination=jr.EMPTY_OBSERVER,i}return t.create=function(e,i,n){return new RT(e,i,n)},t.prototype.next=function(e){this.isStopped?Mb(xb.nextNotification(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Mb(xb.errorNotification(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Mb(xb.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(CT.Subscription);jr.Subscriber=LT;var vH=Function.prototype.bind;function Cb(r,t){return vH.call(r,t)}var gH=function(){function r(t){this.partialObserver=t}return r.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(i){ep(i)}},r.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(i){ep(i)}else ep(t)},r.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(e){ep(e)}},r}(),RT=function(r){IT(t,r);function t(e,i,n){var o=r.call(this)||this,u;if(pH.isFunction(e)||!e)u={next:e??void 0,error:i??void 0,complete:n??void 0};else{var l;o&&Ib.config.useDeprecatedNextContext?(l=Object.create(e),l.unsubscribe=function(){return o.unsubscribe()},u={next:e.next&&Cb(e.next,l),error:e.error&&Cb(e.error,l),complete:e.complete&&Cb(e.complete,l)}):u=e}return o.destination=new gH(u),o}return t}(LT);jr.SafeSubscriber=RT;function ep(r){Ib.config.useDeprecatedSynchronousErrorHandling?mH.captureError(r):hH.reportUnhandledError(r)}function bH(r){throw r}function Mb(r,t){var e=Ib.config.onStoppedNotification;e&&fH.timeoutProvider.setTimeout(function(){return e(r,t)})}jr.EMPTY_OBSERVER={closed:!0,next:MT.noop,error:bH,complete:MT.noop}});var Zu=T(tp=>{"use strict";p();Object.defineProperty(tp,"__esModule",{value:!0});tp.observable=void 0;tp.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var Ct=T(rp=>{"use strict";p();Object.defineProperty(rp,"__esModule",{value:!0});rp.identity=void 0;function yH(r){return r}rp.identity=yH});var Ju=T($s=>{"use strict";p();Object.defineProperty($s,"__esModule",{value:!0});$s.pipeFromArray=$s.pipe=void 0;var _H=Ct();function wH(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return kT(r)}$s.pipe=wH;function kT(r){return r.length===0?_H.identity:r.length===1?r[0]:function(e){return r.reduce(function(i,n){return n(i)},e)}}$s.pipeFromArray=kT});var ze=T(ip=>{"use strict";p();Object.defineProperty(ip,"__esModule",{value:!0});ip.Observable=void 0;var Rb=qs(),EH=sr(),SH=Zu(),OH=Ju(),TH=Fs(),Lb=Ue(),PH=Qd(),AH=function(){function r(t){t&&(this._subscribe=t)}return r.prototype.lift=function(t){var e=new r;return e.source=this,e.operator=t,e},r.prototype.subscribe=function(t,e,i){var n=this,o=CH(t)?t:new Rb.SafeSubscriber(t,e,i);return PH.errorContext(function(){var u=n,l=u.operator,c=u.source;o.add(l?l.call(o,c):c?n._subscribe(o):n._trySubscribe(o))}),o},r.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},r.prototype.forEach=function(t,e){var i=this;return e=NT(e),new e(function(n,o){var u=new Rb.SafeSubscriber({next:function(l){try{t(l)}catch(c){o(c),u.unsubscribe()}},error:o,complete:n});i.subscribe(u)})},r.prototype._subscribe=function(t){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(t)},r.prototype[SH.observable]=function(){return this},r.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return OH.pipeFromArray(t)(this)},r.prototype.toPromise=function(t){var e=this;return t=NT(t),new t(function(i,n){var o;e.subscribe(function(u){return o=u},function(u){return n(u)},function(){return i(o)})})},r.create=function(t){return new r(t)},r}();ip.Observable=AH;function NT(r){var t;return(t=r??TH.config.Promise)!==null&&t!==void 0?t:Promise}function xH(r){return r&&Lb.isFunction(r.next)&&Lb.isFunction(r.error)&&Lb.isFunction(r.complete)}function CH(r){return r&&r instanceof Rb.Subscriber||xH(r)&&EH.isSubscription(r)}});var G=T(js=>{"use strict";p();Object.defineProperty(js,"__esModule",{value:!0});js.operate=js.hasLift=void 0;var MH=Ue();function FT(r){return MH.isFunction(r==null?void 0:r.lift)}js.hasLift=FT;function IH(r){return function(t){if(FT(t))return t.lift(function(e){try{return r(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}js.operate=IH});var Q=T(sn=>{"use strict";p();var LH=sn&&sn.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(sn,"__esModule",{value:!0});sn.OperatorSubscriber=sn.createOperatorSubscriber=void 0;var RH=qs();function kH(r,t,e,i,n){return new DT(r,t,e,i,n)}sn.createOperatorSubscriber=kH;var DT=function(r){LH(t,r);function t(e,i,n,o,u,l){var c=r.call(this,e)||this;return c.onFinalize=u,c.shouldUnsubscribe=l,c._next=i?function(h){try{i(h)}catch(m){e.error(m)}}:r.prototype._next,c._error=o?function(h){try{o(h)}catch(m){e.error(m)}finally{this.unsubscribe()}}:r.prototype._error,c._complete=n?function(){try{n()}catch(h){e.error(h)}finally{this.unsubscribe()}}:r.prototype._complete,c}return t.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;r.prototype.unsubscribe.call(this),!i&&((e=this.onFinalize)===null||e===void 0||e.call(this))}},t}(RH.Subscriber);sn.OperatorSubscriber=DT});var kb=T(np=>{"use strict";p();Object.defineProperty(np,"__esModule",{value:!0});np.refCount=void 0;var NH=G(),FH=Q();function DH(){return NH.operate(function(r,t){var e=null;r._refCount++;var i=FH.createOperatorSubscriber(t,void 0,void 0,void 0,function(){if(!r||r._refCount<=0||0<--r._refCount){e=null;return}var n=r._connection,o=e;e=null,n&&(!o||n===o)&&n.unsubscribe(),t.unsubscribe()});r.subscribe(i),i.closed||(e=r.connect())})}np.refCount=DH});var Ku=T(Bs=>{"use strict";p();var qH=Bs&&Bs.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(Bs,"__esModule",{value:!0});Bs.ConnectableObservable=void 0;var $H=ze(),qT=sr(),jH=kb(),BH=Q(),WH=G(),UH=function(r){qH(t,r);function t(e,i){var n=r.call(this)||this;return n.source=e,n.subjectFactory=i,n._subject=null,n._refCount=0,n._connection=null,WH.hasLift(e)&&(n.lift=e.lift),n}return t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,e==null||e.unsubscribe()},t.prototype.connect=function(){var e=this,i=this._connection;if(!i){i=this._connection=new qT.Subscription;var n=this.getSubject();i.add(this.source.subscribe(BH.createOperatorSubscriber(n,void 0,function(){e._teardown(),n.complete()},function(o){e._teardown(),n.error(o)},function(){return e._teardown()}))),i.closed&&(this._connection=null,i=qT.Subscription.EMPTY)}return i},t.prototype.refCount=function(){return jH.refCount()(this)},t}($H.Observable);Bs.ConnectableObservable=UH});var $T=T(Yu=>{"use strict";p();Object.defineProperty(Yu,"__esModule",{value:!0});Yu.performanceTimestampProvider=void 0;Yu.performanceTimestampProvider={now:function(){return(Yu.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}});var Nb=T(Br=>{"use strict";p();var jT=Br&&Br.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},BT=Br&&Br.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(Br,"__esModule",{value:!0});Br.animationFrameProvider=void 0;var HH=sr();Br.animationFrameProvider={schedule:function(r){var t=requestAnimationFrame,e=cancelAnimationFrame,i=Br.animationFrameProvider.delegate;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);var n=t(function(o){e=void 0,r(o)});return new HH.Subscription(function(){return e==null?void 0:e(n)})},requestAnimationFrame:function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=Br.animationFrameProvider.delegate;return((e==null?void 0:e.requestAnimationFrame)||requestAnimationFrame).apply(void 0,BT([],jT(r)))},cancelAnimationFrame:function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=Br.animationFrameProvider.delegate;return((e==null?void 0:e.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,BT([],jT(r)))},delegate:void 0}});var HT=T(op=>{"use strict";p();Object.defineProperty(op,"__esModule",{value:!0});op.animationFrames=void 0;var zH=ze(),VH=$T(),WT=Nb();function GH(r){return r?UT(r):ZH}op.animationFrames=GH;function UT(r){return new zH.Observable(function(t){var e=r||VH.performanceTimestampProvider,i=e.now(),n=0,o=function(){t.closed||(n=WT.animationFrameProvider.requestAnimationFrame(function(u){n=0;var l=e.now();t.next({timestamp:r?l:u,elapsed:l-i}),o()}))};return o(),function(){n&&WT.animationFrameProvider.cancelAnimationFrame(n)}})}var ZH=UT()});var Fb=T(sp=>{"use strict";p();Object.defineProperty(sp,"__esModule",{value:!0});sp.ObjectUnsubscribedError=void 0;var JH=on();sp.ObjectUnsubscribedError=JH.createErrorClass(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})});var Mt=T(ci=>{"use strict";p();var VT=ci&&ci.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),KH=ci&&ci.__values||function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ci,"__esModule",{value:!0});ci.AnonymousSubject=ci.Subject=void 0;var zT=ze(),qb=sr(),YH=Fb(),XH=Mi(),Db=Qd(),GT=function(r){VT(t,r);function t(){var e=r.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return t.prototype.lift=function(e){var i=new $b(this,this);return i.operator=e,i},t.prototype._throwIfClosed=function(){if(this.closed)throw new YH.ObjectUnsubscribedError},t.prototype.next=function(e){var i=this;Db.errorContext(function(){var n,o;if(i._throwIfClosed(),!i.isStopped){i.currentObservers||(i.currentObservers=Array.from(i.observers));try{for(var u=KH(i.currentObservers),l=u.next();!l.done;l=u.next()){var c=l.value;c.next(e)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}}})},t.prototype.error=function(e){var i=this;Db.errorContext(function(){if(i._throwIfClosed(),!i.isStopped){i.hasError=i.isStopped=!0,i.thrownError=e;for(var n=i.observers;n.length;)n.shift().error(e)}})},t.prototype.complete=function(){var e=this;Db.errorContext(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var i=e.observers;i.length;)i.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(e){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,e)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var i=this,n=this,o=n.hasError,u=n.isStopped,l=n.observers;return o||u?qb.EMPTY_SUBSCRIPTION:(this.currentObservers=null,l.push(e),new qb.Subscription(function(){i.currentObservers=null,XH.arrRemove(l,e)}))},t.prototype._checkFinalizedStatuses=function(e){var i=this,n=i.hasError,o=i.thrownError,u=i.isStopped;n?e.error(o):u&&e.complete()},t.prototype.asObservable=function(){var e=new zT.Observable;return e.source=this,e},t.create=function(e,i){return new $b(e,i)},t}(zT.Observable);ci.Subject=GT;var $b=function(r){VT(t,r);function t(e,i){var n=r.call(this)||this;return n.destination=e,n.source=i,n}return t.prototype.next=function(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.next)===null||n===void 0||n.call(i,e)},t.prototype.error=function(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.error)===null||n===void 0||n.call(i,e)},t.prototype.complete=function(){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||i===void 0||i.call(e)},t.prototype._subscribe=function(e){var i,n;return(n=(i=this.source)===null||i===void 0?void 0:i.subscribe(e))!==null&&n!==void 0?n:qb.EMPTY_SUBSCRIPTION},t}(GT);ci.AnonymousSubject=$b});var jb=T(Ws=>{"use strict";p();var QH=Ws&&Ws.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(Ws,"__esModule",{value:!0});Ws.BehaviorSubject=void 0;var ez=Mt(),tz=function(r){QH(t,r);function t(e){var i=r.call(this)||this;return i._value=e,i}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(e){var i=r.prototype._subscribe.call(this,e);return!i.closed&&e.next(this._value),i},t.prototype.getValue=function(){var e=this,i=e.hasError,n=e.thrownError,o=e._value;if(i)throw n;return this._throwIfClosed(),o},t.prototype.next=function(e){r.prototype.next.call(this,this._value=e)},t}(ez.Subject);Ws.BehaviorSubject=tz});var ap=T(Xu=>{"use strict";p();Object.defineProperty(Xu,"__esModule",{value:!0});Xu.dateTimestampProvider=void 0;Xu.dateTimestampProvider={now:function(){return(Xu.dateTimestampProvider.delegate||Date).now()},delegate:void 0}});var up=T(Us=>{"use strict";p();var rz=Us&&Us.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(Us,"__esModule",{value:!0});Us.ReplaySubject=void 0;var iz=Mt(),nz=ap(),oz=function(r){rz(t,r);function t(e,i,n){e===void 0&&(e=1/0),i===void 0&&(i=1/0),n===void 0&&(n=nz.dateTimestampProvider);var o=r.call(this)||this;return o._bufferSize=e,o._windowTime=i,o._timestampProvider=n,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=i===1/0,o._bufferSize=Math.max(1,e),o._windowTime=Math.max(1,i),o}return t.prototype.next=function(e){var i=this,n=i.isStopped,o=i._buffer,u=i._infiniteTimeWindow,l=i._timestampProvider,c=i._windowTime;n||(o.push(e),!u&&o.push(l.now()+c)),this._trimBuffer(),r.prototype.next.call(this,e)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var i=this._innerSubscribe(e),n=this,o=n._infiniteTimeWindow,u=n._buffer,l=u.slice(),c=0;c<l.length&&!e.closed;c+=o?1:2)e.next(l[c]);return this._checkFinalizedStatuses(e),i},t.prototype._trimBuffer=function(){var e=this,i=e._bufferSize,n=e._timestampProvider,o=e._buffer,u=e._infiniteTimeWindow,l=(u?1:2)*i;if(i<1/0&&l<o.length&&o.splice(0,o.length-l),!u){for(var c=n.now(),h=0,m=1;m<o.length&&o[m]<=c;m+=2)h=m;h&&o.splice(0,h+1)}},t}(iz.Subject);Us.ReplaySubject=oz});var lp=T(Hs=>{"use strict";p();var sz=Hs&&Hs.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(Hs,"__esModule",{value:!0});Hs.AsyncSubject=void 0;var az=Mt(),uz=function(r){sz(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e._value=null,e._hasValue=!1,e._isComplete=!1,e}return t.prototype._checkFinalizedStatuses=function(e){var i=this,n=i.hasError,o=i._hasValue,u=i._value,l=i.thrownError,c=i.isStopped,h=i._isComplete;n?e.error(l):(c||h)&&(o&&e.next(u),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var e=this,i=e._hasValue,n=e._value,o=e._isComplete;o||(this._isComplete=!0,i&&r.prototype.next.call(this,n),r.prototype.complete.call(this))},t}(az.Subject);Hs.AsyncSubject=uz});var ZT=T(zs=>{"use strict";p();var lz=zs&&zs.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(zs,"__esModule",{value:!0});zs.Action=void 0;var cz=sr(),dz=function(r){lz(t,r);function t(e,i){return r.call(this)||this}return t.prototype.schedule=function(e,i){return i===void 0&&(i=0),this},t}(cz.Subscription);zs.Action=dz});var YT=T(di=>{"use strict";p();var JT=di&&di.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},KT=di&&di.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(di,"__esModule",{value:!0});di.intervalProvider=void 0;di.intervalProvider={setInterval:function(r,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];var n=di.intervalProvider.delegate;return n!=null&&n.setInterval?n.setInterval.apply(n,KT([r,t],JT(e))):setInterval.apply(void 0,KT([r,t],JT(e)))},clearInterval:function(r){var t=di.intervalProvider.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(r)},delegate:void 0}});var Gs=T(Vs=>{"use strict";p();var pz=Vs&&Vs.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(Vs,"__esModule",{value:!0});Vs.AsyncAction=void 0;var hz=ZT(),XT=YT(),fz=Mi(),mz=function(r){pz(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.scheduler=e,n.work=i,n.pending=!1,n}return t.prototype.schedule=function(e,i){var n;if(i===void 0&&(i=0),this.closed)return this;this.state=e;var o=this.id,u=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(u,o,i)),this.pending=!0,this.delay=i,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(u,this.id,i),this},t.prototype.requestAsyncId=function(e,i,n){return n===void 0&&(n=0),XT.intervalProvider.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,i,n){if(n===void 0&&(n=0),n!=null&&this.delay===n&&this.pending===!1)return i;i!=null&&XT.intervalProvider.clearInterval(i)},t.prototype.execute=function(e,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,i);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,i){var n=!1,o;try{this.work(e)}catch(u){n=!0,o=u||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var e=this,i=e.id,n=e.scheduler,o=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,fz.arrRemove(o,this),i!=null&&(this.id=this.recycleAsyncId(n,i,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},t}(hz.Action);Vs.AsyncAction=mz});var eP=T(Zs=>{"use strict";p();Object.defineProperty(Zs,"__esModule",{value:!0});Zs.TestTools=Zs.Immediate=void 0;var vz=1,Bb,cp={};function QT(r){return r in cp?(delete cp[r],!0):!1}Zs.Immediate={setImmediate:function(r){var t=vz++;return cp[t]=!0,Bb||(Bb=Promise.resolve()),Bb.then(function(){return QT(t)&&r()}),t},clearImmediate:function(r){QT(r)}};Zs.TestTools={pending:function(){return Object.keys(cp).length}}});var rP=T(pi=>{"use strict";p();var gz=pi&&pi.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},bz=pi&&pi.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(pi,"__esModule",{value:!0});pi.immediateProvider=void 0;var tP=eP(),yz=tP.Immediate.setImmediate,_z=tP.Immediate.clearImmediate;pi.immediateProvider={setImmediate:function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=pi.immediateProvider.delegate;return((e==null?void 0:e.setImmediate)||yz).apply(void 0,bz([],gz(r)))},clearImmediate:function(r){var t=pi.immediateProvider.delegate;return((t==null?void 0:t.clearImmediate)||_z)(r)},delegate:void 0}});var nP=T(Js=>{"use strict";p();var wz=Js&&Js.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(Js,"__esModule",{value:!0});Js.AsapAction=void 0;var Ez=Gs(),iP=rP(),Sz=function(r){wz(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.scheduler=e,n.work=i,n}return t.prototype.requestAsyncId=function(e,i,n){return n===void 0&&(n=0),n!==null&&n>0?r.prototype.requestAsyncId.call(this,e,i,n):(e.actions.push(this),e._scheduled||(e._scheduled=iP.immediateProvider.setImmediate(e.flush.bind(e,void 0))))},t.prototype.recycleAsyncId=function(e,i,n){var o;if(n===void 0&&(n=0),n!=null?n>0:this.delay>0)return r.prototype.recycleAsyncId.call(this,e,i,n);var u=e.actions;i!=null&&((o=u[u.length-1])===null||o===void 0?void 0:o.id)!==i&&(iP.immediateProvider.clearImmediate(i),e._scheduled===i&&(e._scheduled=void 0))},t}(Ez.AsyncAction);Js.AsapAction=Sz});var Wb=T(dp=>{"use strict";p();Object.defineProperty(dp,"__esModule",{value:!0});dp.Scheduler=void 0;var Oz=ap(),Tz=function(){function r(t,e){e===void 0&&(e=r.now),this.schedulerActionCtor=t,this.now=e}return r.prototype.schedule=function(t,e,i){return e===void 0&&(e=0),new this.schedulerActionCtor(this,t).schedule(i,e)},r.now=Oz.dateTimestampProvider.now,r}();dp.Scheduler=Tz});var Ys=T(Ks=>{"use strict";p();var Pz=Ks&&Ks.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(Ks,"__esModule",{value:!0});Ks.AsyncScheduler=void 0;var oP=Wb(),Az=function(r){Pz(t,r);function t(e,i){i===void 0&&(i=oP.Scheduler.now);var n=r.call(this,e,i)||this;return n.actions=[],n._active=!1,n}return t.prototype.flush=function(e){var i=this.actions;if(this._active){i.push(e);return}var n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=i.shift());if(this._active=!1,n){for(;e=i.shift();)e.unsubscribe();throw n}},t}(oP.Scheduler);Ks.AsyncScheduler=Az});var sP=T(Xs=>{"use strict";p();var xz=Xs&&Xs.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(Xs,"__esModule",{value:!0});Xs.AsapScheduler=void 0;var Cz=Ys(),Mz=function(r){xz(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.flush=function(e){this._active=!0;var i=this._scheduled;this._scheduled=void 0;var n=this.actions,o;e=e||n.shift();do if(o=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===i&&n.shift());if(this._active=!1,o){for(;(e=n[0])&&e.id===i&&n.shift();)e.unsubscribe();throw o}},t}(Cz.AsyncScheduler);Xs.AsapScheduler=Mz});var aP=T(uo=>{"use strict";p();Object.defineProperty(uo,"__esModule",{value:!0});uo.asap=uo.asapScheduler=void 0;var Iz=nP(),Lz=sP();uo.asapScheduler=new Lz.AsapScheduler(Iz.AsapAction);uo.asap=uo.asapScheduler});var Jt=T(lo=>{"use strict";p();Object.defineProperty(lo,"__esModule",{value:!0});lo.async=lo.asyncScheduler=void 0;var Rz=Gs(),kz=Ys();lo.asyncScheduler=new kz.AsyncScheduler(Rz.AsyncAction);lo.async=lo.asyncScheduler});var uP=T(Qs=>{"use strict";p();var Nz=Qs&&Qs.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(Qs,"__esModule",{value:!0});Qs.QueueAction=void 0;var Fz=Gs(),Dz=function(r){Nz(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.scheduler=e,n.work=i,n}return t.prototype.schedule=function(e,i){return i===void 0&&(i=0),i>0?r.prototype.schedule.call(this,e,i):(this.delay=i,this.state=e,this.scheduler.flush(this),this)},t.prototype.execute=function(e,i){return i>0||this.closed?r.prototype.execute.call(this,e,i):this._execute(e,i)},t.prototype.requestAsyncId=function(e,i,n){return n===void 0&&(n=0),n!=null&&n>0||n==null&&this.delay>0?r.prototype.requestAsyncId.call(this,e,i,n):(e.flush(this),0)},t}(Fz.AsyncAction);Qs.QueueAction=Dz});var lP=T(ea=>{"use strict";p();var qz=ea&&ea.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(ea,"__esModule",{value:!0});ea.QueueScheduler=void 0;var $z=Ys(),jz=function(r){qz(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}($z.AsyncScheduler);ea.QueueScheduler=jz});var cP=T(co=>{"use strict";p();Object.defineProperty(co,"__esModule",{value:!0});co.queue=co.queueScheduler=void 0;var Bz=uP(),Wz=lP();co.queueScheduler=new Wz.QueueScheduler(Bz.QueueAction);co.queue=co.queueScheduler});var pP=T(ta=>{"use strict";p();var Uz=ta&&ta.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(ta,"__esModule",{value:!0});ta.AnimationFrameAction=void 0;var Hz=Gs(),dP=Nb(),zz=function(r){Uz(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.scheduler=e,n.work=i,n}return t.prototype.requestAsyncId=function(e,i,n){return n===void 0&&(n=0),n!==null&&n>0?r.prototype.requestAsyncId.call(this,e,i,n):(e.actions.push(this),e._scheduled||(e._scheduled=dP.animationFrameProvider.requestAnimationFrame(function(){return e.flush(void 0)})))},t.prototype.recycleAsyncId=function(e,i,n){var o;if(n===void 0&&(n=0),n!=null?n>0:this.delay>0)return r.prototype.recycleAsyncId.call(this,e,i,n);var u=e.actions;i!=null&&((o=u[u.length-1])===null||o===void 0?void 0:o.id)!==i&&(dP.animationFrameProvider.cancelAnimationFrame(i),e._scheduled=void 0)},t}(Hz.AsyncAction);ta.AnimationFrameAction=zz});var hP=T(ra=>{"use strict";p();var Vz=ra&&ra.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(ra,"__esModule",{value:!0});ra.AnimationFrameScheduler=void 0;var Gz=Ys(),Zz=function(r){Vz(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.flush=function(e){this._active=!0;var i=this._scheduled;this._scheduled=void 0;var n=this.actions,o;e=e||n.shift();do if(o=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===i&&n.shift());if(this._active=!1,o){for(;(e=n[0])&&e.id===i&&n.shift();)e.unsubscribe();throw o}},t}(Gz.AsyncScheduler);ra.AnimationFrameScheduler=Zz});var fP=T(po=>{"use strict";p();Object.defineProperty(po,"__esModule",{value:!0});po.animationFrame=po.animationFrameScheduler=void 0;var Jz=pP(),Kz=hP();po.animationFrameScheduler=new Kz.AnimationFrameScheduler(Jz.AnimationFrameAction);po.animationFrame=po.animationFrameScheduler});var gP=T(an=>{"use strict";p();var mP=an&&an.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(an,"__esModule",{value:!0});an.VirtualAction=an.VirtualTimeScheduler=void 0;var Yz=Gs(),Xz=sr(),Qz=Ys(),e3=function(r){mP(t,r);function t(e,i){e===void 0&&(e=vP),i===void 0&&(i=1/0);var n=r.call(this,e,function(){return n.frame})||this;return n.maxFrames=i,n.frame=0,n.index=-1,n}return t.prototype.flush=function(){for(var e=this,i=e.actions,n=e.maxFrames,o,u;(u=i[0])&&u.delay<=n&&(i.shift(),this.frame=u.delay,!(o=u.execute(u.state,u.delay))););if(o){for(;u=i.shift();)u.unsubscribe();throw o}},t.frameTimeFactor=10,t}(Qz.AsyncScheduler);an.VirtualTimeScheduler=e3;var vP=function(r){mP(t,r);function t(e,i,n){n===void 0&&(n=e.index+=1);var o=r.call(this,e,i)||this;return o.scheduler=e,o.work=i,o.index=n,o.active=!0,o.index=e.index=n,o}return t.prototype.schedule=function(e,i){if(i===void 0&&(i=0),Number.isFinite(i)){if(!this.id)return r.prototype.schedule.call(this,e,i);this.active=!1;var n=new t(this.scheduler,this.work);return this.add(n),n.schedule(e,i)}else return Xz.Subscription.EMPTY},t.prototype.requestAsyncId=function(e,i,n){n===void 0&&(n=0),this.delay=e.frame+n;var o=e.actions;return o.push(this),o.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(e,i,n){n===void 0&&(n=0)},t.prototype._execute=function(e,i){if(this.active===!0)return r.prototype._execute.call(this,e,i)},t.sortActions=function(e,i){return e.delay===i.delay?e.index===i.index?0:e.index>i.index?1:-1:e.delay>i.delay?1:-1},t}(Yz.AsyncAction);an.VirtualAction=vP});var Wr=T(ho=>{"use strict";p();Object.defineProperty(ho,"__esModule",{value:!0});ho.empty=ho.EMPTY=void 0;var bP=ze();ho.EMPTY=new bP.Observable(function(r){return r.complete()});function t3(r){return r?r3(r):ho.EMPTY}ho.empty=t3;function r3(r){return new bP.Observable(function(t){return r.schedule(function(){return t.complete()})})}});var Qu=T(pp=>{"use strict";p();Object.defineProperty(pp,"__esModule",{value:!0});pp.isScheduler=void 0;var i3=Ue();function n3(r){return r&&i3.isFunction(r.schedule)}pp.isScheduler=n3});var Kt=T(un=>{"use strict";p();Object.defineProperty(un,"__esModule",{value:!0});un.popNumber=un.popScheduler=un.popResultSelector=void 0;var o3=Ue(),s3=Qu();function Ub(r){return r[r.length-1]}function a3(r){return o3.isFunction(Ub(r))?r.pop():void 0}un.popResultSelector=a3;function u3(r){return s3.isScheduler(Ub(r))?r.pop():void 0}un.popScheduler=u3;function l3(r,t){return typeof Ub(r)=="number"?r.pop():t}un.popNumber=l3});var fp=T(hp=>{"use strict";p();Object.defineProperty(hp,"__esModule",{value:!0});hp.isArrayLike=void 0;hp.isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"}});var Hb=T(mp=>{"use strict";p();Object.defineProperty(mp,"__esModule",{value:!0});mp.isPromise=void 0;var c3=Ue();function d3(r){return c3.isFunction(r==null?void 0:r.then)}mp.isPromise=d3});var zb=T(vp=>{"use strict";p();Object.defineProperty(vp,"__esModule",{value:!0});vp.isInteropObservable=void 0;var p3=Zu(),h3=Ue();function f3(r){return h3.isFunction(r[p3.observable])}vp.isInteropObservable=f3});var Vb=T(gp=>{"use strict";p();Object.defineProperty(gp,"__esModule",{value:!0});gp.isAsyncIterable=void 0;var m3=Ue();function v3(r){return Symbol.asyncIterator&&m3.isFunction(r==null?void 0:r[Symbol.asyncIterator])}gp.isAsyncIterable=v3});var Gb=T(bp=>{"use strict";p();Object.defineProperty(bp,"__esModule",{value:!0});bp.createInvalidObservableTypeError=void 0;function g3(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}bp.createInvalidObservableTypeError=g3});var Zb=T(ia=>{"use strict";p();Object.defineProperty(ia,"__esModule",{value:!0});ia.iterator=ia.getSymbolIterator=void 0;function yP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}ia.getSymbolIterator=yP;ia.iterator=yP()});var Jb=T(yp=>{"use strict";p();Object.defineProperty(yp,"__esModule",{value:!0});yp.isIterable=void 0;var b3=Zb(),y3=Ue();function _3(r){return y3.isFunction(r==null?void 0:r[b3.iterator])}yp.isIterable=_3});var _p=T(Er=>{"use strict";p();var w3=Er&&Er.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,n,o,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(h){return function(m){return c([h,m])}}function c(h){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,n&&(o=h[0]&2?n.return:h[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,h[1])).done)return o;switch(n=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return e.label++,{value:h[1],done:!1};case 5:e.label++,n=h[1],h=[0];continue;case 7:h=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){e=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){e.label=h[1];break}if(h[0]===6&&e.label<o[1]){e.label=o[1],o=h;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(h);break}o[2]&&e.ops.pop(),e.trys.pop();continue}h=t.call(r,e)}catch(m){h=[6,m],n=0}finally{i=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},na=Er&&Er.__await||function(r){return this instanceof na?(this.v=r,this):new na(r)},E3=Er&&Er.__asyncGenerator||function(r,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(r,t||[]),n,o=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(y){i[y]&&(n[y]=function(w){return new Promise(function(O,x){o.push([y,w,O,x])>1||l(y,w)})})}function l(y,w){try{c(i[y](w))}catch(O){b(o[0][3],O)}}function c(y){y.value instanceof na?Promise.resolve(y.value.v).then(h,m):b(o[0][2],y)}function h(y){l("next",y)}function m(y){l("throw",y)}function b(y,w){y(w),o.shift(),o.length&&l(o[0][0],o[0][1])}};Object.defineProperty(Er,"__esModule",{value:!0});Er.isReadableStreamLike=Er.readableStreamLikeToAsyncGenerator=void 0;var S3=Ue();function O3(r){return E3(this,arguments,function(){var e,i,n,o;return w3(this,function(u){switch(u.label){case 0:e=r.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,na(e.read())];case 3:return i=u.sent(),n=i.value,o=i.done,o?[4,na(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,na(n)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}Er.readableStreamLikeToAsyncGenerator=O3;function T3(r){return S3.isFunction(r==null?void 0:r.getReader)}Er.isReadableStreamLike=T3});var ye=T(Qe=>{"use strict";p();var P3=Qe&&Qe.__awaiter||function(r,t,e,i){function n(o){return o instanceof e?o:new e(function(u){u(o)})}return new(e||(e=Promise))(function(o,u){function l(m){try{h(i.next(m))}catch(b){u(b)}}function c(m){try{h(i.throw(m))}catch(b){u(b)}}function h(m){m.done?o(m.value):n(m.value).then(l,c)}h((i=i.apply(r,t||[])).next())})},A3=Qe&&Qe.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,n,o,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(h){return function(m){return c([h,m])}}function c(h){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,n&&(o=h[0]&2?n.return:h[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,h[1])).done)return o;switch(n=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return e.label++,{value:h[1],done:!1};case 5:e.label++,n=h[1],h=[0];continue;case 7:h=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){e=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){e.label=h[1];break}if(h[0]===6&&e.label<o[1]){e.label=o[1],o=h;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(h);break}o[2]&&e.ops.pop(),e.trys.pop();continue}h=t.call(r,e)}catch(m){h=[6,m],n=0}finally{i=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},x3=Qe&&Qe.__asyncValues||function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r[Symbol.asyncIterator],e;return t?t.call(r):(r=typeof Kb=="function"?Kb(r):r[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=r[o]&&function(u){return new Promise(function(l,c){u=r[o](u),n(l,c,u.done,u.value)})}}function n(o,u,l,c){Promise.resolve(c).then(function(h){o({value:h,done:l})},u)}},Kb=Qe&&Qe.__values||function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.fromReadableStreamLike=Qe.fromAsyncIterable=Qe.fromIterable=Qe.fromPromise=Qe.fromArrayLike=Qe.fromInteropObservable=Qe.innerFrom=void 0;var C3=fp(),M3=Hb(),oa=ze(),I3=zb(),L3=Vb(),R3=Gb(),k3=Jb(),_P=_p(),N3=Ue(),F3=Ab(),D3=Zu();function q3(r){if(r instanceof oa.Observable)return r;if(r!=null){if(I3.isInteropObservable(r))return wP(r);if(C3.isArrayLike(r))return EP(r);if(M3.isPromise(r))return SP(r);if(L3.isAsyncIterable(r))return Yb(r);if(k3.isIterable(r))return OP(r);if(_P.isReadableStreamLike(r))return TP(r)}throw R3.createInvalidObservableTypeError(r)}Qe.innerFrom=q3;function wP(r){return new oa.Observable(function(t){var e=r[D3.observable]();if(N3.isFunction(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}Qe.fromInteropObservable=wP;function EP(r){return new oa.Observable(function(t){for(var e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()})}Qe.fromArrayLike=EP;function SP(r){return new oa.Observable(function(t){r.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,F3.reportUnhandledError)})}Qe.fromPromise=SP;function OP(r){return new oa.Observable(function(t){var e,i;try{for(var n=Kb(r),o=n.next();!o.done;o=n.next()){var u=o.value;if(t.next(u),t.closed)return}}catch(l){e={error:l}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}t.complete()})}Qe.fromIterable=OP;function Yb(r){return new oa.Observable(function(t){$3(r,t).catch(function(e){return t.error(e)})})}Qe.fromAsyncIterable=Yb;function TP(r){return Yb(_P.readableStreamLikeToAsyncGenerator(r))}Qe.fromReadableStreamLike=TP;function $3(r,t){var e,i,n,o;return P3(this,void 0,void 0,function(){var u,l;return A3(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),e=x3(r),c.label=1;case 1:return[4,e.next()];case 2:if(i=c.sent(),!!i.done)return[3,4];if(u=i.value,t.next(u),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=c.sent(),n={error:l},[3,11];case 6:return c.trys.push([6,,9,10]),i&&!i.done&&(o=e.return)?[4,o.call(e)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(n)throw n.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}});var Ii=T(wp=>{"use strict";p();Object.defineProperty(wp,"__esModule",{value:!0});wp.executeSchedule=void 0;function j3(r,t,e,i,n){i===void 0&&(i=0),n===void 0&&(n=!1);var o=t.schedule(function(){e(),n?r.add(this.schedule(null,i)):this.unsubscribe()},i);if(r.add(o),!n)return o}wp.executeSchedule=j3});var el=T(Ep=>{"use strict";p();Object.defineProperty(Ep,"__esModule",{value:!0});Ep.observeOn=void 0;var Xb=Ii(),B3=G(),W3=Q();function U3(r,t){return t===void 0&&(t=0),B3.operate(function(e,i){e.subscribe(W3.createOperatorSubscriber(i,function(n){return Xb.executeSchedule(i,r,function(){return i.next(n)},t)},function(){return Xb.executeSchedule(i,r,function(){return i.complete()},t)},function(n){return Xb.executeSchedule(i,r,function(){return i.error(n)},t)}))})}Ep.observeOn=U3});var tl=T(Sp=>{"use strict";p();Object.defineProperty(Sp,"__esModule",{value:!0});Sp.subscribeOn=void 0;var H3=G();function z3(r,t){return t===void 0&&(t=0),H3.operate(function(e,i){i.add(r.schedule(function(){return e.subscribe(i)},t))})}Sp.subscribeOn=z3});var PP=T(Op=>{"use strict";p();Object.defineProperty(Op,"__esModule",{value:!0});Op.scheduleObservable=void 0;var V3=ye(),G3=el(),Z3=tl();function J3(r,t){return V3.innerFrom(r).pipe(Z3.subscribeOn(t),G3.observeOn(t))}Op.scheduleObservable=J3});var AP=T(Tp=>{"use strict";p();Object.defineProperty(Tp,"__esModule",{value:!0});Tp.schedulePromise=void 0;var K3=ye(),Y3=el(),X3=tl();function Q3(r,t){return K3.innerFrom(r).pipe(X3.subscribeOn(t),Y3.observeOn(t))}Tp.schedulePromise=Q3});var xP=T(Pp=>{"use strict";p();Object.defineProperty(Pp,"__esModule",{value:!0});Pp.scheduleArray=void 0;var eV=ze();function tV(r,t){return new eV.Observable(function(e){var i=0;return t.schedule(function(){i===r.length?e.complete():(e.next(r[i++]),e.closed||this.schedule())})})}Pp.scheduleArray=tV});var Qb=T(Ap=>{"use strict";p();Object.defineProperty(Ap,"__esModule",{value:!0});Ap.scheduleIterable=void 0;var rV=ze(),iV=Zb(),nV=Ue(),CP=Ii();function oV(r,t){return new rV.Observable(function(e){var i;return CP.executeSchedule(e,t,function(){i=r[iV.iterator](),CP.executeSchedule(e,t,function(){var n,o,u;try{n=i.next(),o=n.value,u=n.done}catch(l){e.error(l);return}u?e.complete():e.next(o)},0,!0)}),function(){return nV.isFunction(i==null?void 0:i.return)&&i.return()}})}Ap.scheduleIterable=oV});var ey=T(xp=>{"use strict";p();Object.defineProperty(xp,"__esModule",{value:!0});xp.scheduleAsyncIterable=void 0;var sV=ze(),MP=Ii();function aV(r,t){if(!r)throw new Error("Iterable cannot be null");return new sV.Observable(function(e){MP.executeSchedule(e,t,function(){var i=r[Symbol.asyncIterator]();MP.executeSchedule(e,t,function(){i.next().then(function(n){n.done?e.complete():e.next(n.value)})},0,!0)})})}xp.scheduleAsyncIterable=aV});var IP=T(Cp=>{"use strict";p();Object.defineProperty(Cp,"__esModule",{value:!0});Cp.scheduleReadableStreamLike=void 0;var uV=ey(),lV=_p();function cV(r,t){return uV.scheduleAsyncIterable(lV.readableStreamLikeToAsyncGenerator(r),t)}Cp.scheduleReadableStreamLike=cV});var ty=T(Mp=>{"use strict";p();Object.defineProperty(Mp,"__esModule",{value:!0});Mp.scheduled=void 0;var dV=PP(),pV=AP(),hV=xP(),fV=Qb(),mV=ey(),vV=zb(),gV=Hb(),bV=fp(),yV=Jb(),_V=Vb(),wV=Gb(),EV=_p(),SV=IP();function OV(r,t){if(r!=null){if(vV.isInteropObservable(r))return dV.scheduleObservable(r,t);if(bV.isArrayLike(r))return hV.scheduleArray(r,t);if(gV.isPromise(r))return pV.schedulePromise(r,t);if(_V.isAsyncIterable(r))return mV.scheduleAsyncIterable(r,t);if(yV.isIterable(r))return fV.scheduleIterable(r,t);if(EV.isReadableStreamLike(r))return SV.scheduleReadableStreamLike(r,t)}throw wV.createInvalidObservableTypeError(r)}Mp.scheduled=OV});var Li=T(Ip=>{"use strict";p();Object.defineProperty(Ip,"__esModule",{value:!0});Ip.from=void 0;var TV=ty(),PV=ye();function AV(r,t){return t?TV.scheduled(r,t):PV.innerFrom(r)}Ip.from=AV});var Rp=T(Lp=>{"use strict";p();Object.defineProperty(Lp,"__esModule",{value:!0});Lp.of=void 0;var xV=Kt(),CV=Li();function MV(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=xV.popScheduler(r);return CV.from(r,e)}Lp.of=MV});var ry=T(kp=>{"use strict";p();Object.defineProperty(kp,"__esModule",{value:!0});kp.throwError=void 0;var IV=ze(),LV=Ue();function RV(r,t){var e=LV.isFunction(r)?r:function(){return r},i=function(n){return n.error(e())};return new IV.Observable(t?function(n){return t.schedule(i,0,n)}:i)}kp.throwError=RV});var Np=T(Ri=>{"use strict";p();Object.defineProperty(Ri,"__esModule",{value:!0});Ri.observeNotification=Ri.Notification=Ri.NotificationKind=void 0;var kV=Wr(),NV=Rp(),FV=ry(),DV=Ue(),qV;(function(r){r.NEXT="N",r.ERROR="E",r.COMPLETE="C"})(qV=Ri.NotificationKind||(Ri.NotificationKind={}));var $V=function(){function r(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue=t==="N"}return r.prototype.observe=function(t){return LP(this,t)},r.prototype.do=function(t,e,i){var n=this,o=n.kind,u=n.value,l=n.error;return o==="N"?t==null?void 0:t(u):o==="E"?e==null?void 0:e(l):i==null?void 0:i()},r.prototype.accept=function(t,e,i){var n;return DV.isFunction((n=t)===null||n===void 0?void 0:n.next)?this.observe(t):this.do(t,e,i)},r.prototype.toObservable=function(){var t=this,e=t.kind,i=t.value,n=t.error,o=e==="N"?NV.of(i):e==="E"?FV.throwError(function(){return n}):e==="C"?kV.EMPTY:0;if(!o)throw new TypeError("Unexpected notification kind "+e);return o},r.createNext=function(t){return new r("N",t)},r.createError=function(t){return new r("E",void 0,t)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r}();Ri.Notification=$V;function LP(r,t){var e,i,n,o=r,u=o.kind,l=o.value,c=o.error;if(typeof u!="string")throw new TypeError('Invalid notification, missing "kind"');u==="N"?(e=t.next)===null||e===void 0||e.call(t,l):u==="E"?(i=t.error)===null||i===void 0||i.call(t,c):(n=t.complete)===null||n===void 0||n.call(t)}Ri.observeNotification=LP});var kP=T(Fp=>{"use strict";p();Object.defineProperty(Fp,"__esModule",{value:!0});Fp.isObservable=void 0;var jV=ze(),RP=Ue();function BV(r){return!!r&&(r instanceof jV.Observable||RP.isFunction(r.lift)&&RP.isFunction(r.subscribe))}Fp.isObservable=BV});var ln=T(Dp=>{"use strict";p();Object.defineProperty(Dp,"__esModule",{value:!0});Dp.EmptyError=void 0;var WV=on();Dp.EmptyError=WV.createErrorClass(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}})});var NP=T(qp=>{"use strict";p();Object.defineProperty(qp,"__esModule",{value:!0});qp.lastValueFrom=void 0;var UV=ln();function HV(r,t){var e=typeof t=="object";return new Promise(function(i,n){var o=!1,u;r.subscribe({next:function(l){u=l,o=!0},error:n,complete:function(){o?i(u):e?i(t.defaultValue):n(new UV.EmptyError)}})})}qp.lastValueFrom=HV});var FP=T($p=>{"use strict";p();Object.defineProperty($p,"__esModule",{value:!0});$p.firstValueFrom=void 0;var zV=ln(),VV=qs();function GV(r,t){var e=typeof t=="object";return new Promise(function(i,n){var o=new VV.SafeSubscriber({next:function(u){i(u),o.unsubscribe()},error:n,complete:function(){e?i(t.defaultValue):n(new zV.EmptyError)}});r.subscribe(o)})}$p.firstValueFrom=GV});var iy=T(jp=>{"use strict";p();Object.defineProperty(jp,"__esModule",{value:!0});jp.ArgumentOutOfRangeError=void 0;var ZV=on();jp.ArgumentOutOfRangeError=ZV.createErrorClass(function(r){return function(){r(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})});var ny=T(Bp=>{"use strict";p();Object.defineProperty(Bp,"__esModule",{value:!0});Bp.NotFoundError=void 0;var JV=on();Bp.NotFoundError=JV.createErrorClass(function(r){return function(e){r(this),this.name="NotFoundError",this.message=e}})});var oy=T(Wp=>{"use strict";p();Object.defineProperty(Wp,"__esModule",{value:!0});Wp.SequenceError=void 0;var KV=on();Wp.SequenceError=KV.createErrorClass(function(r){return function(e){r(this),this.name="SequenceError",this.message=e}})});var Hp=T(Up=>{"use strict";p();Object.defineProperty(Up,"__esModule",{value:!0});Up.isValidDate=void 0;function YV(r){return r instanceof Date&&!isNaN(r)}Up.isValidDate=YV});var zp=T(fo=>{"use strict";p();Object.defineProperty(fo,"__esModule",{value:!0});fo.timeout=fo.TimeoutError=void 0;var XV=Jt(),QV=Hp(),eG=G(),tG=ye(),rG=on(),iG=Q(),nG=Ii();fo.TimeoutError=rG.createErrorClass(function(r){return function(e){e===void 0&&(e=null),r(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e}});function oG(r,t){var e=QV.isValidDate(r)?{first:r}:typeof r=="number"?{each:r}:r,i=e.first,n=e.each,o=e.with,u=o===void 0?sG:o,l=e.scheduler,c=l===void 0?t??XV.asyncScheduler:l,h=e.meta,m=h===void 0?null:h;if(i==null&&n==null)throw new TypeError("No timeout provided.");return eG.operate(function(b,y){var w,O,x=null,R=0,L=function(W){O=nG.executeSchedule(y,c,function(){try{w.unsubscribe(),tG.innerFrom(u({meta:m,lastValue:x,seen:R})).subscribe(y)}catch(Y){y.error(Y)}},W)};w=b.subscribe(iG.createOperatorSubscriber(y,function(W){O==null||O.unsubscribe(),R++,y.next(x=W),n>0&&L(n)},void 0,void 0,function(){O!=null&&O.closed||O==null||O.unsubscribe(),x=null})),!R&&L(i!=null?typeof i=="number"?i:+i-c.now():n)})}fo.timeout=oG;function sG(r){throw new fo.TimeoutError(r)}});var cn=T(Vp=>{"use strict";p();Object.defineProperty(Vp,"__esModule",{value:!0});Vp.map=void 0;var aG=G(),uG=Q();function lG(r,t){return aG.operate(function(e,i){var n=0;e.subscribe(uG.createOperatorSubscriber(i,function(o){i.next(r.call(t,o,n++))}))})}Vp.map=lG});var pn=T(dn=>{"use strict";p();var cG=dn&&dn.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},dG=dn&&dn.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(dn,"__esModule",{value:!0});dn.mapOneOrManyArgs=void 0;var pG=cn(),hG=Array.isArray;function fG(r,t){return hG(t)?r.apply(void 0,dG([],cG(t))):r(t)}function mG(r){return pG.map(function(t){return fG(r,t)})}dn.mapOneOrManyArgs=mG});var ay=T(hn=>{"use strict";p();var vG=hn&&hn.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},DP=hn&&hn.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(hn,"__esModule",{value:!0});hn.bindCallbackInternals=void 0;var gG=Qu(),bG=ze(),yG=tl(),_G=pn(),wG=el(),EG=lp();function sy(r,t,e,i){if(e)if(gG.isScheduler(e))i=e;else return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return sy(r,t,i).apply(this,n).pipe(_G.mapOneOrManyArgs(e))};return i?function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return sy(r,t).apply(this,n).pipe(yG.subscribeOn(i),wG.observeOn(i))}:function(){for(var n=this,o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];var l=new EG.AsyncSubject,c=!0;return new bG.Observable(function(h){var m=l.subscribe(h);if(c){c=!1;var b=!1,y=!1;t.apply(n,DP(DP([],vG(o)),[function(){for(var w=[],O=0;O<arguments.length;O++)w[O]=arguments[O];if(r){var x=w.shift();if(x!=null){l.error(x);return}}l.next(1<w.length?w:w[0]),y=!0,b&&l.complete()}])),y&&l.complete(),b=!0}return m})}}hn.bindCallbackInternals=sy});var qP=T(Gp=>{"use strict";p();Object.defineProperty(Gp,"__esModule",{value:!0});Gp.bindCallback=void 0;var SG=ay();function OG(r,t,e){return SG.bindCallbackInternals(!1,r,t,e)}Gp.bindCallback=OG});var $P=T(Zp=>{"use strict";p();Object.defineProperty(Zp,"__esModule",{value:!0});Zp.bindNodeCallback=void 0;var TG=ay();function PG(r,t,e){return TG.bindCallbackInternals(!0,r,t,e)}Zp.bindNodeCallback=PG});var uy=T(Jp=>{"use strict";p();Object.defineProperty(Jp,"__esModule",{value:!0});Jp.argsArgArrayOrObject=void 0;var AG=Array.isArray,xG=Object.getPrototypeOf,CG=Object.prototype,MG=Object.keys;function IG(r){if(r.length===1){var t=r[0];if(AG(t))return{args:t,keys:null};if(LG(t)){var e=MG(t);return{args:e.map(function(i){return t[i]}),keys:e}}}return{args:r,keys:null}}Jp.argsArgArrayOrObject=IG;function LG(r){return r&&typeof r=="object"&&xG(r)===CG}});var ly=T(Kp=>{"use strict";p();Object.defineProperty(Kp,"__esModule",{value:!0});Kp.createObject=void 0;function RG(r,t){return r.reduce(function(e,i,n){return e[i]=t[n],e},{})}Kp.createObject=RG});var Yp=T(sa=>{"use strict";p();Object.defineProperty(sa,"__esModule",{value:!0});sa.combineLatestInit=sa.combineLatest=void 0;var kG=ze(),NG=uy(),WP=Li(),UP=Ct(),FG=pn(),jP=Kt(),DG=ly(),qG=Q(),$G=Ii();function jG(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=jP.popScheduler(r),i=jP.popResultSelector(r),n=NG.argsArgArrayOrObject(r),o=n.args,u=n.keys;if(o.length===0)return WP.from([],e);var l=new kG.Observable(HP(o,e,u?function(c){return DG.createObject(u,c)}:UP.identity));return i?l.pipe(FG.mapOneOrManyArgs(i)):l}sa.combineLatest=jG;function HP(r,t,e){return e===void 0&&(e=UP.identity),function(i){BP(t,function(){for(var n=r.length,o=new Array(n),u=n,l=n,c=function(m){BP(t,function(){var b=WP.from(r[m],t),y=!1;b.subscribe(qG.createOperatorSubscriber(i,function(w){o[m]=w,y||(y=!0,l--),l||i.next(e(o.slice()))},function(){--u||i.complete()}))},i)},h=0;h<n;h++)c(h)},i)}}sa.combineLatestInit=HP;function BP(r,t,e){r?$G.executeSchedule(e,r,t):t()}});var Qp=T(Xp=>{"use strict";p();Object.defineProperty(Xp,"__esModule",{value:!0});Xp.mergeInternals=void 0;var BG=ye(),WG=Ii(),zP=Q();function UG(r,t,e,i,n,o,u,l){var c=[],h=0,m=0,b=!1,y=function(){b&&!c.length&&!h&&t.complete()},w=function(x){return h<i?O(x):c.push(x)},O=function(x){o&&t.next(x),h++;var R=!1;BG.innerFrom(e(x,m++)).subscribe(zP.createOperatorSubscriber(t,function(L){n==null||n(L),o?w(L):t.next(L)},function(){R=!0},void 0,function(){if(R)try{h--;for(var L=function(){var W=c.shift();u?WG.executeSchedule(t,u,function(){return O(W)}):O(W)};c.length&&h<i;)L();y()}catch(W){t.error(W)}}))};return r.subscribe(zP.createOperatorSubscriber(t,w,function(){b=!0,y()})),function(){l==null||l()}}Xp.mergeInternals=UG});var ki=T(eh=>{"use strict";p();Object.defineProperty(eh,"__esModule",{value:!0});eh.mergeMap=void 0;var HG=cn(),zG=ye(),VG=G(),GG=Qp(),ZG=Ue();function VP(r,t,e){return e===void 0&&(e=1/0),ZG.isFunction(t)?VP(function(i,n){return HG.map(function(o,u){return t(i,o,n,u)})(zG.innerFrom(r(i,n)))},e):(typeof t=="number"&&(e=t),VG.operate(function(i,n){return GG.mergeInternals(i,n,r,e)}))}eh.mergeMap=VP});var rl=T(th=>{"use strict";p();Object.defineProperty(th,"__esModule",{value:!0});th.mergeAll=void 0;var JG=ki(),KG=Ct();function YG(r){return r===void 0&&(r=1/0),JG.mergeMap(KG.identity,r)}th.mergeAll=YG});var ih=T(rh=>{"use strict";p();Object.defineProperty(rh,"__esModule",{value:!0});rh.concatAll=void 0;var XG=rl();function QG(){return XG.mergeAll(1)}rh.concatAll=QG});var il=T(nh=>{"use strict";p();Object.defineProperty(nh,"__esModule",{value:!0});nh.concat=void 0;var e6=ih(),t6=Kt(),r6=Li();function i6(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return e6.concatAll()(r6.from(r,t6.popScheduler(r)))}nh.concat=i6});var nl=T(oh=>{"use strict";p();Object.defineProperty(oh,"__esModule",{value:!0});oh.defer=void 0;var n6=ze(),o6=ye();function s6(r){return new n6.Observable(function(t){o6.innerFrom(r()).subscribe(t)})}oh.defer=s6});var GP=T(sh=>{"use strict";p();Object.defineProperty(sh,"__esModule",{value:!0});sh.connectable=void 0;var a6=Mt(),u6=ze(),l6=nl(),c6={connector:function(){return new a6.Subject},resetOnDisconnect:!0};function d6(r,t){t===void 0&&(t=c6);var e=null,i=t.connector,n=t.resetOnDisconnect,o=n===void 0?!0:n,u=i(),l=new u6.Observable(function(c){return u.subscribe(c)});return l.connect=function(){return(!e||e.closed)&&(e=l6.defer(function(){return r}).subscribe(u),o&&e.add(function(){return u=i()})),e},l}sh.connectable=d6});var ZP=T(ah=>{"use strict";p();Object.defineProperty(ah,"__esModule",{value:!0});ah.forkJoin=void 0;var p6=ze(),h6=uy(),f6=ye(),m6=Kt(),v6=Q(),g6=pn(),b6=ly();function y6(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=m6.popResultSelector(r),i=h6.argsArgArrayOrObject(r),n=i.args,o=i.keys,u=new p6.Observable(function(l){var c=n.length;if(!c){l.complete();return}for(var h=new Array(c),m=c,b=c,y=function(O){var x=!1;f6.innerFrom(n[O]).subscribe(v6.createOperatorSubscriber(l,function(R){x||(x=!0,b--),h[O]=R},function(){return m--},void 0,function(){(!m||!x)&&(b||l.next(o?b6.createObject(o,h):h),l.complete())}))},w=0;w<c;w++)y(w)});return e?u.pipe(g6.mapOneOrManyArgs(e)):u}ah.forkJoin=y6});var KP=T(aa=>{"use strict";p();var _6=aa&&aa.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o};Object.defineProperty(aa,"__esModule",{value:!0});aa.fromEvent=void 0;var w6=ye(),E6=ze(),S6=ki(),O6=fp(),mo=Ue(),T6=pn(),P6=["addListener","removeListener"],A6=["addEventListener","removeEventListener"],x6=["on","off"];function cy(r,t,e,i){if(mo.isFunction(e)&&(i=e,e=void 0),i)return cy(r,t,e).pipe(T6.mapOneOrManyArgs(i));var n=_6(I6(r)?A6.map(function(l){return function(c){return r[l](t,c,e)}}):C6(r)?P6.map(JP(r,t)):M6(r)?x6.map(JP(r,t)):[],2),o=n[0],u=n[1];if(!o&&O6.isArrayLike(r))return S6.mergeMap(function(l){return cy(l,t,e)})(w6.innerFrom(r));if(!o)throw new TypeError("Invalid event target");return new E6.Observable(function(l){var c=function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];return l.next(1<h.length?h:h[0])};return o(c),function(){return u(c)}})}aa.fromEvent=cy;function JP(r,t){return function(e){return function(i){return r[e](t,i)}}}function C6(r){return mo.isFunction(r.addListener)&&mo.isFunction(r.removeListener)}function M6(r){return mo.isFunction(r.on)&&mo.isFunction(r.off)}function I6(r){return mo.isFunction(r.addEventListener)&&mo.isFunction(r.removeEventListener)}});var XP=T(uh=>{"use strict";p();Object.defineProperty(uh,"__esModule",{value:!0});uh.fromEventPattern=void 0;var L6=ze(),R6=Ue(),k6=pn();function YP(r,t,e){return e?YP(r,t).pipe(k6.mapOneOrManyArgs(e)):new L6.Observable(function(i){var n=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return i.next(u.length===1?u[0]:u)},o=r(n);return R6.isFunction(t)?function(){return t(n,o)}:void 0})}uh.fromEventPattern=YP});var eA=T(ua=>{"use strict";p();var N6=ua&&ua.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,n,o,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(h){return function(m){return c([h,m])}}function c(h){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,n&&(o=h[0]&2?n.return:h[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,h[1])).done)return o;switch(n=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return e.label++,{value:h[1],done:!1};case 5:e.label++,n=h[1],h=[0];continue;case 7:h=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){e=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){e.label=h[1];break}if(h[0]===6&&e.label<o[1]){e.label=o[1],o=h;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(h);break}o[2]&&e.ops.pop(),e.trys.pop();continue}h=t.call(r,e)}catch(m){h=[6,m],n=0}finally{i=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}};Object.defineProperty(ua,"__esModule",{value:!0});ua.generate=void 0;var QP=Ct(),F6=Qu(),D6=nl(),q6=Qb();function $6(r,t,e,i,n){var o,u,l,c;arguments.length===1?(o=r,c=o.initialState,t=o.condition,e=o.iterate,u=o.resultSelector,l=u===void 0?QP.identity:u,n=o.scheduler):(c=r,!i||F6.isScheduler(i)?(l=QP.identity,n=i):l=i);function h(){var m;return N6(this,function(b){switch(b.label){case 0:m=c,b.label=1;case 1:return!t||t(m)?[4,l(m)]:[3,4];case 2:b.sent(),b.label=3;case 3:return m=e(m),[3,1];case 4:return[2]}})}return D6.defer(n?function(){return q6.scheduleIterable(h(),n)}:h)}ua.generate=$6});var tA=T(lh=>{"use strict";p();Object.defineProperty(lh,"__esModule",{value:!0});lh.iif=void 0;var j6=nl();function B6(r,t,e){return j6.defer(function(){return r()?t:e})}lh.iif=B6});var fn=T(ch=>{"use strict";p();Object.defineProperty(ch,"__esModule",{value:!0});ch.timer=void 0;var W6=ze(),U6=Jt(),H6=Qu(),z6=Hp();function V6(r,t,e){r===void 0&&(r=0),e===void 0&&(e=U6.async);var i=-1;return t!=null&&(H6.isScheduler(t)?e=t:i=t),new W6.Observable(function(n){var o=z6.isValidDate(r)?+r-e.now():r;o<0&&(o=0);var u=0;return e.schedule(function(){n.closed||(n.next(u++),0<=i?this.schedule(void 0,i):n.complete())},o)})}ch.timer=V6});var dy=T(dh=>{"use strict";p();Object.defineProperty(dh,"__esModule",{value:!0});dh.interval=void 0;var G6=Jt(),Z6=fn();function J6(r,t){return r===void 0&&(r=0),t===void 0&&(t=G6.asyncScheduler),r<0&&(r=0),Z6.timer(r,r,t)}dh.interval=J6});var iA=T(ph=>{"use strict";p();Object.defineProperty(ph,"__esModule",{value:!0});ph.merge=void 0;var K6=rl(),Y6=ye(),X6=Wr(),rA=Kt(),Q6=Li();function e4(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=rA.popScheduler(r),i=rA.popNumber(r,1/0),n=r;return n.length?n.length===1?Y6.innerFrom(n[0]):K6.mergeAll(i)(Q6.from(n,e)):X6.EMPTY}ph.merge=e4});var py=T(vo=>{"use strict";p();Object.defineProperty(vo,"__esModule",{value:!0});vo.never=vo.NEVER=void 0;var t4=ze(),r4=xt();vo.NEVER=new t4.Observable(r4.noop);function i4(){return vo.NEVER}vo.never=i4});var go=T(hh=>{"use strict";p();Object.defineProperty(hh,"__esModule",{value:!0});hh.argsOrArgArray=void 0;var n4=Array.isArray;function o4(r){return r.length===1&&n4(r[0])?r[0]:r}hh.argsOrArgArray=o4});var hy=T(fh=>{"use strict";p();Object.defineProperty(fh,"__esModule",{value:!0});fh.onErrorResumeNext=void 0;var s4=ze(),a4=go(),u4=Q(),nA=xt(),l4=ye();function c4(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=a4.argsOrArgArray(r);return new s4.Observable(function(i){var n=0,o=function(){if(n<e.length){var u=void 0;try{u=l4.innerFrom(e[n++])}catch{o();return}var l=new u4.OperatorSubscriber(i,void 0,nA.noop,nA.noop);u.subscribe(l),l.add(o)}else i.complete()};o()})}fh.onErrorResumeNext=c4});var oA=T(mh=>{"use strict";p();Object.defineProperty(mh,"__esModule",{value:!0});mh.pairs=void 0;var d4=Li();function p4(r,t){return d4.from(Object.entries(r),t)}mh.pairs=p4});var sA=T(vh=>{"use strict";p();Object.defineProperty(vh,"__esModule",{value:!0});vh.not=void 0;function h4(r,t){return function(e,i){return!r.call(t,e,i)}}vh.not=h4});var bo=T(gh=>{"use strict";p();Object.defineProperty(gh,"__esModule",{value:!0});gh.filter=void 0;var f4=G(),m4=Q();function v4(r,t){return f4.operate(function(e,i){var n=0;e.subscribe(m4.createOperatorSubscriber(i,function(o){return r.call(t,o,n++)&&i.next(o)}))})}gh.filter=v4});var lA=T(bh=>{"use strict";p();Object.defineProperty(bh,"__esModule",{value:!0});bh.partition=void 0;var g4=sA(),aA=bo(),uA=ye();function b4(r,t,e){return[aA.filter(t,e)(uA.innerFrom(r)),aA.filter(g4.not(t,e))(uA.innerFrom(r))]}bh.partition=b4});var fy=T(la=>{"use strict";p();Object.defineProperty(la,"__esModule",{value:!0});la.raceInit=la.race=void 0;var y4=ze(),cA=ye(),_4=go(),w4=Q();function E4(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return r=_4.argsOrArgArray(r),r.length===1?cA.innerFrom(r[0]):new y4.Observable(dA(r))}la.race=E4;function dA(r){return function(t){for(var e=[],i=function(o){e.push(cA.innerFrom(r[o]).subscribe(w4.createOperatorSubscriber(t,function(u){if(e){for(var l=0;l<e.length;l++)l!==o&&e[l].unsubscribe();e=null}t.next(u)})))},n=0;e&&!t.closed&&n<r.length;n++)i(n)}}la.raceInit=dA});var pA=T(yh=>{"use strict";p();Object.defineProperty(yh,"__esModule",{value:!0});yh.range=void 0;var S4=ze(),O4=Wr();function T4(r,t,e){if(t==null&&(t=r,r=0),t<=0)return O4.EMPTY;var i=t+r;return new S4.Observable(e?function(n){var o=r;return e.schedule(function(){o<i?(n.next(o++),this.schedule()):n.complete()})}:function(n){for(var o=r;o<i&&!n.closed;)n.next(o++);n.complete()})}yh.range=T4});var hA=T(_h=>{"use strict";p();Object.defineProperty(_h,"__esModule",{value:!0});_h.using=void 0;var P4=ze(),A4=ye(),x4=Wr();function C4(r,t){return new P4.Observable(function(e){var i=r(),n=t(i),o=n?A4.innerFrom(n):x4.EMPTY;return o.subscribe(e),function(){i&&i.unsubscribe()}})}_h.using=C4});var wh=T(mn=>{"use strict";p();var M4=mn&&mn.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},I4=mn&&mn.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(mn,"__esModule",{value:!0});mn.zip=void 0;var L4=ze(),R4=ye(),k4=go(),N4=Wr(),F4=Q(),D4=Kt();function q4(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=D4.popResultSelector(r),i=k4.argsOrArgArray(r);return i.length?new L4.Observable(function(n){var o=i.map(function(){return[]}),u=i.map(function(){return!1});n.add(function(){o=u=null});for(var l=function(h){R4.innerFrom(i[h]).subscribe(F4.createOperatorSubscriber(n,function(m){if(o[h].push(m),o.every(function(y){return y.length})){var b=o.map(function(y){return y.shift()});n.next(e?e.apply(void 0,I4([],M4(b))):b),o.some(function(y,w){return!y.length&&u[w]})&&n.complete()}},function(){u[h]=!0,!o[h].length&&n.complete()}))},c=0;!n.closed&&c<i.length;c++)l(c);return function(){o=u=null}}):N4.EMPTY}mn.zip=q4});var mA=T(fA=>{"use strict";p();Object.defineProperty(fA,"__esModule",{value:!0})});var my=T(Eh=>{"use strict";p();Object.defineProperty(Eh,"__esModule",{value:!0});Eh.audit=void 0;var $4=G(),j4=ye(),vA=Q();function B4(r){return $4.operate(function(t,e){var i=!1,n=null,o=null,u=!1,l=function(){if(o==null||o.unsubscribe(),o=null,i){i=!1;var h=n;n=null,e.next(h)}u&&e.complete()},c=function(){o=null,u&&e.complete()};t.subscribe(vA.createOperatorSubscriber(e,function(h){i=!0,n=h,o||j4.innerFrom(r(h)).subscribe(o=vA.createOperatorSubscriber(e,l,c))},function(){u=!0,(!i||!o||o.closed)&&e.complete()}))})}Eh.audit=B4});var gA=T(Sh=>{"use strict";p();Object.defineProperty(Sh,"__esModule",{value:!0});Sh.auditTime=void 0;var W4=Jt(),U4=my(),H4=fn();function z4(r,t){return t===void 0&&(t=W4.asyncScheduler),U4.audit(function(){return H4.timer(r,t)})}Sh.auditTime=z4});var yA=T(Oh=>{"use strict";p();Object.defineProperty(Oh,"__esModule",{value:!0});Oh.buffer=void 0;var V4=G(),G4=xt(),bA=Q(),Z4=ye();function J4(r){return V4.operate(function(t,e){var i=[];return t.subscribe(bA.createOperatorSubscriber(e,function(n){return i.push(n)},function(){e.next(i),e.complete()})),Z4.innerFrom(r).subscribe(bA.createOperatorSubscriber(e,function(){var n=i;i=[],e.next(n)},G4.noop)),function(){i=null}})}Oh.buffer=J4});var _A=T(ca=>{"use strict";p();var vy=ca&&ca.__values||function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ca,"__esModule",{value:!0});ca.bufferCount=void 0;var K4=G(),Y4=Q(),X4=Mi();function Q4(r,t){return t===void 0&&(t=null),t=t??r,K4.operate(function(e,i){var n=[],o=0;e.subscribe(Y4.createOperatorSubscriber(i,function(u){var l,c,h,m,b=null;o++%t===0&&n.push([]);try{for(var y=vy(n),w=y.next();!w.done;w=y.next()){var O=w.value;O.push(u),r<=O.length&&(b=b??[],b.push(O))}}catch(L){l={error:L}}finally{try{w&&!w.done&&(c=y.return)&&c.call(y)}finally{if(l)throw l.error}}if(b)try{for(var x=vy(b),R=x.next();!R.done;R=x.next()){var O=R.value;X4.arrRemove(n,O),i.next(O)}}catch(L){h={error:L}}finally{try{R&&!R.done&&(m=x.return)&&m.call(x)}finally{if(h)throw h.error}}},function(){var u,l;try{for(var c=vy(n),h=c.next();!h.done;h=c.next()){var m=h.value;i.next(m)}}catch(b){u={error:b}}finally{try{h&&!h.done&&(l=c.return)&&l.call(c)}finally{if(u)throw u.error}}i.complete()},void 0,function(){n=null}))})}ca.bufferCount=Q4});var EA=T(da=>{"use strict";p();var eZ=da&&da.__values||function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(da,"__esModule",{value:!0});da.bufferTime=void 0;var tZ=sr(),rZ=G(),iZ=Q(),nZ=Mi(),oZ=Jt(),sZ=Kt(),wA=Ii();function aZ(r){for(var t,e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=(t=sZ.popScheduler(i))!==null&&t!==void 0?t:oZ.asyncScheduler,u=(e=i[0])!==null&&e!==void 0?e:null,l=i[1]||1/0;return rZ.operate(function(c,h){var m=[],b=!1,y=function(x){var R=x.buffer,L=x.subs;L.unsubscribe(),nZ.arrRemove(m,x),h.next(R),b&&w()},w=function(){if(m){var x=new tZ.Subscription;h.add(x);var R=[],L={buffer:R,subs:x};m.push(L),wA.executeSchedule(x,o,function(){return y(L)},r)}};u!==null&&u>=0?wA.executeSchedule(h,o,w,u,!0):b=!0,w();var O=iZ.createOperatorSubscriber(h,function(x){var R,L,W=m.slice();try{for(var Y=eZ(W),he=Y.next();!he.done;he=Y.next()){var we=he.value,U=we.buffer;U.push(x),l<=U.length&&y(we)}}catch(xe){R={error:xe}}finally{try{he&&!he.done&&(L=Y.return)&&L.call(Y)}finally{if(R)throw R.error}}},function(){for(;m!=null&&m.length;)h.next(m.shift().buffer);O==null||O.unsubscribe(),h.complete(),h.unsubscribe()},void 0,function(){return m=null});c.subscribe(O)})}da.bufferTime=aZ});var TA=T(pa=>{"use strict";p();var uZ=pa&&pa.__values||function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(pa,"__esModule",{value:!0});pa.bufferToggle=void 0;var lZ=sr(),cZ=G(),SA=ye(),gy=Q(),OA=xt(),dZ=Mi();function pZ(r,t){return cZ.operate(function(e,i){var n=[];SA.innerFrom(r).subscribe(gy.createOperatorSubscriber(i,function(o){var u=[];n.push(u);var l=new lZ.Subscription,c=function(){dZ.arrRemove(n,u),i.next(u),l.unsubscribe()};l.add(SA.innerFrom(t(o)).subscribe(gy.createOperatorSubscriber(i,c,OA.noop)))},OA.noop)),e.subscribe(gy.createOperatorSubscriber(i,function(o){var u,l;try{for(var c=uZ(n),h=c.next();!h.done;h=c.next()){var m=h.value;m.push(o)}}catch(b){u={error:b}}finally{try{h&&!h.done&&(l=c.return)&&l.call(c)}finally{if(u)throw u.error}}},function(){for(;n.length>0;)i.next(n.shift());i.complete()}))})}pa.bufferToggle=pZ});var AA=T(Th=>{"use strict";p();Object.defineProperty(Th,"__esModule",{value:!0});Th.bufferWhen=void 0;var hZ=G(),fZ=xt(),PA=Q(),mZ=ye();function vZ(r){return hZ.operate(function(t,e){var i=null,n=null,o=function(){n==null||n.unsubscribe();var u=i;i=[],u&&e.next(u),mZ.innerFrom(r()).subscribe(n=PA.createOperatorSubscriber(e,o,fZ.noop))};o(),t.subscribe(PA.createOperatorSubscriber(e,function(u){return i==null?void 0:i.push(u)},function(){i&&e.next(i),e.complete()},void 0,function(){return i=n=null}))})}Th.bufferWhen=vZ});var CA=T(Ph=>{"use strict";p();Object.defineProperty(Ph,"__esModule",{value:!0});Ph.catchError=void 0;var gZ=ye(),bZ=Q(),yZ=G();function xA(r){return yZ.operate(function(t,e){var i=null,n=!1,o;i=t.subscribe(bZ.createOperatorSubscriber(e,void 0,void 0,function(u){o=gZ.innerFrom(r(u,xA(r)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):n=!0})),n&&(i.unsubscribe(),i=null,o.subscribe(e))})}Ph.catchError=xA});var by=T(Ah=>{"use strict";p();Object.defineProperty(Ah,"__esModule",{value:!0});Ah.scanInternals=void 0;var _Z=Q();function wZ(r,t,e,i,n){return function(o,u){var l=e,c=t,h=0;o.subscribe(_Z.createOperatorSubscriber(u,function(m){var b=h++;c=l?r(c,m,b):(l=!0,m),i&&u.next(c)},n&&function(){l&&u.next(c),u.complete()}))}}Ah.scanInternals=wZ});var ha=T(xh=>{"use strict";p();Object.defineProperty(xh,"__esModule",{value:!0});xh.reduce=void 0;var EZ=by(),SZ=G();function OZ(r,t){return SZ.operate(EZ.scanInternals(r,t,arguments.length>=2,!1,!0))}xh.reduce=OZ});var yy=T(Ch=>{"use strict";p();Object.defineProperty(Ch,"__esModule",{value:!0});Ch.toArray=void 0;var TZ=ha(),PZ=G(),AZ=function(r,t){return r.push(t),r};function xZ(){return PZ.operate(function(r,t){TZ.reduce(AZ,[])(r).subscribe(t)})}Ch.toArray=xZ});var _y=T(Mh=>{"use strict";p();Object.defineProperty(Mh,"__esModule",{value:!0});Mh.joinAllInternals=void 0;var CZ=Ct(),MZ=pn(),IZ=Ju(),LZ=ki(),RZ=yy();function kZ(r,t){return IZ.pipe(RZ.toArray(),LZ.mergeMap(function(e){return r(e)}),t?MZ.mapOneOrManyArgs(t):CZ.identity)}Mh.joinAllInternals=kZ});var wy=T(Ih=>{"use strict";p();Object.defineProperty(Ih,"__esModule",{value:!0});Ih.combineLatestAll=void 0;var NZ=Yp(),FZ=_y();function DZ(r){return FZ.joinAllInternals(NZ.combineLatest,r)}Ih.combineLatestAll=DZ});var MA=T(Lh=>{"use strict";p();Object.defineProperty(Lh,"__esModule",{value:!0});Lh.combineAll=void 0;var qZ=wy();Lh.combineAll=qZ.combineLatestAll});var kA=T(vn=>{"use strict";p();var IA=vn&&vn.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},LA=vn&&vn.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(vn,"__esModule",{value:!0});vn.combineLatest=void 0;var $Z=Yp(),jZ=G(),BZ=go(),WZ=pn(),UZ=Ju(),HZ=Kt();function RA(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=HZ.popResultSelector(r);return e?UZ.pipe(RA.apply(void 0,LA([],IA(r))),WZ.mapOneOrManyArgs(e)):jZ.operate(function(i,n){$Z.combineLatestInit(LA([i],IA(BZ.argsOrArgArray(r))))(n)})}vn.combineLatest=RA});var NA=T(gn=>{"use strict";p();var zZ=gn&&gn.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},VZ=gn&&gn.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(gn,"__esModule",{value:!0});gn.combineLatestWith=void 0;var GZ=kA();function ZZ(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return GZ.combineLatest.apply(void 0,VZ([],zZ(r)))}gn.combineLatestWith=ZZ});var Ey=T(Rh=>{"use strict";p();Object.defineProperty(Rh,"__esModule",{value:!0});Rh.concatMap=void 0;var FA=ki(),JZ=Ue();function KZ(r,t){return JZ.isFunction(t)?FA.mergeMap(r,t,1):FA.mergeMap(r,1)}Rh.concatMap=KZ});var qA=T(kh=>{"use strict";p();Object.defineProperty(kh,"__esModule",{value:!0});kh.concatMapTo=void 0;var DA=Ey(),YZ=Ue();function XZ(r,t){return YZ.isFunction(t)?DA.concatMap(function(){return r},t):DA.concatMap(function(){return r})}kh.concatMapTo=XZ});var $A=T(bn=>{"use strict";p();var QZ=bn&&bn.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},e9=bn&&bn.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(bn,"__esModule",{value:!0});bn.concat=void 0;var t9=G(),r9=ih(),i9=Kt(),n9=Li();function o9(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=i9.popScheduler(r);return t9.operate(function(i,n){r9.concatAll()(n9.from(e9([i],QZ(r)),e)).subscribe(n)})}bn.concat=o9});var jA=T(yn=>{"use strict";p();var s9=yn&&yn.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},a9=yn&&yn.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(yn,"__esModule",{value:!0});yn.concatWith=void 0;var u9=$A();function l9(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return u9.concat.apply(void 0,a9([],s9(r)))}yn.concatWith=l9});var BA=T(Nh=>{"use strict";p();Object.defineProperty(Nh,"__esModule",{value:!0});Nh.fromSubscribable=void 0;var c9=ze();function d9(r){return new c9.Observable(function(t){return r.subscribe(t)})}Nh.fromSubscribable=d9});var Dh=T(Fh=>{"use strict";p();Object.defineProperty(Fh,"__esModule",{value:!0});Fh.connect=void 0;var p9=Mt(),h9=ye(),f9=G(),m9=BA(),v9={connector:function(){return new p9.Subject}};function g9(r,t){t===void 0&&(t=v9);var e=t.connector;return f9.operate(function(i,n){var o=e();h9.innerFrom(r(m9.fromSubscribable(o))).subscribe(n),n.add(i.subscribe(o))})}Fh.connect=g9});var WA=T(qh=>{"use strict";p();Object.defineProperty(qh,"__esModule",{value:!0});qh.count=void 0;var b9=ha();function y9(r){return b9.reduce(function(t,e,i){return!r||r(e,i)?t+1:t},0)}qh.count=y9});var HA=T($h=>{"use strict";p();Object.defineProperty($h,"__esModule",{value:!0});$h.debounce=void 0;var _9=G(),w9=xt(),UA=Q(),E9=ye();function S9(r){return _9.operate(function(t,e){var i=!1,n=null,o=null,u=function(){if(o==null||o.unsubscribe(),o=null,i){i=!1;var l=n;n=null,e.next(l)}};t.subscribe(UA.createOperatorSubscriber(e,function(l){o==null||o.unsubscribe(),i=!0,n=l,o=UA.createOperatorSubscriber(e,u,w9.noop),E9.innerFrom(r(l)).subscribe(o)},function(){u(),e.complete()},void 0,function(){n=o=null}))})}$h.debounce=S9});var zA=T(jh=>{"use strict";p();Object.defineProperty(jh,"__esModule",{value:!0});jh.debounceTime=void 0;var O9=Jt(),T9=G(),P9=Q();function A9(r,t){return t===void 0&&(t=O9.asyncScheduler),T9.operate(function(e,i){var n=null,o=null,u=null,l=function(){if(n){n.unsubscribe(),n=null;var h=o;o=null,i.next(h)}};function c(){var h=u+r,m=t.now();if(m<h){n=this.schedule(void 0,h-m),i.add(n);return}l()}e.subscribe(P9.createOperatorSubscriber(i,function(h){o=h,u=t.now(),n||(n=t.schedule(c,r),i.add(n))},function(){l(),i.complete()},void 0,function(){o=n=null}))})}jh.debounceTime=A9});var ol=T(Bh=>{"use strict";p();Object.defineProperty(Bh,"__esModule",{value:!0});Bh.defaultIfEmpty=void 0;var x9=G(),C9=Q();function M9(r){return x9.operate(function(t,e){var i=!1;t.subscribe(C9.createOperatorSubscriber(e,function(n){i=!0,e.next(n)},function(){i||e.next(r),e.complete()}))})}Bh.defaultIfEmpty=M9});var sl=T(Wh=>{"use strict";p();Object.defineProperty(Wh,"__esModule",{value:!0});Wh.take=void 0;var I9=Wr(),L9=G(),R9=Q();function k9(r){return r<=0?function(){return I9.EMPTY}:L9.operate(function(t,e){var i=0;t.subscribe(R9.createOperatorSubscriber(e,function(n){++i<=r&&(e.next(n),r<=i&&e.complete())}))})}Wh.take=k9});var Sy=T(Uh=>{"use strict";p();Object.defineProperty(Uh,"__esModule",{value:!0});Uh.ignoreElements=void 0;var N9=G(),F9=Q(),D9=xt();function q9(){return N9.operate(function(r,t){r.subscribe(F9.createOperatorSubscriber(t,D9.noop))})}Uh.ignoreElements=q9});var Oy=T(Hh=>{"use strict";p();Object.defineProperty(Hh,"__esModule",{value:!0});Hh.mapTo=void 0;var $9=cn();function j9(r){return $9.map(function(){return r})}Hh.mapTo=j9});var Ty=T(zh=>{"use strict";p();Object.defineProperty(zh,"__esModule",{value:!0});zh.delayWhen=void 0;var B9=il(),VA=sl(),W9=Sy(),U9=Oy(),H9=ki(),z9=ye();function GA(r,t){return t?function(e){return B9.concat(t.pipe(VA.take(1),W9.ignoreElements()),e.pipe(GA(r)))}:H9.mergeMap(function(e,i){return z9.innerFrom(r(e,i)).pipe(VA.take(1),U9.mapTo(e))})}zh.delayWhen=GA});var ZA=T(Vh=>{"use strict";p();Object.defineProperty(Vh,"__esModule",{value:!0});Vh.delay=void 0;var V9=Jt(),G9=Ty(),Z9=fn();function J9(r,t){t===void 0&&(t=V9.asyncScheduler);var e=Z9.timer(r,t);return G9.delayWhen(function(){return e})}Vh.delay=J9});var JA=T(Gh=>{"use strict";p();Object.defineProperty(Gh,"__esModule",{value:!0});Gh.dematerialize=void 0;var K9=Np(),Y9=G(),X9=Q();function Q9(){return Y9.operate(function(r,t){r.subscribe(X9.createOperatorSubscriber(t,function(e){return K9.observeNotification(e,t)}))})}Gh.dematerialize=Q9});var YA=T(Zh=>{"use strict";p();Object.defineProperty(Zh,"__esModule",{value:!0});Zh.distinct=void 0;var e5=G(),KA=Q(),t5=xt(),r5=ye();function i5(r,t){return e5.operate(function(e,i){var n=new Set;e.subscribe(KA.createOperatorSubscriber(i,function(o){var u=r?r(o):o;n.has(u)||(n.add(u),i.next(o))})),t&&r5.innerFrom(t).subscribe(KA.createOperatorSubscriber(i,function(){return n.clear()},t5.noop))})}Zh.distinct=i5});var Py=T(Jh=>{"use strict";p();Object.defineProperty(Jh,"__esModule",{value:!0});Jh.distinctUntilChanged=void 0;var n5=Ct(),o5=G(),s5=Q();function a5(r,t){return t===void 0&&(t=n5.identity),r=r??u5,o5.operate(function(e,i){var n,o=!0;e.subscribe(s5.createOperatorSubscriber(i,function(u){var l=t(u);(o||!r(n,l))&&(o=!1,n=l,i.next(u))}))})}Jh.distinctUntilChanged=a5;function u5(r,t){return r===t}});var XA=T(Kh=>{"use strict";p();Object.defineProperty(Kh,"__esModule",{value:!0});Kh.distinctUntilKeyChanged=void 0;var l5=Py();function c5(r,t){return l5.distinctUntilChanged(function(e,i){return t?t(e[r],i[r]):e[r]===i[r]})}Kh.distinctUntilKeyChanged=c5});var al=T(Yh=>{"use strict";p();Object.defineProperty(Yh,"__esModule",{value:!0});Yh.throwIfEmpty=void 0;var d5=ln(),p5=G(),h5=Q();function f5(r){return r===void 0&&(r=m5),p5.operate(function(t,e){var i=!1;t.subscribe(h5.createOperatorSubscriber(e,function(n){i=!0,e.next(n)},function(){return i?e.complete():e.error(r())}))})}Yh.throwIfEmpty=f5;function m5(){return new d5.EmptyError}});var ex=T(Xh=>{"use strict";p();Object.defineProperty(Xh,"__esModule",{value:!0});Xh.elementAt=void 0;var QA=iy(),v5=bo(),g5=al(),b5=ol(),y5=sl();function _5(r,t){if(r<0)throw new QA.ArgumentOutOfRangeError;var e=arguments.length>=2;return function(i){return i.pipe(v5.filter(function(n,o){return o===r}),y5.take(1),e?b5.defaultIfEmpty(t):g5.throwIfEmpty(function(){return new QA.ArgumentOutOfRangeError}))}}Xh.elementAt=_5});var tx=T(_n=>{"use strict";p();var w5=_n&&_n.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},E5=_n&&_n.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(_n,"__esModule",{value:!0});_n.endWith=void 0;var S5=il(),O5=Rp();function T5(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(e){return S5.concat(e,O5.of.apply(void 0,E5([],w5(r))))}}_n.endWith=T5});var rx=T(Qh=>{"use strict";p();Object.defineProperty(Qh,"__esModule",{value:!0});Qh.every=void 0;var P5=G(),A5=Q();function x5(r,t){return P5.operate(function(e,i){var n=0;e.subscribe(A5.createOperatorSubscriber(i,function(o){r.call(t,o,n++,e)||(i.next(!1),i.complete())},function(){i.next(!0),i.complete()}))})}Qh.every=x5});var Ay=T(ef=>{"use strict";p();Object.defineProperty(ef,"__esModule",{value:!0});ef.exhaustMap=void 0;var C5=cn(),ix=ye(),M5=G(),nx=Q();function ox(r,t){return t?function(e){return e.pipe(ox(function(i,n){return ix.innerFrom(r(i,n)).pipe(C5.map(function(o,u){return t(i,o,n,u)}))}))}:M5.operate(function(e,i){var n=0,o=null,u=!1;e.subscribe(nx.createOperatorSubscriber(i,function(l){o||(o=nx.createOperatorSubscriber(i,void 0,function(){o=null,u&&i.complete()}),ix.innerFrom(r(l,n++)).subscribe(o))},function(){u=!0,!o&&i.complete()}))})}ef.exhaustMap=ox});var xy=T(tf=>{"use strict";p();Object.defineProperty(tf,"__esModule",{value:!0});tf.exhaustAll=void 0;var I5=Ay(),L5=Ct();function R5(){return I5.exhaustMap(L5.identity)}tf.exhaustAll=R5});var sx=T(rf=>{"use strict";p();Object.defineProperty(rf,"__esModule",{value:!0});rf.exhaust=void 0;var k5=xy();rf.exhaust=k5.exhaustAll});var ax=T(nf=>{"use strict";p();Object.defineProperty(nf,"__esModule",{value:!0});nf.expand=void 0;var N5=G(),F5=Qp();function D5(r,t,e){return t===void 0&&(t=1/0),t=(t||0)<1?1/0:t,N5.operate(function(i,n){return F5.mergeInternals(i,n,r,t,void 0,!0,e)})}nf.expand=D5});var ux=T(of=>{"use strict";p();Object.defineProperty(of,"__esModule",{value:!0});of.finalize=void 0;var q5=G();function $5(r){return q5.operate(function(t,e){try{t.subscribe(e)}finally{e.add(r)}})}of.finalize=$5});var Cy=T(fa=>{"use strict";p();Object.defineProperty(fa,"__esModule",{value:!0});fa.createFind=fa.find=void 0;var j5=G(),B5=Q();function W5(r,t){return j5.operate(lx(r,t,"value"))}fa.find=W5;function lx(r,t,e){var i=e==="index";return function(n,o){var u=0;n.subscribe(B5.createOperatorSubscriber(o,function(l){var c=u++;r.call(t,l,c,n)&&(o.next(i?c:l),o.complete())},function(){o.next(i?-1:void 0),o.complete()}))}}fa.createFind=lx});var cx=T(sf=>{"use strict";p();Object.defineProperty(sf,"__esModule",{value:!0});sf.findIndex=void 0;var U5=G(),H5=Cy();function z5(r,t){return U5.operate(H5.createFind(r,t,"index"))}sf.findIndex=z5});var dx=T(af=>{"use strict";p();Object.defineProperty(af,"__esModule",{value:!0});af.first=void 0;var V5=ln(),G5=bo(),Z5=sl(),J5=ol(),K5=al(),Y5=Ct();function X5(r,t){var e=arguments.length>=2;return function(i){return i.pipe(r?G5.filter(function(n,o){return r(n,o,i)}):Y5.identity,Z5.take(1),e?J5.defaultIfEmpty(t):K5.throwIfEmpty(function(){return new V5.EmptyError}))}}af.first=X5});var hx=T(uf=>{"use strict";p();Object.defineProperty(uf,"__esModule",{value:!0});uf.groupBy=void 0;var Q5=ze(),e8=ye(),t8=Mt(),r8=G(),px=Q();function i8(r,t,e,i){return r8.operate(function(n,o){var u;!t||typeof t=="function"?u=t:(e=t.duration,u=t.element,i=t.connector);var l=new Map,c=function(O){l.forEach(O),O(o)},h=function(O){return c(function(x){return x.error(O)})},m=0,b=!1,y=new px.OperatorSubscriber(o,function(O){try{var x=r(O),R=l.get(x);if(!R){l.set(x,R=i?i():new t8.Subject);var L=w(x,R);if(o.next(L),e){var W=px.createOperatorSubscriber(R,function(){R.complete(),W==null||W.unsubscribe()},void 0,void 0,function(){return l.delete(x)});y.add(e8.innerFrom(e(L)).subscribe(W))}}R.next(u?u(O):O)}catch(Y){h(Y)}},function(){return c(function(O){return O.complete()})},h,function(){return l.clear()},function(){return b=!0,m===0});n.subscribe(y);function w(O,x){var R=new Q5.Observable(function(L){m++;var W=x.subscribe(L);return function(){W.unsubscribe(),--m===0&&b&&y.unsubscribe()}});return R.key=O,R}})}uf.groupBy=i8});var fx=T(lf=>{"use strict";p();Object.defineProperty(lf,"__esModule",{value:!0});lf.isEmpty=void 0;var n8=G(),o8=Q();function s8(){return n8.operate(function(r,t){r.subscribe(o8.createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}lf.isEmpty=s8});var My=T(ma=>{"use strict";p();var a8=ma&&ma.__values||function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ma,"__esModule",{value:!0});ma.takeLast=void 0;var u8=Wr(),l8=G(),c8=Q();function d8(r){return r<=0?function(){return u8.EMPTY}:l8.operate(function(t,e){var i=[];t.subscribe(c8.createOperatorSubscriber(e,function(n){i.push(n),r<i.length&&i.shift()},function(){var n,o;try{for(var u=a8(i),l=u.next();!l.done;l=u.next()){var c=l.value;e.next(c)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}e.complete()},void 0,function(){i=null}))})}ma.takeLast=d8});var mx=T(cf=>{"use strict";p();Object.defineProperty(cf,"__esModule",{value:!0});cf.last=void 0;var p8=ln(),h8=bo(),f8=My(),m8=al(),v8=ol(),g8=Ct();function b8(r,t){var e=arguments.length>=2;return function(i){return i.pipe(r?h8.filter(function(n,o){return r(n,o,i)}):g8.identity,f8.takeLast(1),e?v8.defaultIfEmpty(t):m8.throwIfEmpty(function(){return new p8.EmptyError}))}}cf.last=b8});var vx=T(df=>{"use strict";p();Object.defineProperty(df,"__esModule",{value:!0});df.materialize=void 0;var Iy=Np(),y8=G(),_8=Q();function w8(){return y8.operate(function(r,t){r.subscribe(_8.createOperatorSubscriber(t,function(e){t.next(Iy.Notification.createNext(e))},function(){t.next(Iy.Notification.createComplete()),t.complete()},function(e){t.next(Iy.Notification.createError(e)),t.complete()}))})}df.materialize=w8});var gx=T(pf=>{"use strict";p();Object.defineProperty(pf,"__esModule",{value:!0});pf.max=void 0;var E8=ha(),S8=Ue();function O8(r){return E8.reduce(S8.isFunction(r)?function(t,e){return r(t,e)>0?t:e}:function(t,e){return t>e?t:e})}pf.max=O8});var bx=T(hf=>{"use strict";p();Object.defineProperty(hf,"__esModule",{value:!0});hf.flatMap=void 0;var T8=ki();hf.flatMap=T8.mergeMap});var _x=T(ff=>{"use strict";p();Object.defineProperty(ff,"__esModule",{value:!0});ff.mergeMapTo=void 0;var yx=ki(),P8=Ue();function A8(r,t,e){return e===void 0&&(e=1/0),P8.isFunction(t)?yx.mergeMap(function(){return r},t,e):(typeof t=="number"&&(e=t),yx.mergeMap(function(){return r},e))}ff.mergeMapTo=A8});var wx=T(mf=>{"use strict";p();Object.defineProperty(mf,"__esModule",{value:!0});mf.mergeScan=void 0;var x8=G(),C8=Qp();function M8(r,t,e){return e===void 0&&(e=1/0),x8.operate(function(i,n){var o=t;return C8.mergeInternals(i,n,function(u,l){return r(o,u,l)},e,function(u){o=u},!1,void 0,function(){return o=null})})}mf.mergeScan=M8});var Sx=T(wn=>{"use strict";p();var I8=wn&&wn.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},L8=wn&&wn.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(wn,"__esModule",{value:!0});wn.merge=void 0;var R8=G(),k8=go(),N8=rl(),Ex=Kt(),F8=Li();function D8(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=Ex.popScheduler(r),i=Ex.popNumber(r,1/0);return r=k8.argsOrArgArray(r),R8.operate(function(n,o){N8.mergeAll(i)(F8.from(L8([n],I8(r)),e)).subscribe(o)})}wn.merge=D8});var Ox=T(En=>{"use strict";p();var q8=En&&En.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},$8=En&&En.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(En,"__esModule",{value:!0});En.mergeWith=void 0;var j8=Sx();function B8(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return j8.merge.apply(void 0,$8([],q8(r)))}En.mergeWith=B8});var Tx=T(vf=>{"use strict";p();Object.defineProperty(vf,"__esModule",{value:!0});vf.min=void 0;var W8=ha(),U8=Ue();function H8(r){return W8.reduce(U8.isFunction(r)?function(t,e){return r(t,e)<0?t:e}:function(t,e){return t<e?t:e})}vf.min=H8});var bf=T(gf=>{"use strict";p();Object.defineProperty(gf,"__esModule",{value:!0});gf.multicast=void 0;var z8=Ku(),Px=Ue(),V8=Dh();function G8(r,t){var e=Px.isFunction(r)?r:function(){return r};return Px.isFunction(t)?V8.connect(t,{connector:e}):function(i){return new z8.ConnectableObservable(i,e)}}gf.multicast=G8});var xx=T(hi=>{"use strict";p();var Z8=hi&&hi.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},J8=hi&&hi.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(hi,"__esModule",{value:!0});hi.onErrorResumeNext=hi.onErrorResumeNextWith=void 0;var K8=go(),Y8=hy();function Ax(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=K8.argsOrArgArray(r);return function(i){return Y8.onErrorResumeNext.apply(void 0,J8([i],Z8(e)))}}hi.onErrorResumeNextWith=Ax;hi.onErrorResumeNext=Ax});var Cx=T(yf=>{"use strict";p();Object.defineProperty(yf,"__esModule",{value:!0});yf.pairwise=void 0;var X8=G(),Q8=Q();function eJ(){return X8.operate(function(r,t){var e,i=!1;r.subscribe(Q8.createOperatorSubscriber(t,function(n){var o=e;e=n,i&&t.next([o,n]),i=!0}))})}yf.pairwise=eJ});var Mx=T(_f=>{"use strict";p();Object.defineProperty(_f,"__esModule",{value:!0});_f.pluck=void 0;var tJ=cn();function rJ(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r.length;if(e===0)throw new Error("list of properties cannot be empty.");return tJ.map(function(i){for(var n=i,o=0;o<e;o++){var u=n==null?void 0:n[r[o]];if(typeof u<"u")n=u;else return}return n})}_f.pluck=rJ});var Ix=T(wf=>{"use strict";p();Object.defineProperty(wf,"__esModule",{value:!0});wf.publish=void 0;var iJ=Mt(),nJ=bf(),oJ=Dh();function sJ(r){return r?function(t){return oJ.connect(r)(t)}:function(t){return nJ.multicast(new iJ.Subject)(t)}}wf.publish=sJ});var Lx=T(Ef=>{"use strict";p();Object.defineProperty(Ef,"__esModule",{value:!0});Ef.publishBehavior=void 0;var aJ=jb(),uJ=Ku();function lJ(r){return function(t){var e=new aJ.BehaviorSubject(r);return new uJ.ConnectableObservable(t,function(){return e})}}Ef.publishBehavior=lJ});var Rx=T(Sf=>{"use strict";p();Object.defineProperty(Sf,"__esModule",{value:!0});Sf.publishLast=void 0;var cJ=lp(),dJ=Ku();function pJ(){return function(r){var t=new cJ.AsyncSubject;return new dJ.ConnectableObservable(r,function(){return t})}}Sf.publishLast=pJ});var Nx=T(Of=>{"use strict";p();Object.defineProperty(Of,"__esModule",{value:!0});Of.publishReplay=void 0;var hJ=up(),fJ=bf(),kx=Ue();function mJ(r,t,e,i){e&&!kx.isFunction(e)&&(i=e);var n=kx.isFunction(e)?e:void 0;return function(o){return fJ.multicast(new hJ.ReplaySubject(r,t,i),n)(o)}}Of.publishReplay=mJ});var Fx=T(Sn=>{"use strict";p();var vJ=Sn&&Sn.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},gJ=Sn&&Sn.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.raceWith=void 0;var bJ=fy(),yJ=G(),_J=Ct();function wJ(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return r.length?yJ.operate(function(e,i){bJ.raceInit(gJ([e],vJ(r)))(i)}):_J.identity}Sn.raceWith=wJ});var qx=T(Tf=>{"use strict";p();Object.defineProperty(Tf,"__esModule",{value:!0});Tf.repeat=void 0;var EJ=Wr(),SJ=G(),Dx=Q(),OJ=ye(),TJ=fn();function PJ(r){var t,e=1/0,i;return r!=null&&(typeof r=="object"?(t=r.count,e=t===void 0?1/0:t,i=r.delay):e=r),e<=0?function(){return EJ.EMPTY}:SJ.operate(function(n,o){var u=0,l,c=function(){if(l==null||l.unsubscribe(),l=null,i!=null){var m=typeof i=="number"?TJ.timer(i):OJ.innerFrom(i(u)),b=Dx.createOperatorSubscriber(o,function(){b.unsubscribe(),h()});m.subscribe(b)}else h()},h=function(){var m=!1;l=n.subscribe(Dx.createOperatorSubscriber(o,void 0,function(){++u<e?l?c():m=!0:o.complete()})),m&&c()};h()})}Tf.repeat=PJ});var jx=T(Pf=>{"use strict";p();Object.defineProperty(Pf,"__esModule",{value:!0});Pf.repeatWhen=void 0;var AJ=ye(),xJ=Mt(),CJ=G(),$x=Q();function MJ(r){return CJ.operate(function(t,e){var i,n=!1,o,u=!1,l=!1,c=function(){return l&&u&&(e.complete(),!0)},h=function(){return o||(o=new xJ.Subject,AJ.innerFrom(r(o)).subscribe($x.createOperatorSubscriber(e,function(){i?m():n=!0},function(){u=!0,c()}))),o},m=function(){l=!1,i=t.subscribe($x.createOperatorSubscriber(e,void 0,function(){l=!0,!c()&&h().next()})),n&&(i.unsubscribe(),i=null,n=!1,m())};m()})}Pf.repeatWhen=MJ});var Wx=T(Af=>{"use strict";p();Object.defineProperty(Af,"__esModule",{value:!0});Af.retry=void 0;var IJ=G(),Bx=Q(),LJ=Ct(),RJ=fn(),kJ=ye();function NJ(r){r===void 0&&(r=1/0);var t;r&&typeof r=="object"?t=r:t={count:r};var e=t.count,i=e===void 0?1/0:e,n=t.delay,o=t.resetOnSuccess,u=o===void 0?!1:o;return i<=0?LJ.identity:IJ.operate(function(l,c){var h=0,m,b=function(){var y=!1;m=l.subscribe(Bx.createOperatorSubscriber(c,function(w){u&&(h=0),c.next(w)},void 0,function(w){if(h++<i){var O=function(){m?(m.unsubscribe(),m=null,b()):y=!0};if(n!=null){var x=typeof n=="number"?RJ.timer(n):kJ.innerFrom(n(w,h)),R=Bx.createOperatorSubscriber(c,function(){R.unsubscribe(),O()},function(){c.complete()});x.subscribe(R)}else O()}else c.error(w)})),y&&(m.unsubscribe(),m=null,b())};b()})}Af.retry=NJ});var Hx=T(xf=>{"use strict";p();Object.defineProperty(xf,"__esModule",{value:!0});xf.retryWhen=void 0;var FJ=ye(),DJ=Mt(),qJ=G(),Ux=Q();function $J(r){return qJ.operate(function(t,e){var i,n=!1,o,u=function(){i=t.subscribe(Ux.createOperatorSubscriber(e,void 0,void 0,function(l){o||(o=new DJ.Subject,FJ.innerFrom(r(o)).subscribe(Ux.createOperatorSubscriber(e,function(){return i?u():n=!0}))),o&&o.next(l)})),n&&(i.unsubscribe(),i=null,n=!1,u())};u()})}xf.retryWhen=$J});var Ly=T(Cf=>{"use strict";p();Object.defineProperty(Cf,"__esModule",{value:!0});Cf.sample=void 0;var jJ=ye(),BJ=G(),WJ=xt(),zx=Q();function UJ(r){return BJ.operate(function(t,e){var i=!1,n=null;t.subscribe(zx.createOperatorSubscriber(e,function(o){i=!0,n=o})),jJ.innerFrom(r).subscribe(zx.createOperatorSubscriber(e,function(){if(i){i=!1;var o=n;n=null,e.next(o)}},WJ.noop))})}Cf.sample=UJ});var Vx=T(Mf=>{"use strict";p();Object.defineProperty(Mf,"__esModule",{value:!0});Mf.sampleTime=void 0;var HJ=Jt(),zJ=Ly(),VJ=dy();function GJ(r,t){return t===void 0&&(t=HJ.asyncScheduler),zJ.sample(VJ.interval(r,t))}Mf.sampleTime=GJ});var Gx=T(If=>{"use strict";p();Object.defineProperty(If,"__esModule",{value:!0});If.scan=void 0;var ZJ=G(),JJ=by();function KJ(r,t){return ZJ.operate(JJ.scanInternals(r,t,arguments.length>=2,!0))}If.scan=KJ});var Jx=T(Lf=>{"use strict";p();Object.defineProperty(Lf,"__esModule",{value:!0});Lf.sequenceEqual=void 0;var YJ=G(),XJ=Q(),QJ=ye();function eK(r,t){return t===void 0&&(t=function(e,i){return e===i}),YJ.operate(function(e,i){var n=Zx(),o=Zx(),u=function(c){i.next(c),i.complete()},l=function(c,h){var m=XJ.createOperatorSubscriber(i,function(b){var y=h.buffer,w=h.complete;y.length===0?w?u(!1):c.buffer.push(b):!t(b,y.shift())&&u(!1)},function(){c.complete=!0;var b=h.complete,y=h.buffer;b&&u(y.length===0),m==null||m.unsubscribe()});return m};e.subscribe(l(n,o)),QJ.innerFrom(r).subscribe(l(o,n))})}Lf.sequenceEqual=eK;function Zx(){return{buffer:[],complete:!1}}});var ky=T(On=>{"use strict";p();var tK=On&&On.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},rK=On&&On.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(On,"__esModule",{value:!0});On.share=void 0;var Kx=ye(),iK=Mt(),Yx=qs(),nK=G();function oK(r){r===void 0&&(r={});var t=r.connector,e=t===void 0?function(){return new iK.Subject}:t,i=r.resetOnError,n=i===void 0?!0:i,o=r.resetOnComplete,u=o===void 0?!0:o,l=r.resetOnRefCountZero,c=l===void 0?!0:l;return function(h){var m,b,y,w=0,O=!1,x=!1,R=function(){b==null||b.unsubscribe(),b=void 0},L=function(){R(),m=y=void 0,O=x=!1},W=function(){var Y=m;L(),Y==null||Y.unsubscribe()};return nK.operate(function(Y,he){w++,!x&&!O&&R();var we=y=y??e();he.add(function(){w--,w===0&&!x&&!O&&(b=Ry(W,c))}),we.subscribe(he),!m&&w>0&&(m=new Yx.SafeSubscriber({next:function(U){return we.next(U)},error:function(U){x=!0,R(),b=Ry(L,n,U),we.error(U)},complete:function(){O=!0,R(),b=Ry(L,u),we.complete()}}),Kx.innerFrom(Y).subscribe(m))})(h)}}On.share=oK;function Ry(r,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];if(t===!0){r();return}if(t!==!1){var n=new Yx.SafeSubscriber({next:function(){n.unsubscribe(),r()}});return Kx.innerFrom(t.apply(void 0,rK([],tK(e)))).subscribe(n)}}});var Xx=T(Rf=>{"use strict";p();Object.defineProperty(Rf,"__esModule",{value:!0});Rf.shareReplay=void 0;var sK=up(),aK=ky();function uK(r,t,e){var i,n,o,u,l=!1;return r&&typeof r=="object"?(i=r.bufferSize,u=i===void 0?1/0:i,n=r.windowTime,t=n===void 0?1/0:n,o=r.refCount,l=o===void 0?!1:o,e=r.scheduler):u=r??1/0,aK.share({connector:function(){return new sK.ReplaySubject(u,t,e)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}Rf.shareReplay=uK});var Qx=T(kf=>{"use strict";p();Object.defineProperty(kf,"__esModule",{value:!0});kf.single=void 0;var lK=ln(),cK=oy(),dK=ny(),pK=G(),hK=Q();function fK(r){return pK.operate(function(t,e){var i=!1,n,o=!1,u=0;t.subscribe(hK.createOperatorSubscriber(e,function(l){o=!0,(!r||r(l,u++,t))&&(i&&e.error(new cK.SequenceError("Too many matching values")),i=!0,n=l)},function(){i?(e.next(n),e.complete()):e.error(o?new dK.NotFoundError("No matching values"):new lK.EmptyError)}))})}kf.single=fK});var eC=T(Nf=>{"use strict";p();Object.defineProperty(Nf,"__esModule",{value:!0});Nf.skip=void 0;var mK=bo();function vK(r){return mK.filter(function(t,e){return r<=e})}Nf.skip=vK});var tC=T(Ff=>{"use strict";p();Object.defineProperty(Ff,"__esModule",{value:!0});Ff.skipLast=void 0;var gK=Ct(),bK=G(),yK=Q();function _K(r){return r<=0?gK.identity:bK.operate(function(t,e){var i=new Array(r),n=0;return t.subscribe(yK.createOperatorSubscriber(e,function(o){var u=n++;if(u<r)i[u]=o;else{var l=u%r,c=i[l];i[l]=o,e.next(c)}})),function(){i=null}})}Ff.skipLast=_K});var iC=T(Df=>{"use strict";p();Object.defineProperty(Df,"__esModule",{value:!0});Df.skipUntil=void 0;var wK=G(),rC=Q(),EK=ye(),SK=xt();function OK(r){return wK.operate(function(t,e){var i=!1,n=rC.createOperatorSubscriber(e,function(){n==null||n.unsubscribe(),i=!0},SK.noop);EK.innerFrom(r).subscribe(n),t.subscribe(rC.createOperatorSubscriber(e,function(o){return i&&e.next(o)}))})}Df.skipUntil=OK});var nC=T(qf=>{"use strict";p();Object.defineProperty(qf,"__esModule",{value:!0});qf.skipWhile=void 0;var TK=G(),PK=Q();function AK(r){return TK.operate(function(t,e){var i=!1,n=0;t.subscribe(PK.createOperatorSubscriber(e,function(o){return(i||(i=!r(o,n++)))&&e.next(o)}))})}qf.skipWhile=AK});var sC=T($f=>{"use strict";p();Object.defineProperty($f,"__esModule",{value:!0});$f.startWith=void 0;var oC=il(),xK=Kt(),CK=G();function MK(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=xK.popScheduler(r);return CK.operate(function(i,n){(e?oC.concat(r,i,e):oC.concat(r,i)).subscribe(n)})}$f.startWith=MK});var ul=T(jf=>{"use strict";p();Object.defineProperty(jf,"__esModule",{value:!0});jf.switchMap=void 0;var IK=ye(),LK=G(),aC=Q();function RK(r,t){return LK.operate(function(e,i){var n=null,o=0,u=!1,l=function(){return u&&!n&&i.complete()};e.subscribe(aC.createOperatorSubscriber(i,function(c){n==null||n.unsubscribe();var h=0,m=o++;IK.innerFrom(r(c,m)).subscribe(n=aC.createOperatorSubscriber(i,function(b){return i.next(t?t(c,b,m,h++):b)},function(){n=null,l()}))},function(){u=!0,l()}))})}jf.switchMap=RK});var uC=T(Bf=>{"use strict";p();Object.defineProperty(Bf,"__esModule",{value:!0});Bf.switchAll=void 0;var kK=ul(),NK=Ct();function FK(){return kK.switchMap(NK.identity)}Bf.switchAll=FK});var cC=T(Wf=>{"use strict";p();Object.defineProperty(Wf,"__esModule",{value:!0});Wf.switchMapTo=void 0;var lC=ul(),DK=Ue();function qK(r,t){return DK.isFunction(t)?lC.switchMap(function(){return r},t):lC.switchMap(function(){return r})}Wf.switchMapTo=qK});var dC=T(Uf=>{"use strict";p();Object.defineProperty(Uf,"__esModule",{value:!0});Uf.switchScan=void 0;var $K=ul(),jK=G();function BK(r,t){return jK.operate(function(e,i){var n=t;return $K.switchMap(function(o,u){return r(n,o,u)},function(o,u){return n=u,u})(e).subscribe(i),function(){n=null}})}Uf.switchScan=BK});var pC=T(Hf=>{"use strict";p();Object.defineProperty(Hf,"__esModule",{value:!0});Hf.takeUntil=void 0;var WK=G(),UK=Q(),HK=ye(),zK=xt();function VK(r){return WK.operate(function(t,e){HK.innerFrom(r).subscribe(UK.createOperatorSubscriber(e,function(){return e.complete()},zK.noop)),!e.closed&&t.subscribe(e)})}Hf.takeUntil=VK});var hC=T(zf=>{"use strict";p();Object.defineProperty(zf,"__esModule",{value:!0});zf.takeWhile=void 0;var GK=G(),ZK=Q();function JK(r,t){return t===void 0&&(t=!1),GK.operate(function(e,i){var n=0;e.subscribe(ZK.createOperatorSubscriber(i,function(o){var u=r(o,n++);(u||t)&&i.next(o),!u&&i.complete()}))})}zf.takeWhile=JK});var fC=T(Vf=>{"use strict";p();Object.defineProperty(Vf,"__esModule",{value:!0});Vf.tap=void 0;var KK=Ue(),YK=G(),XK=Q(),QK=Ct();function eY(r,t,e){var i=KK.isFunction(r)||t||e?{next:r,error:t,complete:e}:r;return i?YK.operate(function(n,o){var u;(u=i.subscribe)===null||u===void 0||u.call(i);var l=!0;n.subscribe(XK.createOperatorSubscriber(o,function(c){var h;(h=i.next)===null||h===void 0||h.call(i,c),o.next(c)},function(){var c;l=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},function(c){var h;l=!1,(h=i.error)===null||h===void 0||h.call(i,c),o.error(c)},function(){var c,h;l&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(h=i.finalize)===null||h===void 0||h.call(i)}))}):QK.identity}Vf.tap=eY});var Ny=T(Gf=>{"use strict";p();Object.defineProperty(Gf,"__esModule",{value:!0});Gf.throttle=void 0;var tY=G(),mC=Q(),rY=ye();function iY(r,t){return tY.operate(function(e,i){var n=t??{},o=n.leading,u=o===void 0?!0:o,l=n.trailing,c=l===void 0?!1:l,h=!1,m=null,b=null,y=!1,w=function(){b==null||b.unsubscribe(),b=null,c&&(R(),y&&i.complete())},O=function(){b=null,y&&i.complete()},x=function(L){return b=rY.innerFrom(r(L)).subscribe(mC.createOperatorSubscriber(i,w,O))},R=function(){if(h){h=!1;var L=m;m=null,i.next(L),!y&&x(L)}};e.subscribe(mC.createOperatorSubscriber(i,function(L){h=!0,m=L,!(b&&!b.closed)&&(u?R():x(L))},function(){y=!0,!(c&&h&&b&&!b.closed)&&i.complete()}))})}Gf.throttle=iY});var vC=T(Zf=>{"use strict";p();Object.defineProperty(Zf,"__esModule",{value:!0});Zf.throttleTime=void 0;var nY=Jt(),oY=Ny(),sY=fn();function aY(r,t,e){t===void 0&&(t=nY.asyncScheduler);var i=sY.timer(r,t);return oY.throttle(function(){return i},e)}Zf.throttleTime=aY});var bC=T(va=>{"use strict";p();Object.defineProperty(va,"__esModule",{value:!0});va.TimeInterval=va.timeInterval=void 0;var uY=Jt(),lY=G(),cY=Q();function dY(r){return r===void 0&&(r=uY.asyncScheduler),lY.operate(function(t,e){var i=r.now();t.subscribe(cY.createOperatorSubscriber(e,function(n){var o=r.now(),u=o-i;i=o,e.next(new gC(n,u))}))})}va.timeInterval=dY;var gC=function(){function r(t,e){this.value=t,this.interval=e}return r}();va.TimeInterval=gC});var yC=T(Jf=>{"use strict";p();Object.defineProperty(Jf,"__esModule",{value:!0});Jf.timeoutWith=void 0;var pY=Jt(),hY=Hp(),fY=zp();function mY(r,t,e){var i,n,o;if(e=e??pY.async,hY.isValidDate(r)?i=r:typeof r=="number"&&(n=r),t)o=function(){return t};else throw new TypeError("No observable provided to switch to");if(i==null&&n==null)throw new TypeError("No timeout provided.");return fY.timeout({first:i,each:n,scheduler:e,with:o})}Jf.timeoutWith=mY});var _C=T(Kf=>{"use strict";p();Object.defineProperty(Kf,"__esModule",{value:!0});Kf.timestamp=void 0;var vY=ap(),gY=cn();function bY(r){return r===void 0&&(r=vY.dateTimestampProvider),gY.map(function(t){return{value:t,timestamp:r.now()}})}Kf.timestamp=bY});var SC=T(Yf=>{"use strict";p();Object.defineProperty(Yf,"__esModule",{value:!0});Yf.window=void 0;var wC=Mt(),yY=G(),EC=Q(),_Y=xt(),wY=ye();function EY(r){return yY.operate(function(t,e){var i=new wC.Subject;e.next(i.asObservable());var n=function(o){i.error(o),e.error(o)};return t.subscribe(EC.createOperatorSubscriber(e,function(o){return i==null?void 0:i.next(o)},function(){i.complete(),e.complete()},n)),wY.innerFrom(r).subscribe(EC.createOperatorSubscriber(e,function(){i.complete(),e.next(i=new wC.Subject)},_Y.noop,n)),function(){i==null||i.unsubscribe(),i=null}})}Yf.window=EY});var TC=T(ga=>{"use strict";p();var SY=ga&&ga.__values||function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ga,"__esModule",{value:!0});ga.windowCount=void 0;var OC=Mt(),OY=G(),TY=Q();function PY(r,t){t===void 0&&(t=0);var e=t>0?t:r;return OY.operate(function(i,n){var o=[new OC.Subject],u=[],l=0;n.next(o[0].asObservable()),i.subscribe(TY.createOperatorSubscriber(n,function(c){var h,m;try{for(var b=SY(o),y=b.next();!y.done;y=b.next()){var w=y.value;w.next(c)}}catch(R){h={error:R}}finally{try{y&&!y.done&&(m=b.return)&&m.call(b)}finally{if(h)throw h.error}}var O=l-r+1;if(O>=0&&O%e===0&&o.shift().complete(),++l%e===0){var x=new OC.Subject;o.push(x),n.next(x.asObservable())}},function(){for(;o.length>0;)o.shift().complete();n.complete()},function(c){for(;o.length>0;)o.shift().error(c);n.error(c)},function(){u=null,o=null}))})}ga.windowCount=PY});var AC=T(Xf=>{"use strict";p();Object.defineProperty(Xf,"__esModule",{value:!0});Xf.windowTime=void 0;var AY=Mt(),xY=Jt(),CY=sr(),MY=G(),IY=Q(),LY=Mi(),RY=Kt(),PC=Ii();function kY(r){for(var t,e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=(t=RY.popScheduler(i))!==null&&t!==void 0?t:xY.asyncScheduler,u=(e=i[0])!==null&&e!==void 0?e:null,l=i[1]||1/0;return MY.operate(function(c,h){var m=[],b=!1,y=function(R){var L=R.window,W=R.subs;L.complete(),W.unsubscribe(),LY.arrRemove(m,R),b&&w()},w=function(){if(m){var R=new CY.Subscription;h.add(R);var L=new AY.Subject,W={window:L,subs:R,seen:0};m.push(W),h.next(L.asObservable()),PC.executeSchedule(R,o,function(){return y(W)},r)}};u!==null&&u>=0?PC.executeSchedule(h,o,w,u,!0):b=!0,w();var O=function(R){return m.slice().forEach(R)},x=function(R){O(function(L){var W=L.window;return R(W)}),R(h),h.unsubscribe()};return c.subscribe(IY.createOperatorSubscriber(h,function(R){O(function(L){L.window.next(R),l<=++L.seen&&y(L)})},function(){return x(function(R){return R.complete()})},function(R){return x(function(L){return L.error(R)})})),function(){m=null}})}Xf.windowTime=kY});var MC=T(ba=>{"use strict";p();var NY=ba&&ba.__values||function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ba,"__esModule",{value:!0});ba.windowToggle=void 0;var FY=Mt(),DY=sr(),qY=G(),xC=ye(),Fy=Q(),CC=xt(),$Y=Mi();function jY(r,t){return qY.operate(function(e,i){var n=[],o=function(u){for(;0<n.length;)n.shift().error(u);i.error(u)};xC.innerFrom(r).subscribe(Fy.createOperatorSubscriber(i,function(u){var l=new FY.Subject;n.push(l);var c=new DY.Subscription,h=function(){$Y.arrRemove(n,l),l.complete(),c.unsubscribe()},m;try{m=xC.innerFrom(t(u))}catch(b){o(b);return}i.next(l.asObservable()),c.add(m.subscribe(Fy.createOperatorSubscriber(i,h,CC.noop,o)))},CC.noop)),e.subscribe(Fy.createOperatorSubscriber(i,function(u){var l,c,h=n.slice();try{for(var m=NY(h),b=m.next();!b.done;b=m.next()){var y=b.value;y.next(u)}}catch(w){l={error:w}}finally{try{b&&!b.done&&(c=m.return)&&c.call(m)}finally{if(l)throw l.error}}},function(){for(;0<n.length;)n.shift().complete();i.complete()},o,function(){for(;0<n.length;)n.shift().unsubscribe()}))})}ba.windowToggle=jY});var LC=T(Qf=>{"use strict";p();Object.defineProperty(Qf,"__esModule",{value:!0});Qf.windowWhen=void 0;var BY=Mt(),WY=G(),IC=Q(),UY=ye();function HY(r){return WY.operate(function(t,e){var i,n,o=function(l){i.error(l),e.error(l)},u=function(){n==null||n.unsubscribe(),i==null||i.complete(),i=new BY.Subject,e.next(i.asObservable());var l;try{l=UY.innerFrom(r())}catch(c){o(c);return}l.subscribe(n=IC.createOperatorSubscriber(e,u,u,o))};u(),t.subscribe(IC.createOperatorSubscriber(e,function(l){return i.next(l)},function(){i.complete(),e.complete()},o,function(){n==null||n.unsubscribe(),i=null}))})}Qf.windowWhen=HY});var FC=T(Tn=>{"use strict";p();var RC=Tn&&Tn.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},kC=Tn&&Tn.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.withLatestFrom=void 0;var zY=G(),NC=Q(),VY=ye(),GY=Ct(),ZY=xt(),JY=Kt();function KY(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=JY.popResultSelector(r);return zY.operate(function(i,n){for(var o=r.length,u=new Array(o),l=r.map(function(){return!1}),c=!1,h=function(b){VY.innerFrom(r[b]).subscribe(NC.createOperatorSubscriber(n,function(y){u[b]=y,!c&&!l[b]&&(l[b]=!0,(c=l.every(GY.identity))&&(l=null))},ZY.noop))},m=0;m<o;m++)h(m);i.subscribe(NC.createOperatorSubscriber(n,function(b){if(c){var y=kC([b],RC(u));n.next(e?e.apply(void 0,kC([],RC(y))):y)}}))})}Tn.withLatestFrom=KY});var DC=T(em=>{"use strict";p();Object.defineProperty(em,"__esModule",{value:!0});em.zipAll=void 0;var YY=wh(),XY=_y();function QY(r){return XY.joinAllInternals(YY.zip,r)}em.zipAll=QY});var qC=T(Pn=>{"use strict";p();var e7=Pn&&Pn.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},t7=Pn&&Pn.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.zip=void 0;var r7=wh(),i7=G();function n7(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return i7.operate(function(e,i){r7.zip.apply(void 0,t7([e],e7(r))).subscribe(i)})}Pn.zip=n7});var $C=T(An=>{"use strict";p();var o7=An&&An.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},s7=An&&An.__spreadArray||function(r,t){for(var e=0,i=t.length,n=r.length;e<i;e++,n++)r[n]=t[e];return r};Object.defineProperty(An,"__esModule",{value:!0});An.zipWith=void 0;var a7=qC();function u7(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return a7.zip.apply(void 0,s7([],o7(r)))}An.zipWith=u7});var tm=T(_=>{"use strict";p();var l7=_&&_.__createBinding||(Object.create?function(r,t,e,i){i===void 0&&(i=e),Object.defineProperty(r,i,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,i){i===void 0&&(i=e),r[i]=t[e]}),c7=_&&_.__exportStar||function(r,t){for(var e in r)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&l7(t,r,e)};Object.defineProperty(_,"__esModule",{value:!0});_.interval=_.iif=_.generate=_.fromEventPattern=_.fromEvent=_.from=_.forkJoin=_.empty=_.defer=_.connectable=_.concat=_.combineLatest=_.bindNodeCallback=_.bindCallback=_.UnsubscriptionError=_.TimeoutError=_.SequenceError=_.ObjectUnsubscribedError=_.NotFoundError=_.EmptyError=_.ArgumentOutOfRangeError=_.firstValueFrom=_.lastValueFrom=_.isObservable=_.identity=_.noop=_.pipe=_.NotificationKind=_.Notification=_.Subscriber=_.Subscription=_.Scheduler=_.VirtualAction=_.VirtualTimeScheduler=_.animationFrameScheduler=_.animationFrame=_.queueScheduler=_.queue=_.asyncScheduler=_.async=_.asapScheduler=_.asap=_.AsyncSubject=_.ReplaySubject=_.BehaviorSubject=_.Subject=_.animationFrames=_.observable=_.ConnectableObservable=_.Observable=void 0;_.filter=_.expand=_.exhaustMap=_.exhaustAll=_.exhaust=_.every=_.endWith=_.elementAt=_.distinctUntilKeyChanged=_.distinctUntilChanged=_.distinct=_.dematerialize=_.delayWhen=_.delay=_.defaultIfEmpty=_.debounceTime=_.debounce=_.count=_.connect=_.concatWith=_.concatMapTo=_.concatMap=_.concatAll=_.combineLatestWith=_.combineLatestAll=_.combineAll=_.catchError=_.bufferWhen=_.bufferToggle=_.bufferTime=_.bufferCount=_.buffer=_.auditTime=_.audit=_.config=_.NEVER=_.EMPTY=_.scheduled=_.zip=_.using=_.timer=_.throwError=_.range=_.race=_.partition=_.pairs=_.onErrorResumeNext=_.of=_.never=_.merge=void 0;_.switchMap=_.switchAll=_.subscribeOn=_.startWith=_.skipWhile=_.skipUntil=_.skipLast=_.skip=_.single=_.shareReplay=_.share=_.sequenceEqual=_.scan=_.sampleTime=_.sample=_.refCount=_.retryWhen=_.retry=_.repeatWhen=_.repeat=_.reduce=_.raceWith=_.publishReplay=_.publishLast=_.publishBehavior=_.publish=_.pluck=_.pairwise=_.onErrorResumeNextWith=_.observeOn=_.multicast=_.min=_.mergeWith=_.mergeScan=_.mergeMapTo=_.mergeMap=_.flatMap=_.mergeAll=_.max=_.materialize=_.mapTo=_.map=_.last=_.isEmpty=_.ignoreElements=_.groupBy=_.first=_.findIndex=_.find=_.finalize=void 0;_.zipWith=_.zipAll=_.withLatestFrom=_.windowWhen=_.windowToggle=_.windowTime=_.windowCount=_.window=_.toArray=_.timestamp=_.timeoutWith=_.timeout=_.timeInterval=_.throwIfEmpty=_.throttleTime=_.throttle=_.tap=_.takeWhile=_.takeUntil=_.takeLast=_.take=_.switchScan=_.switchMapTo=void 0;var d7=ze();Object.defineProperty(_,"Observable",{enumerable:!0,get:function(){return d7.Observable}});var p7=Ku();Object.defineProperty(_,"ConnectableObservable",{enumerable:!0,get:function(){return p7.ConnectableObservable}});var h7=Zu();Object.defineProperty(_,"observable",{enumerable:!0,get:function(){return h7.observable}});var f7=HT();Object.defineProperty(_,"animationFrames",{enumerable:!0,get:function(){return f7.animationFrames}});var m7=Mt();Object.defineProperty(_,"Subject",{enumerable:!0,get:function(){return m7.Subject}});var v7=jb();Object.defineProperty(_,"BehaviorSubject",{enumerable:!0,get:function(){return v7.BehaviorSubject}});var g7=up();Object.defineProperty(_,"ReplaySubject",{enumerable:!0,get:function(){return g7.ReplaySubject}});var b7=lp();Object.defineProperty(_,"AsyncSubject",{enumerable:!0,get:function(){return b7.AsyncSubject}});var jC=aP();Object.defineProperty(_,"asap",{enumerable:!0,get:function(){return jC.asap}});Object.defineProperty(_,"asapScheduler",{enumerable:!0,get:function(){return jC.asapScheduler}});var BC=Jt();Object.defineProperty(_,"async",{enumerable:!0,get:function(){return BC.async}});Object.defineProperty(_,"asyncScheduler",{enumerable:!0,get:function(){return BC.asyncScheduler}});var WC=cP();Object.defineProperty(_,"queue",{enumerable:!0,get:function(){return WC.queue}});Object.defineProperty(_,"queueScheduler",{enumerable:!0,get:function(){return WC.queueScheduler}});var UC=fP();Object.defineProperty(_,"animationFrame",{enumerable:!0,get:function(){return UC.animationFrame}});Object.defineProperty(_,"animationFrameScheduler",{enumerable:!0,get:function(){return UC.animationFrameScheduler}});var HC=gP();Object.defineProperty(_,"VirtualTimeScheduler",{enumerable:!0,get:function(){return HC.VirtualTimeScheduler}});Object.defineProperty(_,"VirtualAction",{enumerable:!0,get:function(){return HC.VirtualAction}});var y7=Wb();Object.defineProperty(_,"Scheduler",{enumerable:!0,get:function(){return y7.Scheduler}});var _7=sr();Object.defineProperty(_,"Subscription",{enumerable:!0,get:function(){return _7.Subscription}});var w7=qs();Object.defineProperty(_,"Subscriber",{enumerable:!0,get:function(){return w7.Subscriber}});var zC=Np();Object.defineProperty(_,"Notification",{enumerable:!0,get:function(){return zC.Notification}});Object.defineProperty(_,"NotificationKind",{enumerable:!0,get:function(){return zC.NotificationKind}});var E7=Ju();Object.defineProperty(_,"pipe",{enumerable:!0,get:function(){return E7.pipe}});var S7=xt();Object.defineProperty(_,"noop",{enumerable:!0,get:function(){return S7.noop}});var O7=Ct();Object.defineProperty(_,"identity",{enumerable:!0,get:function(){return O7.identity}});var T7=kP();Object.defineProperty(_,"isObservable",{enumerable:!0,get:function(){return T7.isObservable}});var P7=NP();Object.defineProperty(_,"lastValueFrom",{enumerable:!0,get:function(){return P7.lastValueFrom}});var A7=FP();Object.defineProperty(_,"firstValueFrom",{enumerable:!0,get:function(){return A7.firstValueFrom}});var x7=iy();Object.defineProperty(_,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return x7.ArgumentOutOfRangeError}});var C7=ln();Object.defineProperty(_,"EmptyError",{enumerable:!0,get:function(){return C7.EmptyError}});var M7=ny();Object.defineProperty(_,"NotFoundError",{enumerable:!0,get:function(){return M7.NotFoundError}});var I7=Fb();Object.defineProperty(_,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return I7.ObjectUnsubscribedError}});var L7=oy();Object.defineProperty(_,"SequenceError",{enumerable:!0,get:function(){return L7.SequenceError}});var R7=zp();Object.defineProperty(_,"TimeoutError",{enumerable:!0,get:function(){return R7.TimeoutError}});var k7=Sb();Object.defineProperty(_,"UnsubscriptionError",{enumerable:!0,get:function(){return k7.UnsubscriptionError}});var N7=qP();Object.defineProperty(_,"bindCallback",{enumerable:!0,get:function(){return N7.bindCallback}});var F7=$P();Object.defineProperty(_,"bindNodeCallback",{enumerable:!0,get:function(){return F7.bindNodeCallback}});var D7=Yp();Object.defineProperty(_,"combineLatest",{enumerable:!0,get:function(){return D7.combineLatest}});var q7=il();Object.defineProperty(_,"concat",{enumerable:!0,get:function(){return q7.concat}});var $7=GP();Object.defineProperty(_,"connectable",{enumerable:!0,get:function(){return $7.connectable}});var j7=nl();Object.defineProperty(_,"defer",{enumerable:!0,get:function(){return j7.defer}});var B7=Wr();Object.defineProperty(_,"empty",{enumerable:!0,get:function(){return B7.empty}});var W7=ZP();Object.defineProperty(_,"forkJoin",{enumerable:!0,get:function(){return W7.forkJoin}});var U7=Li();Object.defineProperty(_,"from",{enumerable:!0,get:function(){return U7.from}});var H7=KP();Object.defineProperty(_,"fromEvent",{enumerable:!0,get:function(){return H7.fromEvent}});var z7=XP();Object.defineProperty(_,"fromEventPattern",{enumerable:!0,get:function(){return z7.fromEventPattern}});var V7=eA();Object.defineProperty(_,"generate",{enumerable:!0,get:function(){return V7.generate}});var G7=tA();Object.defineProperty(_,"iif",{enumerable:!0,get:function(){return G7.iif}});var Z7=dy();Object.defineProperty(_,"interval",{enumerable:!0,get:function(){return Z7.interval}});var J7=iA();Object.defineProperty(_,"merge",{enumerable:!0,get:function(){return J7.merge}});var K7=py();Object.defineProperty(_,"never",{enumerable:!0,get:function(){return K7.never}});var Y7=Rp();Object.defineProperty(_,"of",{enumerable:!0,get:function(){return Y7.of}});var X7=hy();Object.defineProperty(_,"onErrorResumeNext",{enumerable:!0,get:function(){return X7.onErrorResumeNext}});var Q7=oA();Object.defineProperty(_,"pairs",{enumerable:!0,get:function(){return Q7.pairs}});var eX=lA();Object.defineProperty(_,"partition",{enumerable:!0,get:function(){return eX.partition}});var tX=fy();Object.defineProperty(_,"race",{enumerable:!0,get:function(){return tX.race}});var rX=pA();Object.defineProperty(_,"range",{enumerable:!0,get:function(){return rX.range}});var iX=ry();Object.defineProperty(_,"throwError",{enumerable:!0,get:function(){return iX.throwError}});var nX=fn();Object.defineProperty(_,"timer",{enumerable:!0,get:function(){return nX.timer}});var oX=hA();Object.defineProperty(_,"using",{enumerable:!0,get:function(){return oX.using}});var sX=wh();Object.defineProperty(_,"zip",{enumerable:!0,get:function(){return sX.zip}});var aX=ty();Object.defineProperty(_,"scheduled",{enumerable:!0,get:function(){return aX.scheduled}});var uX=Wr();Object.defineProperty(_,"EMPTY",{enumerable:!0,get:function(){return uX.EMPTY}});var lX=py();Object.defineProperty(_,"NEVER",{enumerable:!0,get:function(){return lX.NEVER}});c7(mA(),_);var cX=Fs();Object.defineProperty(_,"config",{enumerable:!0,get:function(){return cX.config}});var dX=my();Object.defineProperty(_,"audit",{enumerable:!0,get:function(){return dX.audit}});var pX=gA();Object.defineProperty(_,"auditTime",{enumerable:!0,get:function(){return pX.auditTime}});var hX=yA();Object.defineProperty(_,"buffer",{enumerable:!0,get:function(){return hX.buffer}});var fX=_A();Object.defineProperty(_,"bufferCount",{enumerable:!0,get:function(){return fX.bufferCount}});var mX=EA();Object.defineProperty(_,"bufferTime",{enumerable:!0,get:function(){return mX.bufferTime}});var vX=TA();Object.defineProperty(_,"bufferToggle",{enumerable:!0,get:function(){return vX.bufferToggle}});var gX=AA();Object.defineProperty(_,"bufferWhen",{enumerable:!0,get:function(){return gX.bufferWhen}});var bX=CA();Object.defineProperty(_,"catchError",{enumerable:!0,get:function(){return bX.catchError}});var yX=MA();Object.defineProperty(_,"combineAll",{enumerable:!0,get:function(){return yX.combineAll}});var _X=wy();Object.defineProperty(_,"combineLatestAll",{enumerable:!0,get:function(){return _X.combineLatestAll}});var wX=NA();Object.defineProperty(_,"combineLatestWith",{enumerable:!0,get:function(){return wX.combineLatestWith}});var EX=ih();Object.defineProperty(_,"concatAll",{enumerable:!0,get:function(){return EX.concatAll}});var SX=Ey();Object.defineProperty(_,"concatMap",{enumerable:!0,get:function(){return SX.concatMap}});var OX=qA();Object.defineProperty(_,"concatMapTo",{enumerable:!0,get:function(){return OX.concatMapTo}});var TX=jA();Object.defineProperty(_,"concatWith",{enumerable:!0,get:function(){return TX.concatWith}});var PX=Dh();Object.defineProperty(_,"connect",{enumerable:!0,get:function(){return PX.connect}});var AX=WA();Object.defineProperty(_,"count",{enumerable:!0,get:function(){return AX.count}});var xX=HA();Object.defineProperty(_,"debounce",{enumerable:!0,get:function(){return xX.debounce}});var CX=zA();Object.defineProperty(_,"debounceTime",{enumerable:!0,get:function(){return CX.debounceTime}});var MX=ol();Object.defineProperty(_,"defaultIfEmpty",{enumerable:!0,get:function(){return MX.defaultIfEmpty}});var IX=ZA();Object.defineProperty(_,"delay",{enumerable:!0,get:function(){return IX.delay}});var LX=Ty();Object.defineProperty(_,"delayWhen",{enumerable:!0,get:function(){return LX.delayWhen}});var RX=JA();Object.defineProperty(_,"dematerialize",{enumerable:!0,get:function(){return RX.dematerialize}});var kX=YA();Object.defineProperty(_,"distinct",{enumerable:!0,get:function(){return kX.distinct}});var NX=Py();Object.defineProperty(_,"distinctUntilChanged",{enumerable:!0,get:function(){return NX.distinctUntilChanged}});var FX=XA();Object.defineProperty(_,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return FX.distinctUntilKeyChanged}});var DX=ex();Object.defineProperty(_,"elementAt",{enumerable:!0,get:function(){return DX.elementAt}});var qX=tx();Object.defineProperty(_,"endWith",{enumerable:!0,get:function(){return qX.endWith}});var $X=rx();Object.defineProperty(_,"every",{enumerable:!0,get:function(){return $X.every}});var jX=sx();Object.defineProperty(_,"exhaust",{enumerable:!0,get:function(){return jX.exhaust}});var BX=xy();Object.defineProperty(_,"exhaustAll",{enumerable:!0,get:function(){return BX.exhaustAll}});var WX=Ay();Object.defineProperty(_,"exhaustMap",{enumerable:!0,get:function(){return WX.exhaustMap}});var UX=ax();Object.defineProperty(_,"expand",{enumerable:!0,get:function(){return UX.expand}});var HX=bo();Object.defineProperty(_,"filter",{enumerable:!0,get:function(){return HX.filter}});var zX=ux();Object.defineProperty(_,"finalize",{enumerable:!0,get:function(){return zX.finalize}});var VX=Cy();Object.defineProperty(_,"find",{enumerable:!0,get:function(){return VX.find}});var GX=cx();Object.defineProperty(_,"findIndex",{enumerable:!0,get:function(){return GX.findIndex}});var ZX=dx();Object.defineProperty(_,"first",{enumerable:!0,get:function(){return ZX.first}});var JX=hx();Object.defineProperty(_,"groupBy",{enumerable:!0,get:function(){return JX.groupBy}});var KX=Sy();Object.defineProperty(_,"ignoreElements",{enumerable:!0,get:function(){return KX.ignoreElements}});var YX=fx();Object.defineProperty(_,"isEmpty",{enumerable:!0,get:function(){return YX.isEmpty}});var XX=mx();Object.defineProperty(_,"last",{enumerable:!0,get:function(){return XX.last}});var QX=cn();Object.defineProperty(_,"map",{enumerable:!0,get:function(){return QX.map}});var eQ=Oy();Object.defineProperty(_,"mapTo",{enumerable:!0,get:function(){return eQ.mapTo}});var tQ=vx();Object.defineProperty(_,"materialize",{enumerable:!0,get:function(){return tQ.materialize}});var rQ=gx();Object.defineProperty(_,"max",{enumerable:!0,get:function(){return rQ.max}});var iQ=rl();Object.defineProperty(_,"mergeAll",{enumerable:!0,get:function(){return iQ.mergeAll}});var nQ=bx();Object.defineProperty(_,"flatMap",{enumerable:!0,get:function(){return nQ.flatMap}});var oQ=ki();Object.defineProperty(_,"mergeMap",{enumerable:!0,get:function(){return oQ.mergeMap}});var sQ=_x();Object.defineProperty(_,"mergeMapTo",{enumerable:!0,get:function(){return sQ.mergeMapTo}});var aQ=wx();Object.defineProperty(_,"mergeScan",{enumerable:!0,get:function(){return aQ.mergeScan}});var uQ=Ox();Object.defineProperty(_,"mergeWith",{enumerable:!0,get:function(){return uQ.mergeWith}});var lQ=Tx();Object.defineProperty(_,"min",{enumerable:!0,get:function(){return lQ.min}});var cQ=bf();Object.defineProperty(_,"multicast",{enumerable:!0,get:function(){return cQ.multicast}});var dQ=el();Object.defineProperty(_,"observeOn",{enumerable:!0,get:function(){return dQ.observeOn}});var pQ=xx();Object.defineProperty(_,"onErrorResumeNextWith",{enumerable:!0,get:function(){return pQ.onErrorResumeNextWith}});var hQ=Cx();Object.defineProperty(_,"pairwise",{enumerable:!0,get:function(){return hQ.pairwise}});var fQ=Mx();Object.defineProperty(_,"pluck",{enumerable:!0,get:function(){return fQ.pluck}});var mQ=Ix();Object.defineProperty(_,"publish",{enumerable:!0,get:function(){return mQ.publish}});var vQ=Lx();Object.defineProperty(_,"publishBehavior",{enumerable:!0,get:function(){return vQ.publishBehavior}});var gQ=Rx();Object.defineProperty(_,"publishLast",{enumerable:!0,get:function(){return gQ.publishLast}});var bQ=Nx();Object.defineProperty(_,"publishReplay",{enumerable:!0,get:function(){return bQ.publishReplay}});var yQ=Fx();Object.defineProperty(_,"raceWith",{enumerable:!0,get:function(){return yQ.raceWith}});var _Q=ha();Object.defineProperty(_,"reduce",{enumerable:!0,get:function(){return _Q.reduce}});var wQ=qx();Object.defineProperty(_,"repeat",{enumerable:!0,get:function(){return wQ.repeat}});var EQ=jx();Object.defineProperty(_,"repeatWhen",{enumerable:!0,get:function(){return EQ.repeatWhen}});var SQ=Wx();Object.defineProperty(_,"retry",{enumerable:!0,get:function(){return SQ.retry}});var OQ=Hx();Object.defineProperty(_,"retryWhen",{enumerable:!0,get:function(){return OQ.retryWhen}});var TQ=kb();Object.defineProperty(_,"refCount",{enumerable:!0,get:function(){return TQ.refCount}});var PQ=Ly();Object.defineProperty(_,"sample",{enumerable:!0,get:function(){return PQ.sample}});var AQ=Vx();Object.defineProperty(_,"sampleTime",{enumerable:!0,get:function(){return AQ.sampleTime}});var xQ=Gx();Object.defineProperty(_,"scan",{enumerable:!0,get:function(){return xQ.scan}});var CQ=Jx();Object.defineProperty(_,"sequenceEqual",{enumerable:!0,get:function(){return CQ.sequenceEqual}});var MQ=ky();Object.defineProperty(_,"share",{enumerable:!0,get:function(){return MQ.share}});var IQ=Xx();Object.defineProperty(_,"shareReplay",{enumerable:!0,get:function(){return IQ.shareReplay}});var LQ=Qx();Object.defineProperty(_,"single",{enumerable:!0,get:function(){return LQ.single}});var RQ=eC();Object.defineProperty(_,"skip",{enumerable:!0,get:function(){return RQ.skip}});var kQ=tC();Object.defineProperty(_,"skipLast",{enumerable:!0,get:function(){return kQ.skipLast}});var NQ=iC();Object.defineProperty(_,"skipUntil",{enumerable:!0,get:function(){return NQ.skipUntil}});var FQ=nC();Object.defineProperty(_,"skipWhile",{enumerable:!0,get:function(){return FQ.skipWhile}});var DQ=sC();Object.defineProperty(_,"startWith",{enumerable:!0,get:function(){return DQ.startWith}});var qQ=tl();Object.defineProperty(_,"subscribeOn",{enumerable:!0,get:function(){return qQ.subscribeOn}});var $Q=uC();Object.defineProperty(_,"switchAll",{enumerable:!0,get:function(){return $Q.switchAll}});var jQ=ul();Object.defineProperty(_,"switchMap",{enumerable:!0,get:function(){return jQ.switchMap}});var BQ=cC();Object.defineProperty(_,"switchMapTo",{enumerable:!0,get:function(){return BQ.switchMapTo}});var WQ=dC();Object.defineProperty(_,"switchScan",{enumerable:!0,get:function(){return WQ.switchScan}});var UQ=sl();Object.defineProperty(_,"take",{enumerable:!0,get:function(){return UQ.take}});var HQ=My();Object.defineProperty(_,"takeLast",{enumerable:!0,get:function(){return HQ.takeLast}});var zQ=pC();Object.defineProperty(_,"takeUntil",{enumerable:!0,get:function(){return zQ.takeUntil}});var VQ=hC();Object.defineProperty(_,"takeWhile",{enumerable:!0,get:function(){return VQ.takeWhile}});var GQ=fC();Object.defineProperty(_,"tap",{enumerable:!0,get:function(){return GQ.tap}});var ZQ=Ny();Object.defineProperty(_,"throttle",{enumerable:!0,get:function(){return ZQ.throttle}});var JQ=vC();Object.defineProperty(_,"throttleTime",{enumerable:!0,get:function(){return JQ.throttleTime}});var KQ=al();Object.defineProperty(_,"throwIfEmpty",{enumerable:!0,get:function(){return KQ.throwIfEmpty}});var YQ=bC();Object.defineProperty(_,"timeInterval",{enumerable:!0,get:function(){return YQ.timeInterval}});var XQ=zp();Object.defineProperty(_,"timeout",{enumerable:!0,get:function(){return XQ.timeout}});var QQ=yC();Object.defineProperty(_,"timeoutWith",{enumerable:!0,get:function(){return QQ.timeoutWith}});var eee=_C();Object.defineProperty(_,"timestamp",{enumerable:!0,get:function(){return eee.timestamp}});var tee=yy();Object.defineProperty(_,"toArray",{enumerable:!0,get:function(){return tee.toArray}});var ree=SC();Object.defineProperty(_,"window",{enumerable:!0,get:function(){return ree.window}});var iee=TC();Object.defineProperty(_,"windowCount",{enumerable:!0,get:function(){return iee.windowCount}});var nee=AC();Object.defineProperty(_,"windowTime",{enumerable:!0,get:function(){return nee.windowTime}});var oee=MC();Object.defineProperty(_,"windowToggle",{enumerable:!0,get:function(){return oee.windowToggle}});var see=LC();Object.defineProperty(_,"windowWhen",{enumerable:!0,get:function(){return see.windowWhen}});var aee=FC();Object.defineProperty(_,"withLatestFrom",{enumerable:!0,get:function(){return aee.withLatestFrom}});var uee=DC();Object.defineProperty(_,"zipAll",{enumerable:!0,get:function(){return uee.zipAll}});var lee=$C();Object.defineProperty(_,"zipWith",{enumerable:!0,get:function(){return lee.zipWith}})});function ke(r){let t=new Ni.BehaviorSubject(r);return new Dy(r,t)}var Ni,Dy,ya=k(()=>{p();Ni=qt(tm()),Dy=class{constructor(t,e){this.subscriptions=new Map;this.setValue=t=>{this.state=t,this.subject.next(this.state)};this.subscribe=(t,e)=>{let i=this.subject.subscribe(e);if(this.subscriptions.has(t)){this.subscriptions.get(t).push(i);return}this.subscriptions.set(t,[i])};this.state=t,this.firstState=t,this.subject=e.pipe((0,Ni.distinctUntilChanged)(),(0,Ni.shareReplay)({bufferSize:1,refCount:!0}))}getValue(){return this.state}unsubscribe(t){var e;(e=this.subscriptions.get(t))==null||e.forEach(i=>i.unsubscribe()),this.subscriptions.delete(t)}destroy(){this.subscriptions.clear(),this.subject.complete(),this.restart()}restart(){this.state=this.firstState,this.subject=new Ni.BehaviorSubject(this.firstState).pipe((0,Ni.distinctUntilChanged)(),(0,Ni.shareReplay)({bufferSize:1,refCount:!0}))}expose(){let t=this.subscribe.bind(this),e=this.unsubscribe.bind(this),i=this.getValue.bind(this),n=this.setValue.bind(this);return{get value(){return i()},set value(o){n(o)},subscribe:t,unsubscribe:e}}}});function GC(){return{localParticipant:dee,participants:pee,destroy:cee}}var VC,qy,rm,cee,dee,pee,ZC=k(()=>{p();Ns();ya();VC=ai(),qy=class{constructor(){this.localParticipant=ke({});this.participants=ke({});if(VC.value)throw new Error("CoreStore is a singleton. There can only be one instance of it.");VC.value=this}destroy(){this.localParticipant.destroy(),this.participants.destroy()}},rm=new qy,cee=rm.destroy.bind(rm),dee=rm.localParticipant.expose(),pee=rm.participants.expose()});function _o(){return{localParticipant:vee,participants:mee,group:fee,isDomainWhitelisted:gee,hasJoinedRoom:bee,destroy:hee}}var JC,$y,yo,hee,fee,mee,vee,gee,bee,jy=k(()=>{p();Ns();ya();JC=ai(),$y=class{constructor(){this.localParticipant=ke({});this.participants=ke({});this.group=ke(null);this.isDomainWhitelisted=ke(!0);this.hasJoinedRoom=ke(!1);if(JC.value)throw new Error("CommentsStore is a singleton. There can only be one instance of it.");JC.value=this}destroy(){this.localParticipant.destroy(),this.participants.destroy(),this.group.destroy(),this.isDomainWhitelisted.destroy(),this.hasJoinedRoom.destroy()}},yo=new $y,hee=yo.destroy.bind(yo),fee=yo.group.expose(),mee=yo.participants.expose(),vee=yo.localParticipant.expose(),gee=yo.isDomainWhitelisted.expose(),bee=yo.hasJoinedRoom.expose()});function YC(){return{hasJoined3D:_ee,participants:wee,destroy:yee}}var KC,By,im,yee,_ee,wee,XC=k(()=>{p();Ns();ya();KC=ai(),By=class{constructor(){this.hasJoined3D=ke(!1);this.participants=ke([]);if(KC.value)throw new Error("Presence3DStore is a singleton. There can only be one instance of it.");KC.value=this}destroy(){this.hasJoined3D.destroy(),this.participants.destroy()}},im=new By,yee=im.destroy.bind(im),_ee=im.hasJoined3D.expose(),wee=im.participants.expose()});var nm,Wy=k(()=>{p();nm=(c=>(c[c.DISCONNECTED=0]="DISCONNECTED",c[c.INITIALIZING=1]="INITIALIZING",c[c.READY_TO_JOIN=2]="READY_TO_JOIN",c[c.CONNECTING=3]="CONNECTING",c[c.CONNECTED=4]="CONNECTED",c[c.JOINED=5]="JOINED",c[c.FAILED=-1]="FAILED",c[c.RETRYING=-2]="RETRYING",c))(nm||{})});function e1(){return{meetingState:See,gather:Oee,destroy:Eee,hostId:Tee,isGridModeEnabled:Pee,followParticipantId:Aee,drawing:xee,transcript:Cee}}var QC,Uy,Fi,Eee,See,Oee,Tee,Pee,Aee,xee,Cee,t1=k(()=>{p();Wy();Ns();ya();QC=ai(),Uy=class{constructor(){this.meetingState=ke(0);this.gather=ke(!1);this.hostId=ke("");this.isGridModeEnabled=ke(!1);this.followParticipantId=ke("");this.drawing=ke(null);this.transcript=ke(null);if(QC.value)throw new Error("VideoStore is a singleton. There can only be one instance of it.");QC.value=this}destroy(){this.meetingState.destroy(),this.gather.destroy(),this.hostId.destroy(),this.isGridModeEnabled.destroy(),this.followParticipantId.destroy(),this.drawing.destroy(),this.transcript.destroy()}},Fi=new Uy,Eee=Fi.destroy.bind(Fi),See=Fi.meetingState.expose(),Oee=Fi.gather.expose(),Tee=Fi.hostId.expose(),Pee=Fi.isGridModeEnabled.expose(),Aee=Fi.followParticipantId.expose(),xee=Fi.drawing.expose(),Cee=Fi.transcript.expose()});function i1(){return{disablePresenceControls:Iee,disableGoToParticipant:Lee,disableFollowParticipant:Ree,disablePrivateMode:kee,disableGatherAll:Nee,disableFollowMe:Fee,participants:qee,extras:$ee,joinedPresence:Dee,everyoneFollowsMe:jee,privateMode:Bee,following:Wee,destroy:Mee}}var r1,Hy,Yt,Mee,Iee,Lee,Ree,kee,Nee,Fee,Dee,qee,$ee,jee,Bee,Wee,n1=k(()=>{p();Ns();ya();r1=ai(),Hy=class{constructor(){this.disablePresenceControls=ke(!1);this.disableGoToParticipant=ke(!1);this.disableFollowParticipant=ke(!1);this.disablePrivateMode=ke(!1);this.disableGatherAll=ke(!1);this.disableFollowMe=ke(!1);this.participants=ke([]);this.extras=ke([]);this.joinedPresence=ke(void 0);this.everyoneFollowsMe=ke(!1);this.privateMode=ke(!1);this.following=ke(void 0);if(r1.value)throw new Error("WhoIsOnlineStore is a singleton. There can only be one instance of it.");r1.value=this}destroy(){this.disableGoToParticipant.destroy(),this.disablePresenceControls.destroy(),this.disableFollowParticipant.destroy(),this.disablePrivateMode.destroy(),this.disableGatherAll.destroy(),this.disableFollowMe.destroy(),this.participants.destroy(),this.extras.destroy(),this.joinedPresence.destroy(),this.everyoneFollowsMe.destroy(),this.privateMode.destroy(),this.following.destroy()}},Yt=new Hy,Mee=Yt.destroy.bind(Yt),Iee=Yt.disablePresenceControls.expose(),Lee=Yt.disableGoToParticipant.expose(),Ree=Yt.disableFollowParticipant.expose(),kee=Yt.disablePrivateMode.expose(),Nee=Yt.disableGatherAll.expose(),Fee=Yt.disableFollowMe.expose(),Dee=Yt.joinedPresence.expose(),qee=Yt.participants.expose(),$ee=Yt.extras.expose(),jee=Yt.everyoneFollowsMe.expose(),Bee=Yt.privateMode.expose(),Wee=Yt.following.expose()});function Hee(r,t,e){t.subscribe(this,()=>{e?e(t.value):this[r]=t.value,this.requestUpdate&&this.requestUpdate()}),this.unsubscribeFrom||(this.unsubscribeFrom=[]),this.unsubscribeFrom.push(t.unsubscribe)}function ot(r){let t=Uee[r](),e=Hee.bind(this);return new Proxy(t,{get(n,o){return o==="destroy"?n.destroy:{subscribe(u){e(o,n[o],u)},subject:n[o],get value(){return this.subject.value},publish(u){this.subject.value=u}}}})}var Uee,wo=k(()=>{p();ZC();jy();XC();t1();n1();ft();Uee={"global-store":_o,"who-is-online-store":i1,"video-store":e1,"presence-3d-store":YC,"core-store":GC}});var a1,wt,_me,wme,wa=k(()=>{p();a1=["rosybrown","red","saddlebrown","coral","orange","brown","goldenrod","olivegreen","darkolivegreen","seagreen","lightsea","teal","cadetblue","pastelblue","mediumslateblue","bluedark","navy","rebeccapurple","purple","vividorchid","darkmagenta","deepmagenta","fuchsia","violetred","pink","vibrantpink","paleredviolet","carmine","wine"],wt={turquoise:"#31E0B0",orange:"#FF5E10",blue:"#00ABF7",pink:"#FF00BB",purple:"#9C29FF",green:"#6FDD00",red:"#E30000",bluedark:"#304AFF",pinklight:"#FF89C4",purplelight:"#D597FF",greenlight:"#C6EC5C",orangelight:"#FFA115",bluelight:"#75DEFE",redlight:"#FAA291",brown:"#BB813F",yellow:"#FFEF33",olivegreen:"#93A000",lightyellow:"#FAE391",violetred:"#C03FA3",rosybrown:"#B58787",cadetblue:"#2095BB",lightsteelblue:"#ABB5FF",seagreen:"#04B45F",palegreen:"#8DE990",saddlebrown:"#964C42",pastelblue:"#77A1CC",palesilver:"#D2BABA",coral:"#DF6B6B",bisque:"#FFD9C4",goldenrod:"#DAA520",tan:"#D2BD93",darkolivegreen:"#536C27",mint:"#ADE6DF",lightsea:"#45AFAA",teal:"#036E6E",wine:"#760040",cyan:"#00FFFF",mediumslateblue:"#6674D7",navy:"#0013BB",rebeccapurple:"#663399",vividorchid:"#D429FF",darkmagenta:"#810E81",deepmagenta:"#C303C6",fuchsia:"#FA00FF",lavendermagenta:"#EE82EE",thistle:"#EEB4DD",vibrantpink:"#FF007A",cottoncandy:"#FFC0DE",paleredviolet:"#D96598",carmine:"#B50A52",gray:"#878291"},_me=Object.values(wt),wme=Object.keys(wt)});var d1,Jy=k(()=>{p();d1=class{get shadowRoot(){return this.__host.__shadowRoot}constructor(t){this.ariaAtomic="",this.ariaAutoComplete="",this.ariaBraileLabel="",this.ariaBraileRoleDescription="",this.ariaBusy="",this.ariaChecked="",this.ariaColCount="",this.ariaColIndex="",this.ariaColSpan="",this.ariaCurrent="",this.ariaDescription="",this.ariaDisabled="",this.ariaExpanded="",this.ariaHasPopup="",this.ariaHidden="",this.ariaInvalid="",this.ariaKeyShortcuts="",this.ariaLabel="",this.ariaLevel="",this.ariaLive="",this.ariaModal="",this.ariaMultiLine="",this.ariaMultiSelectable="",this.ariaOrientation="",this.ariaPlaceholder="",this.ariaPosInSet="",this.ariaPressed="",this.ariaReadOnly="",this.ariaRequired="",this.ariaRoleDescription="",this.ariaRowCount="",this.ariaRowIndex="",this.ariaRowSpan="",this.ariaSelected="",this.ariaSetSize="",this.ariaSort="",this.ariaValueMax="",this.ariaValueMin="",this.ariaValueNow="",this.ariaValueText="",this.role="",this.form=null,this.labels=[],this.states=new Set,this.validationMessage="",this.validity={},this.willValidate=!0,this.__host=t}checkValidity(){return console.warn("`ElementInternals.checkValidity()` was called on the server.This method always returns true."),!0}reportValidity(){return!0}setFormValue(){}setValidity(){}}});var p1,cl,Xee,Qee,h1,ete,tte,f1,m1=k(()=>{p();Jy();Jy();p1=new WeakMap,cl=r=>{let t=p1.get(r);return t===void 0&&p1.set(r,t=new Map),t},Xee=class{constructor(){this.__shadowRootMode=null,this.__shadowRoot=null,this.__internals=null}get attributes(){return Array.from(cl(this)).map(([t,e])=>({name:t,value:e}))}get shadowRoot(){return this.__shadowRootMode==="closed"?null:this.__shadowRoot}setAttribute(t,e){cl(this).set(t,String(e))}removeAttribute(t){cl(this).delete(t)}toggleAttribute(t,e){if(this.hasAttribute(t)){if(e===void 0||!e)return this.removeAttribute(t),!1}else return e===void 0||e?(this.setAttribute(t,""),!0):!1;return!0}hasAttribute(t){return cl(this).has(t)}attachShadow(t){let e={host:this};return this.__shadowRootMode=t.mode,t&&t.mode==="open"&&(this.__shadowRoot=e),e}attachInternals(){if(this.__internals!==null)throw new Error("Failed to execute 'attachInternals' on 'HTMLElement': ElementInternals for the specified element was already attached.");let t=new d1(this);return this.__internals=t,t}getAttribute(t){return cl(this).get(t)??null}},Qee=class extends Xee{},h1=Qee,ete=class{constructor(){this.__definitions=new Map}define(t,e){if(this.__definitions.has(t))if(v.NODE_ENV==="development")console.warn(`'CustomElementRegistry' already has "${t}" defined. This may have been caused by live reload or hot module replacement in which case it can be safely ignored.
Make sure to test your application with a production build as repeat registrations will throw in production.`);else throw new Error(`Failed to execute 'define' on 'CustomElementRegistry': the name "${t}" has already been used with this registry`);this.__definitions.set(t,{ctor:e,observedAttributes:e.observedAttributes??[]})}get(t){let e=this.__definitions.get(t);return e==null?void 0:e.ctor}},tte=ete,f1=new tte});var dl,lm,g1,v1,um,b1,Ky,cm,Yy=k(()=>{p();dl=globalThis,lm=dl.ShadowRoot&&(dl.ShadyCSS===void 0||dl.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,g1=Symbol(),v1=new WeakMap,um=class{constructor(t,e,i){if(this._$cssResult$=!0,i!==g1)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o,e=this.t;if(lm&&t===void 0){let i=e!==void 0&&e.length===1;i&&(t=v1.get(e)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&v1.set(e,t))}return t}toString(){return this.cssText}},b1=r=>new um(typeof r=="string"?r:r+"",void 0,g1),Ky=(r,t)=>{if(lm)r.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet);else for(let e of t){let i=document.createElement("style"),n=dl.litNonce;n!==void 0&&i.setAttribute("nonce",n),i.textContent=e.cssText,r.appendChild(i)}},cm=lm||dl.CSSStyleSheet===void 0?r=>r:r=>r instanceof CSSStyleSheet?(t=>{let e="";for(let i of t.cssRules)e+=i.cssText;return b1(e)})(r):r});var rte,ite,nte,ote,ste,ate,hl,y1,ute,Xy,pl,dm,Qy,_1,Oo,e_=k(()=>{p();m1();Yy();Yy();({is:rte,defineProperty:ite,getOwnPropertyDescriptor:nte,getOwnPropertyNames:ote,getOwnPropertySymbols:ste,getPrototypeOf:ate}=Object),hl=globalThis;hl.customElements??=f1;y1=hl.trustedTypes,ute=y1?y1.emptyScript:"",Xy=hl.reactiveElementPolyfillSupport,pl=(r,t)=>r,dm={toAttribute(r,t){switch(t){case Boolean:r=r?ute:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,t){let e=r;switch(t){case Boolean:e=r!==null;break;case Number:e=r===null?null:Number(r);break;case Object:case Array:try{e=JSON.parse(r)}catch{e=null}}return e}},Qy=(r,t)=>!rte(r,t),_1={attribute:!0,type:String,converter:dm,reflect:!1,hasChanged:Qy};Symbol.metadata??=Symbol("metadata"),hl.litPropertyMetadata??=new WeakMap;Oo=class extends(globalThis.HTMLElement??h1){static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=_1){if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(t,e),!e.noAccessor){let i=Symbol(),n=this.getPropertyDescriptor(t,i,e);n!==void 0&&ite(this.prototype,t,n)}}static getPropertyDescriptor(t,e,i){let{get:n,set:o}=nte(this.prototype,t)??{get(){return this[e]},set(u){this[e]=u}};return{get(){return n==null?void 0:n.call(this)},set(u){let l=n==null?void 0:n.call(this);o.call(this,u),this.requestUpdate(t,l,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??_1}static _$Ei(){if(this.hasOwnProperty(pl("elementProperties")))return;let t=ate(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(pl("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(pl("properties"))){let e=this.properties,i=[...ote(e),...ste(e)];for(let n of i)this.createProperty(n,e[n])}let t=this[Symbol.metadata];if(t!==null){let e=litPropertyMetadata.get(t);if(e!==void 0)for(let[i,n]of e)this.elementProperties.set(i,n)}this._$Eh=new Map;for(let[e,i]of this.elementProperties){let n=this._$Eu(e,i);n!==void 0&&this._$Eh.set(n,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){let e=[];if(Array.isArray(t)){let i=new Set(t.flat(1/0).reverse());for(let n of i)e.unshift(cm(n))}else t!==void 0&&e.push(cm(t));return e}static _$Eu(t,e){let i=e.attribute;return i===!1?void 0:typeof i=="string"?i:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(e=>e(this))}addController(t){var e;(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&((e=t.hostConnected)==null||e.call(t))}removeController(t){var e;(e=this._$EO)==null||e.delete(t)}_$E_(){let t=new Map,e=this.constructor.elementProperties;for(let i of e.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){let t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Ky(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(e=>{var i;return(i=e.hostConnected)==null?void 0:i.call(e)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(e=>{var i;return(i=e.hostDisconnected)==null?void 0:i.call(e)})}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$EC(t,e){var o;let i=this.constructor.elementProperties.get(t),n=this.constructor._$Eu(t,i);if(n!==void 0&&i.reflect===!0){let u=(((o=i.converter)==null?void 0:o.toAttribute)!==void 0?i.converter:dm).toAttribute(e,i.type);this._$Em=t,u==null?this.removeAttribute(n):this.setAttribute(n,u),this._$Em=null}}_$AK(t,e){var o;let i=this.constructor,n=i._$Eh.get(t);if(n!==void 0&&this._$Em!==n){let u=i.getPropertyOptions(n),l=typeof u.converter=="function"?{fromAttribute:u.converter}:((o=u.converter)==null?void 0:o.fromAttribute)!==void 0?u.converter:dm;this._$Em=n,this[n]=l.fromAttribute(e,u.type),this._$Em=null}}requestUpdate(t,e,i){if(t!==void 0){if(i??=this.constructor.getPropertyOptions(t),!(i.hasChanged??Qy)(this[t],e))return;this.P(t,e,i)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,e,i){this._$AL.has(t)||this._$AL.set(t,e),i.reflect===!0&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}let t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var i;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(let[o,u]of this._$Ep)this[o]=u;this._$Ep=void 0}let n=this.constructor.elementProperties;if(n.size>0)for(let[o,u]of n)u.wrapped!==!0||this._$AL.has(o)||this[o]===void 0||this.P(o,this[o],u)}let t=!1,e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),(i=this._$EO)==null||i.forEach(n=>{var o;return(o=n.hostUpdate)==null?void 0:o.call(n)}),this.update(e)):this._$EU()}catch(n){throw t=!1,this._$EU(),n}t&&this._$AE(e)}willUpdate(t){}_$AE(t){var e;(e=this._$EO)==null||e.forEach(i=>{var n;return(n=i.hostUpdated)==null?void 0:n.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach(e=>this._$EC(e,this[e])),this._$EU()}updated(t){}firstUpdated(t){}};Oo.elementStyles=[],Oo.shadowRootOptions={mode:"open"},Oo[pl("elementProperties")]=new Map,Oo[pl("finalized")]=new Map,Xy==null||Xy({ReactiveElement:Oo}),(hl.reactiveElementVersions??=[]).push("2.0.4")});function I1(r,t){if(!Array.isArray(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return w1!==void 0?w1.createHTML(t):t}function xo(r,t,e=r,i){var u,l;if(t===Ur)return t;let n=i!==void 0?(u=e._$Co)==null?void 0:u[i]:e._$Cl,o=vl(t)?void 0:t._$litDirective$;return(n==null?void 0:n.constructor)!==o&&((l=n==null?void 0:n._$AO)==null||l.call(n,!1),o===void 0?n=void 0:(n=new o(r),n._$AT(r,e,i)),i!==void 0?(e._$Co??=[])[i]=n:e._$Cl=n),n!==void 0&&(t=xo(r,n._$AS(r,t.values),n,i)),t}var bm,pm,w1,i_,Di,n_,lte,Ao,ml,vl,A1,x1,t_,fl,E1,S1,To,O1,T1,C1,M1,j,kve,Ur,Et,P1,Po,L1,gl,hm,Ea,Co,fm,mm,vm,gm,R1,r_,k1,Mo=k(()=>{p();bm=globalThis,pm=bm.trustedTypes,w1=pm?pm.createPolicy("lit-html",{createHTML:r=>r}):void 0,i_="$lit$",Di=`lit$${Math.random().toFixed(9).slice(2)}$`,n_="?"+Di,lte=`<${n_}>`,Ao=bm.document===void 0?{createTreeWalker:()=>({})}:document,ml=()=>Ao.createComment(""),vl=r=>r===null||typeof r!="object"&&typeof r!="function",A1=Array.isArray,x1=r=>A1(r)||typeof(r==null?void 0:r[Symbol.iterator])=="function",t_=`[ 	
\f\r]`,fl=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,E1=/-->/g,S1=/>/g,To=RegExp(`>|${t_}(?:([^\\s"'>=/]+)(${t_}*=${t_}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),O1=/'/g,T1=/"/g,C1=/^(?:script|style|textarea|title)$/i,M1=r=>(t,...e)=>({_$litType$:r,strings:t,values:e}),j=M1(1),kve=M1(2),Ur=Symbol.for("lit-noChange"),Et=Symbol.for("lit-nothing"),P1=new WeakMap,Po=Ao.createTreeWalker(Ao,129);L1=(r,t)=>{let e=r.length-1,i=[],n,o=t===2?"<svg>":"",u=fl;for(let l=0;l<e;l++){let c=r[l],h,m,b=-1,y=0;for(;y<c.length&&(u.lastIndex=y,m=u.exec(c),m!==null);)y=u.lastIndex,u===fl?m[1]==="!--"?u=E1:m[1]!==void 0?u=S1:m[2]!==void 0?(C1.test(m[2])&&(n=RegExp("</"+m[2],"g")),u=To):m[3]!==void 0&&(u=To):u===To?m[0]===">"?(u=n??fl,b=-1):m[1]===void 0?b=-2:(b=u.lastIndex-m[2].length,h=m[1],u=m[3]===void 0?To:m[3]==='"'?T1:O1):u===T1||u===O1?u=To:u===E1||u===S1?u=fl:(u=To,n=void 0);let w=u===To&&r[l+1].startsWith("/>")?" ":"";o+=u===fl?c+lte:b>=0?(i.push(h),c.slice(0,b)+i_+c.slice(b)+Di+w):c+Di+(b===-2?l:w)}return[I1(r,o+(r[e]||"<?>")+(t===2?"</svg>":"")),i]},gl=class r{constructor({strings:t,_$litType$:e},i){let n;this.parts=[];let o=0,u=0,l=t.length-1,c=this.parts,[h,m]=L1(t,e);if(this.el=r.createElement(h,i),Po.currentNode=this.el.content,e===2){let b=this.el.content.firstChild;b.replaceWith(...b.childNodes)}for(;(n=Po.nextNode())!==null&&c.length<l;){if(n.nodeType===1){if(n.hasAttributes())for(let b of n.getAttributeNames())if(b.endsWith(i_)){let y=m[u++],w=n.getAttribute(b).split(Di),O=/([.?@])?(.*)/.exec(y);c.push({type:1,index:o,name:O[2],strings:w,ctor:O[1]==="."?fm:O[1]==="?"?mm:O[1]==="@"?vm:Co}),n.removeAttribute(b)}else b.startsWith(Di)&&(c.push({type:6,index:o}),n.removeAttribute(b));if(C1.test(n.tagName)){let b=n.textContent.split(Di),y=b.length-1;if(y>0){n.textContent=pm?pm.emptyScript:"";for(let w=0;w<y;w++)n.append(b[w],ml()),Po.nextNode(),c.push({type:2,index:++o});n.append(b[y],ml())}}}else if(n.nodeType===8)if(n.data===n_)c.push({type:2,index:o});else{let b=-1;for(;(b=n.data.indexOf(Di,b+1))!==-1;)c.push({type:7,index:o}),b+=Di.length-1}o++}}static createElement(t,e){let i=Ao.createElement("template");return i.innerHTML=t,i}};hm=class{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){let{el:{content:e},parts:i}=this._$AD,n=((t==null?void 0:t.creationScope)??Ao).importNode(e,!0);Po.currentNode=n;let o=Po.nextNode(),u=0,l=0,c=i[0];for(;c!==void 0;){if(u===c.index){let h;c.type===2?h=new Ea(o,o.nextSibling,this,t):c.type===1?h=new c.ctor(o,c.name,c.strings,this,t):c.type===6&&(h=new gm(o,this,t)),this._$AV.push(h),c=i[++l]}u!==(c==null?void 0:c.index)&&(o=Po.nextNode(),u++)}return Po.currentNode=Ao,n}p(t){let e=0;for(let i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}},Ea=class r{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,e,i,n){this.type=2,this._$AH=Et,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=n,this._$Cv=(n==null?void 0:n.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode,e=this._$AM;return e!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=xo(this,t,e),vl(t)?t===Et||t==null||t===""?(this._$AH!==Et&&this._$AR(),this._$AH=Et):t!==this._$AH&&t!==Ur&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):x1(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==Et&&vl(this._$AH)?this._$AA.nextSibling.data=t:this.T(Ao.createTextNode(t)),this._$AH=t}$(t){var o;let{values:e,_$litType$:i}=t,n=typeof i=="number"?this._$AC(t):(i.el===void 0&&(i.el=gl.createElement(I1(i.h,i.h[0]),this.options)),i);if(((o=this._$AH)==null?void 0:o._$AD)===n)this._$AH.p(e);else{let u=new hm(n,this),l=u.u(this.options);u.p(e),this.T(l),this._$AH=u}}_$AC(t){let e=P1.get(t.strings);return e===void 0&&P1.set(t.strings,e=new gl(t)),e}k(t){A1(this._$AH)||(this._$AH=[],this._$AR());let e=this._$AH,i,n=0;for(let o of t)n===e.length?e.push(i=new r(this.S(ml()),this.S(ml()),this,this.options)):i=e[n],i._$AI(o),n++;n<e.length&&(this._$AR(i&&i._$AB.nextSibling,n),e.length=n)}_$AR(t=this._$AA.nextSibling,e){var i;for((i=this._$AP)==null?void 0:i.call(this,!1,!0,e);t&&t!==this._$AB;){let n=t.nextSibling;t.remove(),t=n}}setConnected(t){var e;this._$AM===void 0&&(this._$Cv=t,(e=this._$AP)==null||e.call(this,t))}},Co=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,i,n,o){this.type=1,this._$AH=Et,this._$AN=void 0,this.element=t,this.name=e,this._$AM=n,this.options=o,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Et}_$AI(t,e=this,i,n){let o=this.strings,u=!1;if(o===void 0)t=xo(this,t,e,0),u=!vl(t)||t!==this._$AH&&t!==Ur,u&&(this._$AH=t);else{let l=t,c,h;for(t=o[0],c=0;c<o.length-1;c++)h=xo(this,l[i+c],e,c),h===Ur&&(h=this._$AH[c]),u||=!vl(h)||h!==this._$AH[c],h===Et?t=Et:t!==Et&&(t+=(h??"")+o[c+1]),this._$AH[c]=h}u&&!n&&this.j(t)}j(t){t===Et?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},fm=class extends Co{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Et?void 0:t}},mm=class extends Co{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==Et)}},vm=class extends Co{constructor(t,e,i,n,o){super(t,e,i,n,o),this.type=5}_$AI(t,e=this){if((t=xo(this,t,e,0)??Et)===Ur)return;let i=this._$AH,n=t===Et&&i!==Et||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,o=t!==Et&&(i===Et||n);n&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e;typeof this._$AH=="function"?this._$AH.call(((e=this.options)==null?void 0:e.host)??this.element,t):this._$AH.handleEvent(t)}},gm=class{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){xo(this,t)}},R1={P:i_,A:Di,C:n_,M:1,L:L1,R:hm,D:x1,V:xo,I:Ea,H:Co,N:mm,U:vm,B:fm,F:gm},r_=bm.litHtmlPolyfillSupport;r_==null||r_(gl,Ea),(bm.litHtmlVersions??=[]).push("3.1.4");k1=(r,t,e)=>{let i=(e==null?void 0:e.renderBefore)??t,n=i._$litPart$;if(n===void 0){let o=(e==null?void 0:e.renderBefore)??null;i._$litPart$=n=new Ea(t.insertBefore(ml(),o),o,void 0,e??{})}return n._$AI(r),n}});var N1,o_=k(()=>{p();N1=class{get shadowRoot(){return this.__host.__shadowRoot}constructor(t){this.ariaAtomic="",this.ariaAutoComplete="",this.ariaBraileLabel="",this.ariaBraileRoleDescription="",this.ariaBusy="",this.ariaChecked="",this.ariaColCount="",this.ariaColIndex="",this.ariaColSpan="",this.ariaCurrent="",this.ariaDescription="",this.ariaDisabled="",this.ariaExpanded="",this.ariaHasPopup="",this.ariaHidden="",this.ariaInvalid="",this.ariaKeyShortcuts="",this.ariaLabel="",this.ariaLevel="",this.ariaLive="",this.ariaModal="",this.ariaMultiLine="",this.ariaMultiSelectable="",this.ariaOrientation="",this.ariaPlaceholder="",this.ariaPosInSet="",this.ariaPressed="",this.ariaReadOnly="",this.ariaRequired="",this.ariaRoleDescription="",this.ariaRowCount="",this.ariaRowIndex="",this.ariaRowSpan="",this.ariaSelected="",this.ariaSetSize="",this.ariaSort="",this.ariaValueMax="",this.ariaValueMin="",this.ariaValueNow="",this.ariaValueText="",this.role="",this.form=null,this.labels=[],this.states=new Set,this.validationMessage="",this.validity={},this.willValidate=!0,this.__host=t}checkValidity(){return console.warn("`ElementInternals.checkValidity()` was called on the server.This method always returns true."),!0}reportValidity(){return!0}setFormValue(){}setValidity(){}}});var F1,bl,cte,dte,D1,pte,hte,q1,$1=k(()=>{p();o_();o_();F1=new WeakMap,bl=r=>{let t=F1.get(r);return t===void 0&&F1.set(r,t=new Map),t},cte=class{constructor(){this.__shadowRootMode=null,this.__shadowRoot=null,this.__internals=null}get attributes(){return Array.from(bl(this)).map(([t,e])=>({name:t,value:e}))}get shadowRoot(){return this.__shadowRootMode==="closed"?null:this.__shadowRoot}setAttribute(t,e){bl(this).set(t,String(e))}removeAttribute(t){bl(this).delete(t)}toggleAttribute(t,e){if(this.hasAttribute(t)){if(e===void 0||!e)return this.removeAttribute(t),!1}else return e===void 0||e?(this.setAttribute(t,""),!0):!1;return!0}hasAttribute(t){return bl(this).has(t)}attachShadow(t){let e={host:this};return this.__shadowRootMode=t.mode,t&&t.mode==="open"&&(this.__shadowRoot=e),e}attachInternals(){if(this.__internals!==null)throw new Error("Failed to execute 'attachInternals' on 'HTMLElement': ElementInternals for the specified element was already attached.");let t=new N1(this);return this.__internals=t,t}getAttribute(t){return bl(this).get(t)??null}},dte=class extends cte{},D1=dte,pte=class{constructor(){this.__definitions=new Map}define(t,e){if(this.__definitions.has(t))if(v.NODE_ENV==="development")console.warn(`'CustomElementRegistry' already has "${t}" defined. This may have been caused by live reload or hot module replacement in which case it can be safely ignored.
Make sure to test your application with a production build as repeat registrations will throw in production.`);else throw new Error(`Failed to execute 'define' on 'CustomElementRegistry': the name "${t}" has already been used with this registry`);this.__definitions.set(t,{ctor:e,observedAttributes:e.observedAttributes??[]})}get(t){let e=this.__definitions.get(t);return e==null?void 0:e.ctor}},hte=pte,q1=new hte});var yl,ym,s_,j1,_l,B1,ue,a_,_m,u_=k(()=>{p();yl=globalThis,ym=yl.ShadowRoot&&(yl.ShadyCSS===void 0||yl.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s_=Symbol(),j1=new WeakMap,_l=class{constructor(t,e,i){if(this._$cssResult$=!0,i!==s_)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o,e=this.t;if(ym&&t===void 0){let i=e!==void 0&&e.length===1;i&&(t=j1.get(e)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&j1.set(e,t))}return t}toString(){return this.cssText}},B1=r=>new _l(typeof r=="string"?r:r+"",void 0,s_),ue=(r,...t)=>{let e=r.length===1?r[0]:t.reduce((i,n,o)=>i+(u=>{if(u._$cssResult$===!0)return u.cssText;if(typeof u=="number")return u;throw Error("Value passed to 'css' function must be a 'css' function result: "+u+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+r[o+1],r[0]);return new _l(e,r,s_)},a_=(r,t)=>{if(ym)r.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet);else for(let e of t){let i=document.createElement("style"),n=yl.litNonce;n!==void 0&&i.setAttribute("nonce",n),i.textContent=e.cssText,r.appendChild(i)}},_m=ym||yl.CSSStyleSheet===void 0?r=>r:r=>r instanceof CSSStyleSheet?(t=>{let e="";for(let i of t.cssRules)e+=i.cssText;return B1(e)})(r):r});var fte,mte,vte,gte,bte,yte,El,W1,_te,l_,wl,c_,H1,U1,qi,d_=k(()=>{p();$1();u_();u_();({is:fte,defineProperty:mte,getOwnPropertyDescriptor:vte,getOwnPropertyNames:gte,getOwnPropertySymbols:bte,getPrototypeOf:yte}=Object),El=globalThis;El.customElements??=q1;W1=El.trustedTypes,_te=W1?W1.emptyScript:"",l_=El.reactiveElementPolyfillSupport,wl=(r,t)=>r,c_={toAttribute(r,t){switch(t){case Boolean:r=r?_te:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,t){let e=r;switch(t){case Boolean:e=r!==null;break;case Number:e=r===null?null:Number(r);break;case Object:case Array:try{e=JSON.parse(r)}catch{e=null}}return e}},H1=(r,t)=>!fte(r,t),U1={attribute:!0,type:String,converter:c_,reflect:!1,hasChanged:H1};Symbol.metadata??=Symbol("metadata"),El.litPropertyMetadata??=new WeakMap;qi=class extends(globalThis.HTMLElement??D1){static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=U1){if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(t,e),!e.noAccessor){let i=Symbol(),n=this.getPropertyDescriptor(t,i,e);n!==void 0&&mte(this.prototype,t,n)}}static getPropertyDescriptor(t,e,i){let{get:n,set:o}=vte(this.prototype,t)??{get(){return this[e]},set(u){this[e]=u}};return{get(){return n==null?void 0:n.call(this)},set(u){let l=n==null?void 0:n.call(this);o.call(this,u),this.requestUpdate(t,l,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??U1}static _$Ei(){if(this.hasOwnProperty(wl("elementProperties")))return;let t=yte(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(wl("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(wl("properties"))){let e=this.properties,i=[...gte(e),...bte(e)];for(let n of i)this.createProperty(n,e[n])}let t=this[Symbol.metadata];if(t!==null){let e=litPropertyMetadata.get(t);if(e!==void 0)for(let[i,n]of e)this.elementProperties.set(i,n)}this._$Eh=new Map;for(let[e,i]of this.elementProperties){let n=this._$Eu(e,i);n!==void 0&&this._$Eh.set(n,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){let e=[];if(Array.isArray(t)){let i=new Set(t.flat(1/0).reverse());for(let n of i)e.unshift(_m(n))}else t!==void 0&&e.push(_m(t));return e}static _$Eu(t,e){let i=e.attribute;return i===!1?void 0:typeof i=="string"?i:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(e=>e(this))}addController(t){var e;(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&((e=t.hostConnected)==null||e.call(t))}removeController(t){var e;(e=this._$EO)==null||e.delete(t)}_$E_(){let t=new Map,e=this.constructor.elementProperties;for(let i of e.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){let t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return a_(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(e=>{var i;return(i=e.hostConnected)==null?void 0:i.call(e)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(e=>{var i;return(i=e.hostDisconnected)==null?void 0:i.call(e)})}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$EC(t,e){var o;let i=this.constructor.elementProperties.get(t),n=this.constructor._$Eu(t,i);if(n!==void 0&&i.reflect===!0){let u=(((o=i.converter)==null?void 0:o.toAttribute)!==void 0?i.converter:c_).toAttribute(e,i.type);this._$Em=t,u==null?this.removeAttribute(n):this.setAttribute(n,u),this._$Em=null}}_$AK(t,e){var o;let i=this.constructor,n=i._$Eh.get(t);if(n!==void 0&&this._$Em!==n){let u=i.getPropertyOptions(n),l=typeof u.converter=="function"?{fromAttribute:u.converter}:((o=u.converter)==null?void 0:o.fromAttribute)!==void 0?u.converter:c_;this._$Em=n,this[n]=l.fromAttribute(e,u.type),this._$Em=null}}requestUpdate(t,e,i){if(t!==void 0){if(i??=this.constructor.getPropertyOptions(t),!(i.hasChanged??H1)(this[t],e))return;this.P(t,e,i)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,e,i){this._$AL.has(t)||this._$AL.set(t,e),i.reflect===!0&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}let t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var i;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(let[o,u]of this._$Ep)this[o]=u;this._$Ep=void 0}let n=this.constructor.elementProperties;if(n.size>0)for(let[o,u]of n)u.wrapped!==!0||this._$AL.has(o)||this[o]===void 0||this.P(o,this[o],u)}let t=!1,e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),(i=this._$EO)==null||i.forEach(n=>{var o;return(o=n.hostUpdate)==null?void 0:o.call(n)}),this.update(e)):this._$EU()}catch(n){throw t=!1,this._$EU(),n}t&&this._$AE(e)}willUpdate(t){}_$AE(t){var e;(e=this._$EO)==null||e.forEach(i=>{var n;return(n=i.hostUpdated)==null?void 0:n.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach(e=>this._$EC(e,this[e])),this._$EU()}updated(t){}firstUpdated(t){}};qi.elementStyles=[],qi.shadowRootOptions={mode:"open"},qi[wl("elementProperties")]=new Map,qi[wl("finalized")]=new Map,l_==null||l_({ReactiveElement:qi}),(El.reactiveElementVersions??=[]).push("2.0.4")});var le,z1,p_,V1=k(()=>{p();d_();d_();Mo();Mo();le=class extends qi{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){let t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){let e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=k1(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return Ur}};le._$litElement$=!0,le.finalized=!0,(z1=globalThis.litElementHydrateSupport)==null||z1.call(globalThis,{LitElement:le});p_=globalThis.litElementPolyfillSupport;p_==null||p_({LitElement:le});(globalThis.litElementVersions??=[]).push("4.0.6")});var G1=k(()=>{p();});var me=k(()=>{p();e_();Mo();V1();G1()});var h_,Z1=k(()=>{p();me();h_=ue`
  * {
    --sv-primary: 98, 16, 204;
    --sv-primary-900: 56, 7, 136;
    --sv-primary-200: 193, 161, 234;
    --sv-secondary: 193, 251, 223;
    --sv-gray: 126, 122, 136;
    --sv-success: 12, 185, 71;
    --sv-danger: 229, 65, 30;
    --sv-black: 19, 18, 21;
    --sv-white: 255, 255, 255;
    --sv-gray-100: 250, 250, 252;
    --sv-gray-200: 233, 229, 239;
    --sv-gray-300: 201, 196, 209;
    --sv-gray-400: 174, 169, 184;
    --sv-gray-500: 126, 122, 136;
    --sv-gray-600: 87, 83, 95;
    --sv-gray-700: 57, 54, 62;
    --sv-gray-800: 38, 36, 42;
  }

  .sv-gray-200 {
    color: rgb(var(--sv-gray-200));
  }

  .sv-gray-400 {
    color: rgb(var(--sv-gray-400));
  }

  .sv-gray-500 {
    color: rgb(var(--sv-gray-500));
  }

  .sv-gray-600 {
    color: rgb(var(--sv-gray-600));
  }

  .sv-gray-700 {
    color: rgb(var(--sv-gray-700));
  }
`});var f_,J1=k(()=>{p();me();f_=ue`
  .text {
    font-family: Roboto;
    font-size: 12px;
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }

  .text-bold {
    font-weight: 700;
  }

  .text-big {
    font-size: 14px;
  }

  .text-small {
    font-size: 10px;
  }
`});var m_,K1=k(()=>{p();me();m_=ue`
  .sv-hr {
    width: 100%;
    height: 1px;
    background: rgb(var(--sv-gray-200));
    padding: 0px;
    margin: 0px;
    position: relative;
  }
`});var v_,Y1=k(()=>{p();me();v_=ue`
  .icon-button {
    display: flex;
    justify-content: center;
    align-items: center;
    background: rgba(0, 0, 0, 0);
    border: 0px;
    width: 32px;
    height: 32px;
  }

  .icon-button > superviz-icon {
    display: flex !important;
  }

  .icon-button--xsmall {
    width: 18px;
    height: 18px;
  }

  .icon-button--small {
    width: 24px;
    height: 24px;
  }

  .icon-button--medium {
    width: 32px;
    height: 32px;
  }

  .icon-button--large {
    width: 40px;
    height: 40px;
  }

  .icon-button--clickable {
    cursor: pointer;
    border-radius: 100%;
  }

  .icon-button--clickable:hover:not(.icon-button--no-hover) {
    background: rgb(var(--sv-gray-300));
    transition: 0.25s background-color ease-in;
  }
  
  .icon-button--clickable:focus:not(.icon-button--no-hover) {
    transition: 0.25s background-color ease-in;
    background: rgb(var(--sv-gray-300));
  }
`});var X1=k(()=>{p();Z1();J1();K1();Y1()});var Se,ct=k(()=>{p();wo();kr();X1();Se=r=>{class t extends r{constructor(){super(...arguments);this.unsubscribeFrom=[];this.useStore=ot.bind(this)}connectedCallback(){setTimeout(()=>{var l,c;let n=document.getElementById("superviz-style"),o=this.createCustomColors(),u=document.createElement("style");u.innerHTML=(n==null?void 0:n.innerHTML)||"",(l=this.shadowRoot)==null||l.appendChild(u),o&&((c=this.shadowRoot)==null||c.appendChild(o))}),super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribeFrom.forEach(n=>n(this))}createCustomColors(){if(!ee.get("colors"))return;let n=document.createElement("style"),o=Object.entries(ee.get("colors")).map(([u,l])=>`--${u}: ${l} !important;`).join(" ");return n.innerHTML=`
      * {
        ${o}
      }
    `,n}emitEvent(n,o,u={composed:!0,bubbles:!0}){let l=new CustomEvent(n,{detail:o,...u});this.dispatchEvent(l)}}return t.styles=[h_,f_,m_,v_,r.styles??[]],t}});var g_,Q1=k(()=>{p();g_=(o=>(o[o.xs=14]="xs",o[o.sm=18]="sm",o[o.md=24]="md",o[o.lg=36]="lg",o[o.xl=44]="xl",o))(g_||{})});var eM,tM=k(()=>{p();eM=r=>(t,e)=>{e!==void 0?e.addInitializer(()=>{customElements.define(r,t)}):customElements.define(r,t)}});var b_=k(()=>{p();e_();});var rM=k(()=>{p();b_();});var iM=k(()=>{p();});var Sa=k(()=>{p();});var nM=k(()=>{p();Sa();});var oM=k(()=>{p();Sa();});var sM=k(()=>{p();Sa();});var aM=k(()=>{p();Sa();});var uM=k(()=>{p();Sa();});var lM=k(()=>{p();tM();b_();rM();iM();nM();oM();sM();aM();uM()});function _e(r){return function(t){let e=!!customElements.get(r);typeof window>"u"||typeof HTMLElement>"u"||e||eM(r)(t)}}var st=k(()=>{p();lM()});var dM={};pt(dM,{Icon:()=>Io});var cM,wte,Io,pM=k(()=>{p();me();ct();Q1();st();cM=Se(le),wte=[cM.styles],Io=class extends cM{constructor(){super(),this.name="",this.size="md"}get iconSize(){return g_[this.size]}render(){return this.color||="black",j`
      <i
        class="sv-icon sv-icon-${this.name}_${this.suffix??this.size} ${this.color}"
        style="font-size: ${this.iconSize}px"
      ></i>
    `}};Io.properties={name:{type:String},size:{type:String},color:{type:String},suffix:{type:String}},Io.styles=[wte,ue`
      div {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: black;
        color: white;
      }

      i,
      i.black {
        color: rgba(var(--sv-gray-600));
      }

      i.white {
        color: white;
      }
    `],Io=ge([_e("superviz-icon")],Io)});var Em,Sm,Oa,y_=k(()=>{p();Em={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Sm=r=>(...t)=>({_$litDirective$:r,values:t}),Oa=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}});var pe,hM=k(()=>{p();Mo();y_();pe=Sm(class extends Oa{constructor(r){var t;if(super(r),r.type!==Em.ATTRIBUTE||r.name!=="class"||((t=r.strings)==null?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(r){return" "+Object.keys(r).filter(t=>r[t]).join(" ")+" "}update(r,[t]){var i,n;if(this.st===void 0){this.st=new Set,r.strings!==void 0&&(this.nt=new Set(r.strings.join(" ").split(/\s/).filter(o=>o!=="")));for(let o in t)t[o]&&!((i=this.nt)!=null&&i.has(o))&&this.st.add(o);return this.render(t)}let e=r.element.classList;for(let o of this.st)o in t||(e.remove(o),this.st.delete(o));for(let o in t){let u=!!t[o];u===this.st.has(o)||(n=this.nt)!=null&&n.has(o)||(u?(e.add(o),this.st.add(o)):(e.remove(o),this.st.delete(o)))}return Ur}})});var ar=k(()=>{p();hM()});function He(r){let t=document.getElementById(`superviz-${r}-styles`);if(!t)return;let e=new CSSStyleSheet;e.replaceSync(t.textContent),this.shadowRoot.adoptedStyleSheets=[...this.shadowRoot.adoptedStyleSheets,e]}var jt=k(()=>{p()});var fM,mM=k(()=>{p();me();fM=ue`
  .dropdown {
    position: relative;
    z-index: 100;
  }

  .dropdown-content {
    display: flex;
  }

  .select-clicked {
    border: 2px #26489a solid;
  }

  .dropdown-list {
    position: relative;
    z-index: 101;
  }

  .header {
    display: grid;
    grid-template-rows: 1fr 1px;
    align-items: center;
    padding: 0 10px;
    min-height: 42px;
    font-size: 16px;
    color: rgb(var(--sv-gray-600));
  }

  .menu {
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    opacity: 0;
    display: none;
    background: #fff;
    padding: 0;
    z-index: 1;
    transition: 0.2s;
    border-radius: 3px;
  }

  .items {
    list-style: none;
    padding: 0;
    color: #9fa5b5;
    margin: 0;
  }

  .text.username {
    font-size: 14px;
    text-align: left;

    display: inline-block;
    vertical-align: middle;
    line-height: normal;
    padding: 8px 0;
  }

  .items li {
    color: rgb(var(--sv-gray-600));
    text-transform: uppercase;
    padding: 0 10px;
    cursor: pointer;
    min-width: 103px;
    min-height: 32px;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 5px;
    height: 42px;
  }

  .sv-icon {
    width: 40px;
    height: 40px;
    background-color: red;
  }

  .active {
    background: rgb(var(--sv-gray-200));
  }

  .items li:hover {
    background: rgb(var(--sv-gray-200));
  }

  .menu-open {
    display: block;
    opacity: 1;
    position: fixed;
  }

  .sv-hr {
    width: 100%;
    height: 1px;
    background: rgb(var(--sv-gray-300));
    padding: 0px;
    margin: 0px;
    justify-self: flex-end;
  }

  .option-label {
    white-space: nowrap;
    line-height: 1;
  }

  .who-is-online__controls__item__icon {
    line-height: 1;
  }

  .who-is-online__controls__item {
    align-items: center;
  }

  @media (max-width: 780px) {
    .menu--top-left,
    .menu--top-center,
    .menu--top-right {
      bottom: 36px;
    }
  }
`});var gM={};pt(gM,{Dropdown:()=>Lo});var vM,Ete,Lo,bM=k(()=>{p();me();ar();ct();jt();mM();st();vM=Se(le),Ete=[vM.styles,fM],Lo=class extends vM{constructor(){super();this.menu=void 0;this.onClickOutDropdown=e=>{if(e.stopPropagation(),!this.open)return;let i=e.composedPath(),n=this.shadowRoot.querySelector(".dropdown-content"),o=this.shadowRoot.querySelector(".dropdown-list"),l=this.shadowRoot.querySelector('slot[name="dropdown"]').assignedElements()[0],c=i.includes(n),h=i.includes(o),m=i.includes(l);c||h||m||this.close()};this.close=()=>{this.open=!1,this.emitEvent("close",{bubbles:!1,composed:!1})};this.callbackSelected=({label:e})=>{this.open=!1,this.emitEvent("selected",{...this.returnData,label:e},{bubbles:!1,composed:!0})};this.adjustPosition=()=>{if(!this.open){cancelAnimationFrame(this.animationFrame);return}this.setHorizontalPosition(),this.setPositionVertical(),this.animationFrame=requestAnimationFrame(this.adjustPosition)};this.tooltip=()=>{if(!this.canShowTooltip)return"";let e=this.lastParticipant?"tooltip-top":"tooltip-bottom";return j` <superviz-tooltip
      tooltipData=${JSON.stringify(this.tooltipData)}
      ?shiftTooltipLeft=${this.shiftTooltipLeft}
      tooltipVerticalPosition=${e}
      classesPrefix="${this.tooltipPrefix}__tooltip"
      parentComponent=${this.parentComponent}
    ></superviz-tooltip>`};this.showTooltip=!1,this.returnData={}}firstUpdated(e){super.firstUpdated(e),this.updateComplete.then(()=>{this.menu=this.shadowRoot.querySelector(".menu"),He.call(this,[this.parentComponent])})}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("click",this.onClickOutDropdown);let e=this.shadowRoot.querySelector(".dropdown");e==null||e.removeEventListener("mouseenter",()=>{this.showTooltip=!0}),e==null||e.removeEventListener("mouseleave",()=>{this.showTooltip=!1})}updated(e){if(e.has("open")){if(this.emitEvent("toggle-dropdown-state",{open:this.open,font:this.name},{bubbles:!1,composed:!1}),this.open){document.addEventListener("click",this.onClickOutDropdown),this.animationFrame=requestAnimationFrame(this.adjustPosition);return}document.removeEventListener("click",this.onClickOutDropdown)}}setHorizontalPosition(){let e=this.shadowRoot.querySelector('slot[name="dropdown"]'),{left:i,right:n,width:o}=e.parentElement.getBoundingClientRect(),{width:u}=this.menu.getBoundingClientRect(),l=i-(u-o)/2<0,c=n+(u-o)/2>window.innerWidth;if(this.shiftTooltipLeft){this.menu.style.left=`${i+8}px`,this.menu.style.right="",this.menu.style.transform="translate(0, 0)";return}if(!l&&!c){this.menu.style.left=`${i}px`,this.menu.style.right="",this.menu.style.transform=`translate(calc(-50% + ${o/2}px), 0)`;return}if(!l){this.menu.style.left="",this.menu.style.right=`${window.innerWidth-n}px`,this.menu.style.transform="translate(0, 0)";return}c||(this.menu.style.right="",this.menu.style.left=`${n-o}px`,this.menu.style.transform="translate(0, 0)")}setPositionVertical(){let e=this.shadowRoot.querySelector('slot[name="dropdown"]'),{top:i,bottom:n}=e.parentElement.getBoundingClientRect(),{height:o}=this.menu.getBoundingClientRect(),u=this.shiftTooltipLeft?-2:8;if(!(n+o+u>window.innerHeight)){this.menu.style.bottom="",this.menu.style.top=`${n+u}px`;return}this.menu.style.top="auto",this.menu.style.bottom=`${window.innerHeight-i+u}px`}get renderHeader(){return this.name?j` <div class="header ${this.getClass("header")}">
      <span class="text username ${this.getClass("title")}">${this.name}</span>
      <span class="sv-hr ${this.getClass("divisor")}"></span>
    </div>`:j``}toggle(){this.disabled||(this.open=!this.open,this.emitEvent("open",{open:this.open}))}getIcon(e){if(e)return j`
      <span class=${this.getClass("item__icon")}>
        <superviz-icon name="${e}" size="sm"></superviz-icon>
      </span>
    `}getLabel(e){return j`<span class="option-label ${this.getClass("item__label")}">${e}</span>`}get listOptions(){return this.options.map(({label:e,icon:i,active:n})=>{let o={text:!0,[this.getClass("item")]:!0,"text-bold":!0,active:n};return j`<li @click=${()=>this.callbackSelected({label:e})} class=${pe(o)}>
        ${this.getIcon(i)} ${this.getLabel(e)}
      </li>`})}getClass(e){return`${this.classesPrefix}__${e}`}render(){let e={menu:!0,"menu-open":this.open,"menu-left":this.align==="left","menu-right":this.align==="right","who-is-online-dropdown":this.name};return j`
      <div class="dropdown">
        <div class="dropdown-content" @click=${this.toggle}>
          <slot name="dropdown"></slot>
        </div>
        ${this.tooltip()}
      </div>
      <div class="dropdown-list">
        <div class=${pe(e)}>
          ${this.renderHeader}
          <ul class="${this.getClass("items")} items">
            ${this.listOptions}
          </ul>
        </div>
      </div>
    `}};Lo.styles=Ete,Lo.properties={open:{type:Boolean},disabled:{type:Boolean},align:{type:String},options:{type:Array},icons:{type:Array},name:{type:String},tooltipData:{type:Object},showTooltip:{type:Boolean},dropdown:{type:Object},canShowTooltip:{type:Boolean},drodpdownSizes:{type:Object},shiftTooltipLeft:{type:Boolean},lastParticipant:{type:Boolean},classesPrefix:{type:String},parentComponent:{type:String},tooltipPrefix:{type:String},returnData:{type:Object}},Lo=ge([_e("superviz-dropdown")],Lo)});var yM,_M=k(()=>{p();me();yM=ue`
  .superviz-who-is-online__tooltip {
    --host-height: 0px;
    --host-width: 0px;
    --vertical-offset: 12px;

    background-color: rgb(var(--sv-gray-600));
    padding: 10px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    align-items: center;
    position: fixed;
    opacity: 0;
    border-radius: 2px;
    cursor: default;
    visibility: hidden;
    transition: opacity 0.2s ease-in-out display 0s;
    z-index: 100;
    overflow-x: clip;
  }

  .superviz-who-is-online__tooltip-arrow {
    width: 13px;
    height: 13px;
    position: absolute;
    background-color: rgb(var(--sv-gray-600));
    transform: rotate(45deg);
    border-top-left-radius: 1px;
    border-bottom-right-radius: 1px;
  }

  .show-tooltip {
    opacity: 1;
    visibility: visible;
  }

  .tooltip-name,
  .tooltip-action {
    margin: 0;
    font-family: roboto;
    white-space: nowrap;
    text-align: center;
    line-height: 1.2;
  }

  .tooltip-name {
    color: white;
    font-size: 14px;
  }

  .tooltip-action {
    color: rgb(var(--sv-gray-400));
    font-size: 12px;
  }

  .tooltip-top {
    bottom: calc(var(--host-height) + var(--vertical-offset));
  }

  .tooltip-bottom {
    bottom: auto;
  }

  .tooltip-center {
    right: auto;
  }

  .tooltip-bottom .superviz-who-is-online__tooltip-arrow {
    top: -6.5px;
  }

  .tooltip-top .superviz-who-is-online__tooltip-arrow {
    bottom: -6.5px;
  }

  .tooltip-center .superviz-who-is-online__tooltip-arrow {
    left: 0;
    margin-left: 50%;
    translate: -50% 0;
  }

  .tooltip-left .superviz-who-is-online__tooltip-arrow {
    translate: 50% 0;
    border-radius: 0;
    right: 0;
  }

  .tooltip-right .superviz-who-is-online__tooltip-arrow {
    translate: -50% 0;
    border-radius: 0;
    left: 0;
  }

  .shift-left {
    --vertical-offset: 2px;
  }
`});var wM=k(()=>{p()});var SM={};pt(SM,{Tooltip:()=>Ro});var EM,Ste,Ro,OM=k(()=>{p();me();ar();ct();jt();_M();wM();st();EM=Se(le),Ste=[EM.styles,yM],Ro=class extends EM{constructor(){super();this.positionFixedTooltip=()=>{var x,R,L,W,Y;if(!this.canAnimate||!this.parentElement){this.hide();return}this.adjustTooltipPosition();let{bottom:e,left:i,width:n,right:o,top:u}=this.parentElement.getBoundingClientRect(),{width:l}=this.tooltip.getBoundingClientRect(),c="auto",h="auto",m="auto",b="auto",y="",w=window.innerWidth>780,O=w?14:12;this.tooltipHorizontalPosition.includes("right")&&(m=`${i+n/2}px`),this.tooltipHorizontalPosition.includes("left")&&(b=`${window.innerWidth-(o-n/2)}px`),this.tooltipHorizontalPosition.includes("center")&&(m=`${i}px`,y=`translateX(-${(l-n)/2}px)`),this.tooltipVerticalPosition.includes("bottom")&&(c=`${e+O}px`,O=-10),this.tooltipVerticalPosition.includes("top")&&(h=`${window.innerHeight-(u-O)}px`,O=10),this.shiftTooltipLeft&&(y=`translate(-${(l-(w?18:10)-42)/2}px, ${O}px)`),(x=this.tooltip)==null||x.style.setProperty("top",c),(R=this.tooltip)==null||R.style.setProperty("left",m),(L=this.tooltip)==null||L.style.setProperty("right",b),(W=this.tooltip)==null||W.style.setProperty("bottom",h),(Y=this.tooltip)==null||Y.style.setProperty("transform",y),this.animationFrame=window.requestAnimationFrame(this.positionFixedTooltip)};this.hide=()=>{this.canAnimate=!1,this.showTooltip=!1,window.cancelAnimationFrame(this.animationFrame)};this.show=()=>{this.canAnimate=!0,this.showTooltip=!0,this.positionFixedTooltip()};this.adjustTooltipVerticalPosition=()=>{let{bottom:e,top:i,width:n}=this.tooltip.getBoundingClientRect(),o=window.innerHeight;if(this.tooltipVerticalPosition.includes("top")&&i<0){this.tooltipVerticalPosition=this.tooltipVerticalPosition.replace("top","bottom");return}this.tooltipVerticalPosition.includes("bottom")&&e>o&&(this.tooltipVerticalPosition=this.tooltipVerticalPosition.replace("bottom","top"))};this.adjustTooltipHorizontalPosition=()=>{let{left:e,right:i,width:n}=this.tooltip.getBoundingClientRect(),o=window.innerWidth,{left:u,width:l,right:c}=this.parentElement.getBoundingClientRect(),h=u+l/2-n/2>0,m=n/2+c-l/2<o;if(h&&m){this.tooltipHorizontalPosition=this.tooltipHorizontalPosition.replace(/left|right/,"center");return}if(e<0){this.tooltipHorizontalPosition=this.tooltipHorizontalPosition.replace("center","right");return}i>o&&(this.tooltipHorizontalPosition=this.tooltipHorizontalPosition.replace("center","left"))};this.adjustTooltipPosition=()=>{if(!this.parentElement){this.hide();return}this.tooltip||(this.tooltip=this.shadowRoot.querySelector(".superviz-who-is-online__tooltip")),this.adjustTooltipVerticalPosition(),this.adjustTooltipHorizontalPosition()};this.tooltipVerticalPosition="tooltip-bottom",this.tooltipHorizontalPosition="tooltip-center",this.showTooltip=!1,this.parentSizes={height:0,width:0}}firstUpdated(e){let{parentElement:i}=this;i==null||i.addEventListener("mouseenter",this.show),i==null||i.addEventListener("mouseleave",this.hide),this.adjustTooltipPosition(),He.call(this,this.parentComponent)}disconnectedCallback(){super.disconnectedCallback();let{parentElement:e}=this;e==null||e.removeEventListener("mouseenter",this.show),e==null||e.removeEventListener("mouseleave",this.hide)}updated(e){if(e.has("showTooltip")&&this.showTooltip){let{parentElement:i}=this;if(!i)return;let{height:n,width:o}=i.getBoundingClientRect();(this.parentSizes.height!==n||this.parentSizes.width!==o)&&(this.parentSizes={height:n,width:o})}}getClass(e){return e?`${this.classesPrefix}__${e}`:this.classesPrefix}renderTooltip(){var o,u,l,c,h;let e=this.tooltipVerticalPosition,i=this.tooltipHorizontalPosition,n={"superviz-who-is-online__tooltip":!0,[this.getClass("")]:!0,[e]:!0,[i]:!0,"tooltip-extras":this.tooltipOnLeft,"show-tooltip":this.showTooltip,"shift-left":this.shiftTooltipLeft};return j`<div
      class=${pe(n)}
      style="--host-height: ${(o=this.parentSizes)==null?void 0:o.height}px; --host-width: ${(u=this.parentSizes)==null?void 0:u.width}px;"
    >
      <p class="tooltip-name ${this.getClass("title")}">${(l=this.tooltipData)==null?void 0:l.name}</p>
      ${(c=this.tooltipData)!=null&&c.info?j`<p class="tooltip-action ${this.getClass("action")}">${(h=this.tooltipData)==null?void 0:h.info}</p>`:""}
      <div class="superviz-who-is-online__tooltip-arrow ${this.getClass("")}"></div>
    </div>`}render(){return j`${this.renderTooltip()}`}};Ro.styles=Ste,Ro.properties={tooltipData:{type:Object},tooltipOnLeft:{type:Boolean},showTooltip:{type:Boolean},tooltip:{type:Object},tooltipVerticalPosition:{type:String},tooltipHorizontalPosition:{type:String},parentSizes:{type:Object},shiftTooltipLeft:{type:Boolean},classesPrefix:{type:String},parentComponent:{type:String}},Ro=ge([_e("superviz-tooltip")],Ro)});var Om,__=k(()=>{p();me();Om=ue`
  .modal--overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(var(--sv-gray-400), 0.8);

    z-index: 999;
  }

  .modal--container {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: transparent;

    z-index: 1000;
  }

  .modal--container > .modal {
    background: #fff;
    min-width: 370px;
    min-height: 150px;
    border-radius: 6px;
  }

  .modal--container > .modal > .modal--header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 16px;
    background: rgb(var(--sv-gray-200));
    border-radius: 6px 6px 0 0;
  }

  .modal--container > .modal > .modal--header > .text {
    display: flex;
    align-items: center;
  }

  .modal--container > .modal > .modal--header > .close {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    color: rgb(var(--sv-gray-600));
    cursor: pointer;
  }

  .modal--container > .modal > .modal--body {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px 24px 0 24px;
  }

  .modal--container > .modal > .modal--body > .modal--body-content {
    padding: 8px 0;
    text-align: center;
  }

  .modal--container > .modal > .modal--footer {
    padding: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 24px;
    padding: 24px;
  }

  .btn {
    width: 150px;
    height: 40px;
    text-transform: uppercase;
  }

  .btn--confirm {
    background: rgb(var(--sv-primary));
    border-radius: 4px;
    border: 1px solid rgb(var(--sv-primary));
    color: #fff;
    cursor: pointer;
  }

  .btn--cancel {
    background: transparent;
    border-radius: 4px;
    border: 1px solid rgb(var(--sv-gray-400));
    color: rgb(var(--sv-gray-400));
    cursor: pointer;
  }
`});var TM,Ote,ko,PM=k(()=>{p();me();ct();__();st();TM=Se(le),Ote=[TM.styles,Om],ko=class extends TM{constructor(){super(...arguments);this.getContainer=()=>window.document.querySelector("superviz-modal-container");this.createContainer=e=>{this.modal=document.createElement("superviz-modal-container"),this.modal.setOptions(e)};this.createModal=({detail:e})=>{this.createContainer(e),window.document.body.appendChild(this.modal)};this.destroyModal=()=>{var e;this.modal=void 0,(e=this.getContainer())==null||e.remove()}}firstUpdated(){window.document.body.addEventListener("superviz-modal--open",this.createModal),window.document.body.addEventListener("superviz-modal--close",this.destroyModal)}disconnectedCallback(){this.destroyModal(),window.document.body.removeEventListener("superviz-modal--open",this.createModal),window.document.body.removeEventListener("superviz-modal--close",this.destroyModal)}};ko.styles=Ote,ko=ge([_e("superviz-modal")],ko)});var AM,Tte,No,xM=k(()=>{p();me();ct();__();st();AM=Se(le),Tte=[AM.styles,Om],No=class extends AM{constructor(){super(...arguments);this.closeModal=()=>{window.document.body.dispatchEvent(new CustomEvent("superviz-modal--close",{bubbles:!0,composed:!0}))};this.confirmModal=()=>{window.document.body.dispatchEvent(new CustomEvent("superviz-modal--confirm",{bubbles:!0,composed:!0}))}}setOptions(e){this.options=e}render(){let e=()=>j`
        <div class="modal--header">
          <span class="text text-bold sv-gray-600">${this.options.title}</span>
          <div class="close" @click=${this.closeModal}>
            <superviz-icon name="close" size="md"></superviz-icon>
          </div>
        </div>
      `,i=()=>j`
        <div class="modal--body">
          <div class="modal--body-content">${this.options.body}</div>
        </div>
      `,n=()=>{if(this.options.footer)return j` <div class="modal--footer">${this.options.footer}</div> `;let o=this.options.confirmLabel||"OK",u=this.options.cancelLabel||"Cancel";return this.options.confirm&&this.options.cancel?j`
          <div class="modal--footer">
            <button class="text text-bold btn btn--cancel" @click=${this.closeModal}>
              ${u}
            </button>
            <button class="text text-bold btn btn--confirm" @click=${this.confirmModal}>
              ${o}
            </button>
          </div>
        `:j`
        <div class="modal--footer">
          <button class="text text-bold btn btn--confirm" @click=${this.confirmModal}>
            ${o}
          </button>
        </div>
      `};return j`
      <div class="modal--overlay"></div>
      <div class="modal--container">
        <div class="modal">${e()} ${i()} ${n()}</div>
      </div>
    `}};No.styles=Tte,No=ge([_e("superviz-modal-container")],No)});var CM={};pt(CM,{Modal:()=>ko,ModalContainer:()=>No});var MM=k(()=>{p();PM();xM()});var Sl,w_,E_=k(()=>{p();Sl=(e=>(e.LEFT="left",e.RIGHT="right",e))(Sl||{}),w_=(n=>(n.TOP_LEFT="top-left",n.TOP_RIGHT="top-right",n.BOTTOM_LEFT="bottom-left",n.BOTTOM_RIGHT="bottom-right",n))(w_||{})});var Fo,Hr=k(()=>{p();Fo=(e=>(e.ADD="add",e.SHOW="show",e))(Fo||{})});var S_,IM=k(()=>{p();me();S_=ue`
  .superviz-comments {
    --offset-left: 10px;
    --offset-right: 10px;
    --offset-top: 10px;
    --offset-bottom: 10px;

    display: flex;
    flex-direction: column;
    width: 320px;
    position: fixed;
    color: rgb(var(--sv-gray-700));
    background: rgb(var(--sv-white));
    top: 0px;
    bottom: 0;
    box-shadow: -2px 0 4px 0 rgba(0, 0, 0, 0.1);
    z-index: 100;
    overflow: hidden;
    transition: right 0.3s ease-out;
  }

  .header {
    width: 100%;
  }

  .content {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
  }

  .toggle {
    display: flex;
    position: fixed;
    width: 100px;
    color: rgb(var(--sv-gray-700));
    background: rgb(var(--sv-white));
    top: 0;
    right: 0;
    bottom: 0;
  }

  .threads-on-left-side {
    left: var(--offset-left);
    top: var(--offset-top);
    bottom: var(--offset-bottom);
    border-radius: 8px;
  }

  .threads-on-right-side {
    right: var(--offset-right);
    top: var(--offset-top);
    bottom: var(--offset-bottom);
    border-radius: 8px;
  }

  #superviz-comments.threads-on-right-side.hide-at-right {
    right: -330px;
  }

  #superviz-comments.threads-on-left-side.hide-at-left {
    left: -330px;
  }

  .hide-at-right,
  .hide-at-left {
    animation: keep-opacity 0.3s ease-out;
    opacity: 0;
    visibility: hidden;
  }

  @keyframes keep-opacity {
    0%,
    99% {
      visibility: visible;
      opacity: 1;
    }

    100% {
      visibility: hidden;
      opacity: 0;
    }
  }
`});var O_,LM=k(()=>{p();me();O_=ue`
  .comments__topbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: rgb(var(--sv-gray-200));
    height: 50px;
  }

  .comments__topbar__title {
    margin: 0 16px;
    color: rgb(var(--sv-gray-600));
  }

  .comments__topbar__close-threads {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: 0.15s;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    box-sizing: border-box;
    margin-right: 8px;
    padding-right: 2px;
  }

  .comments__topbar__close-threads:hover {
    background: rgb(var(--sv-gray-300));
  }
`});var T_,RM=k(()=>{p();me();T_=ue`
  .reply {
    padding-left: 24px !important;
  }

  .comments__comment-item {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    padding: 8px;
    gap: 4px;
  }

  .comments__comment-item__header {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    width: 100%;
    align-items: center;
    color: rgb(var(--sv-gray-500));
  }

  .comments__comment-item__actions {
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .comments__comment-item__actions superviz-dropdown,
  .comments__comment-item__icons {
    width: 25px;
    height: 25px;
    border-radius: 50%;
  }

  .comments__comment-item__metadata {
    display: flex;
    width: 100%;
    gap: 8px;
    align-items: center;
  }

  .comments__comment-item__avatar-container {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    overflow: hidden;
    background-color: rgb(var(--sv-gray-300));
    border: 1px solid rgb(var(--sv-gray-500));
    color: #fff;

    display: flex;
    align-items: center;
    justify-content: center;
  }

  .comments__comment-item__avatar-image {
    width: 100%;
    height: 100%;
    object-fit: contain;
    border-radius: 50%;
  }

  .comments__comment-item__content {
    width: 100%;
    word-wrap: break-word;
  }

  .line-clamp {
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .comments__comment-item__content__body {
    color: rgb(var(--sv-gray-700));
    position: relative;
    display: grid;
    grid-template-rows: 0px auto;
  }

  .comments__comment-item__content__body.editing-annotation {
    grid-template-rows: auto 0px;
  }

  .hidden {
    display: none;
  }

  .mentioned {
    display: inline-block;
  }

  .annotation-content {
    transition: opacity 0ms;
    opacity: 1;
    overflow: hidden;
  }

  .editing {
    transition: opacity 400ms;
    overflow: hidden;
    opacity: 0;
    pointer-events: none;
  }

  .comments__input--editable {
    transform: translateY(0);
    opacity: 1;
    overflow: hidden;
  }

  .hide-edit-input {
    transition: opacity 500ms, transform 0 linear 300ms;
    opacity: 0;
    pointer-events: none;
    width: 100%;
  }
`});var P_,kM=k(()=>{p();me();P_=ue`
  .comments {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 288px;
  }

  .hidden {
    display: none;
  }
`});var A_,NM=k(()=>{p();me();A_=ue`
  .comments__input {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    background: rgb(var(--sv-white));
    border-radius: 4px;
    border: 1px solid rgb(var(--sv-gray-300));
    position: relative;
    min-height: 40px;
    box-sizing: border-box;
  }

  .comments__input:focus-within {
    border: 1px solid rgb(var(--sv-gray-500));
  }

  .comments__input__textarea {
    border: 0px;
    text-align: left;
    border-radius: 4px;
    outline: none;
    font-size: 14px;
    color: rgb(var(--sv-gray-700));
    font-family: Roboto;
    white-space: pre-wrap;
    word-wrap: break-word;
    resize: none;
    line-height: 1.15rem;
    max-height: 5rem;
    appearance: none;
    height: 40px;
    width: 100%;
    box-sizing: border-box;

    padding-top: 7px;
    border-top: 8px solid transparent;
    border-bottom: 8px solid transparent;
    border-right: 11px solid transparent;
    border-left: 11px solid transparent;
  }

  .fixed-width {
    width: 288px;
  }

  .comments__input__textarea:invalid {
    border-top: 15px solid transparent;
  }

  .comments__input__textarea::placeholder {
    color: rgb(var(--sv-gray-400));
    font-size: 14px;
    line-height: 14px;
  }

  .comments__input__options {
    display: flex;
    justify-content: space-between;
    box-sizing: border-box;
    overflow: hidden;
    height: 0;
    transition: 0.25s;
    border-radius: 0 0 4px 4px;
  }

  .active-textarea {
    height: 40px;
    padding: 4px 8px;
  }

  .sv-hr {
    border: none;
    width: 100%;
    opacity: 0;
    transition: 0.25s opacity linear, 0.25s visibility;
    visibility: hidden;
    height: 0;
    position: absolute;
  }

  .comments__input__divisor {
    border-top: 1px solid rgb(var(--sv-gray-300));
    opacity: 1;
    position: relative;
    visibility: visible;
  }

  .comment-actions {
    position: absolute;
    left: 8px;
    bottom: 3px;
    opacity: 0;
    transition: 0.25s opacity linear, 0.25s visibility;
    visibility: hidden;
  }

  .active-textarea > .comment-actions {
    opacity: 1;
    visibility: visible;
  }

  .mention:hover {
    background-color: rgb(var(--sv-gray-200));
  }

  .comments__input__button {
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 100%;
    width: 32px;
    height: 32px;
    border: 0px;
  }

  .comments__input__send-button {
    background: rgb(var(--sv-primary));
    color: rgba(var(--sv-white), 1);
  }

  .align-send-btn > superviz-icon {
    cursor: pointer;
  }

  .comments__input__button:disabled {
    background: rgb(var(--sv-gray-200));
    color: rgb(var(--sv-gray-600));
  }

  .comment-input-options {
    display: flex;
    gap: 4px;
    position: absolute;
    right: 8px;
    bottom: 4px;
  }

  .comments__input__textarea:focus,
  .comments__input__textarea.active-textarea {
    border-radius: 4px 4px 0 0;
  }

  .comments__input__textarea:focus::placeholder {
    color: transparent;
  }
`});var x_,FM=k(()=>{p();me();x_=ue`
  .comments__thread:hover:not(.comments__thread--selected) {
    background-color: rgba(var(--sv-gray-200), 0.3);
  }

  .avatars-comments {
    display: flex;
    position: absolute;
    bottom: 8px;
    padding: 0 8px;
    opacity: 1;
    transition: opacity 0.3s linear;
  }

  .avatars-comments.invisible {
    opacity: 0;
  }

  .avatar-container {
    position: relative;
    display: flex;
    align-items: center;
    width: 100%;
  }

  .avatar {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    overflow: hidden;
    background-color: rgb(var(--sv-gray-300));
    border: 1px solid rgb(var(--sv-gray-500));
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .avatar img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    border-radius: 50%;
  }

  .avatar:not(:first-child) {
    margin-left: -6px;
  }

  .comments__thread--selected div:last-child {
    margin-inline: 8px;
  }

  .comments-container {
    display: flex;
    overflow: hidden;
    flex-direction: column;
  }

  .comments-container-wrapper {
    display: grid;
    grid-template-rows: 0fr;
    opacity: 0;
    overflow: hidden;
    transition: grid-template-rows 0.3s linear, opacity 0.3s linear;
  }

  .comments-container-wrapper.show {
    grid-template-rows: 1fr;
    opacity: 1;
  }

  .comments--expand {
    display: flex;
  }

  .comment-avatar--expand {
    display: block;
  }

  .hidden {
    overflow: hidden;
    opacity: 0;
  }

  .comments__thread {
    grid-row: 1 / span 2;
    padding: 8px;
    position: relative;
    cursor: pointer;
    transition: padding-bottom 0.3s linear, opacity 0.3s linear;
  }

  .extra-space-bottom {
    padding-bottom: 35px;
  }

  .comments__thread--selected {
    background-color: rgba(var(--sv-gray-200), 0.5);
    padding-bottom: 16px;
  }

  .hide-input {
    display: none;
  }

  .wrapper {
    margin-inline: 0;
    display: grid;
    grid-template-rows: 0fr;
    opacity: 0;
    width: 100%;
    transition: grid-template-rows 0.3s linear, opacity 0.3s linear;
  }

  .show-wrapper {
    grid-template-rows: 1fr;
    opacity: 1;
  }

  .comments__complete-annotation {
    position: relative;
    width: 100%;
  }

  .comments__hide-complete-annotation {
    min-height: 0;
    opacity: 0;
    animation: hide-annotation 10s linear;
  }

  @keyframes hide-annotation {
    0%,
    95% {
      min-height: 43px;
      opacity: 1;
    }

    100% {
      opacity: 0;
      min-height: 0;
    }
  }

  .comments__resolved-annotation-message {
    position: absolute;
    width: 100%;
    top: 0;
  }
`});var C_,DM=k(()=>{p();me();C_=ue`
  .comments__annotation-resolved {
    background: rgba(var(--sv-gray-200), 0.5);
    height: 26px;
    padding: 8px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid rgb(var(--sv-gray-200));
  }
`});var M_,qM=k(()=>{p();me();M_=ue`
  .preload {
    animation-duration: 0s !important;
  }

  .comments__annotation-pin,
  .comments__annotation-pin__avatar {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    pointer-events: auto;
    z-index: 10;
    transform-origin: bottom left;
  }

  .comments__annotation-pin:hover {
    transform: scale(1.2);
    animation: growing-spring 0.3s linear;
  }

  .comments__annotation-pin:not(:hover) {
    animation: shrinking-spring 0.3s linear;
  }

  .comments__annotation-pin--add {
    transform: scale(1) !important;
    animation: none !important;
  }

  .comments__annotation-pin {
    position: absolute;

    width: 32px;
    height: 32px;

    background-color: rgb(var(--sv-white));
    border-radius: 50%;
    border-bottom-left-radius: 2px;

    border: 2px solid rgb(var(--sv-white));
    box-shadow: 0px 2px 6px 0px rgba(0, 0, 0, 0.35);
    transition: border-color 0.2s ease-in-out opacity 0.2s ease-in-out;
    padding: 2px;
    box-sizing: border-box;
    cursor: pointer;
  }

  .comments__annotation-pin:hover,
  .comments__annotation-pin:focus,
  .comments__annotation-pin--active {
    border-color: rgb(var(--sv-primary));
  }

  .comments__cursor-pointer,
  .comments__cursor-pointer .comments__annotation-pin__avatar {
    pointer-events: none;
  }

  .comments__annotation-pin__avatar {
    width: 100%;
    height: 100%;

    background-color: rgb(var(--sv-gray-400));
    border-radius: 50%;

    color: rgb(var(--sv-white));
  }

  .comments__annotation-pin__avatar img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: contain;
  }

  .comments__annotation-pin__avatar--add {
    color: rgb(var(--sv-gray-700));
    background-color: rgb(var(--sv-white));
  }

  .floating-input {
    position: absolute;
    top: -2px;
    opacity: 0;
  }

  .left .floating-input {
    right: auto;
    left: 0;
    transform: translateX(calc(-100% - 7px));
    opacity: 1;
  }

  .right .floating-input {
    left: auto;
    right: 0;
    transform: translateX(calc(100% + 7px));
    opacity: 1;
  }

  .comments__annotation-pin-wrapper {
    transform-origin: center;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    position: absolute;
  }

  .comments__annotation-pin-wrapper--new {
    animation: bounce 0.5s linear !important;
  }

  .comments__annotation-pin-wrapper--new .comments__annotation-pin__avatar {
    transform-origin: center;
    animation: avatar-bounce 0.5s linear !important;
  }

  @keyframes avatar-bounce {
    0%,
    40% {
      transform: scale(1);
    }

    48% {
      transform: scale(0.8);
    }

    55%,
    92% {
      transform: scale(1);
    }

    96% {
      transform: scale(0.9);
    }

    100% {
      transform: scale(1);
    }
  }
  @keyframes bounce {
    0% {
      transform: scale(1);
    }

    20% {
      transform: scale(1.3);
    }

    40%,
    55% {
      transform: scale(1);
    }

    75% {
      transform: scale(1.15);
    }

    92%,
    100% {
      transform: scale(1);
    }
  }

  @keyframes growing-spring {
    0% {
      transform: scale(1);
    }

    25% {
      transform: scale(1.3);
    }

    50% {
      transform: scale(1.2);
    }

    75% {
      transform: scale(1.25);
    }

    100% {
      transform: scale(1.2);
    }
  }

  @keyframes shrinking-spring {
    0% {
      transform: scale(1.2);
    }

    33% {
      transform: scale(1);
    }

    66% {
      transform: scale(1.1);
    }

    100% {
      transform: scale(1);
    }
  }
`});var I_,$M=k(()=>{p();me();I_=ue`
  .comments__filter-container {
    display: flex;
    width: 100%;
    justify-content: flex-start;
    align-items: center;
  }

  .comments__filter {
    white-space: nowrap;
    padding: 12px;
    cursor: pointer;
    color: rgb(var(--sv-gray-500));
  }

  .content {
    display: flex;
    justify-content: space-between;
    flex-direction: row;
    align-items: center;
    gap: 6px;
  }

  .comments__filter__toggle-button {
    display: flex;
    flex-direction: row;
    gap: 4px;
  }

  .comments__filter__icon {
    margin-top: -2px;
  }
`});var L_,jM=k(()=>{p();me();L_=ue`
  .comments__floating-button {
    position: fixed;
    border-radius: 50%;
    width: 38px;
    height: 38px;
    display: flex;
    align-items: center;
    gap: 4px;
    border: none;
    background-color: rgba(var(--sv-white));
    box-shadow: 2px 2px 15px 0px rgba(0, 0, 0, 0.2);
    color: rgb(var(--sv-gray-600));
    cursor: pointer;
    overflow: hidden;
    padding-left: 10px;
    z-index: 99;
    transition: width 300ms linear, border-radius 300ms linear;
  }

  .comments__floating-button:hover,
  .comments__floating-button.is-active {
    background-color: rgb(var(--sv-gray-400));
    color: rgba(var(--sv-white));
  }

  .comments-floating-button-hovered {
    transition: width 300ms linear 300ms, border-radius 300ms linear 300ms;
  }

  .comments__floating-button__text {
    text-align: left;
    overflow: hidden;
    position: relative;
    margin: 0;
    line-height: 1;
    right: 0px;
  }

  .not-hovered {
    animation-duration: 0s !important;
    transition-duration: 0s !important;
  }

  .hide-button {
    display: none !important;
  }

  .is-inactive:hover {
    width: 110px;
    border-radius: 30px;
  }

  .is-active:hover {
    width: 92px;
    border-radius: 30px;
    animation: decrease-width 600ms linear;
  }

  .textInactive.cancel {
    position: absolute;
    bottom: -30px;
    animation: drop-cancel-text 600ms linear;
    right: auto;
  }

  .textInactive.comment {
    position: absolute;
    top: 0;
    animation: drop-comment-text 600ms linear;
  }

  .textActive.comment {
    position: absolute;
    top: -30px;
    animation: rise-comment-text 600ms linear;
    right: auto;
  }

  .textActive.cancel {
    position: absolute;
    bottom: 0;
    animation: rise-cancel-text 600ms linear;
  }

  .comments__floating-button .comments__floating-button-text-box {
    width: 0;
  }

  .comments__floating-button.is-inactive:hover .comments__floating-button-text-box {
    width: 61.45px;
  }

  .comments__floating-button.is-active:hover .comments__floating-button-text-box {
    width: 43.0833px;
  }

  .comments__floating-button-text-box {
    position: relative;
    height: 14px;
    overflow-x: clip;
    transition: width 300ms linear;
  }

  .comments__floating-button__icon {
    position: relative;
  }

  .cross {
    position: absolute;
    top: 9px;
    left: 5.3px;
    transform: translateY(-50%);
    transform-origin: center;
    transition: transform 300ms linear 300ms;
  }

  rect {
    fill: rgba(var(--sv-gray-600));
  }

  .comments__floating-button:hover rect,
  .is-active rect {
    fill: rgba(var(--sv-white));
  }

  .cross-bar-1 {
    transform-origin: center;
    transform: rotate(0deg);
  }

  .cross-bar-2 {
    transform-origin: center;
    transform: rotate(90deg);
  }

  .is-active .cross {
    transform: translateY(-50%) rotate(45deg);
  }

  @keyframes rise-cancel-text {
    0%,
    50% {
      opacity: 0;
      bottom: -35px;
    }

    75% {
      opacity: 0;
    }

    100% {
      opacity: 1;
      bottom: 0px;
    }
  }

  @keyframes rise-comment-text {
    0% {
      opacity: 1;
      top: 0px;
    }

    35% {
      opacity: 0;
    }

    50%,
    100% {
      opacity: 0;
      top: -35px;
    }
  }

  @keyframes drop-cancel-text {
    0% {
      opacity: 1;
      bottom: 0px;
    }

    35% {
      opacity: 0;
    }

    50%,
    100% {
      opacity: 0;
      bottom: -30px;
    }
  }

  @keyframes drop-comment-text {
    0%,
    50% {
      opacity: 0;
      top: -30px;
    }

    75% {
      opacity: 0;
    }

    100% {
      opacity: 1;
      top: 0px;
    }
  }
`});var R_,BM=k(()=>{p();me();R_=ue`
.footer {
  bottom: 5px;
  position: absolute;
  right: 5px;
  font-family: Roboto,sans-serif;
  font-size: 10px;
  line-height: 15px;
  letter-spacing: normal;
}

.link {
  text-decoration: none;
  color: rgb(var(--sv-gray-500));
}

.powered-by {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  width: 140px;
  &--vertical {
    justify-content: flex-end;
  }
  &--horizontal {
    justify-content: center;
  }
}
`});var k_,WM=k(()=>{p();me();k_=ue`
  #mention-list {
    position: fixed;
    z-index: 1;
    max-height: 200px;
    overflow-y: auto;
    overflow-x: hidden;
    background-color: white;
    display: none;
    width: 216px;
    text-align: -webkit-center;
    border-radius: 2px;
    box-shadow: 2px 2px 8px 0px rgba(0, 0, 0, 0.3);
    padding-top: 4px;
    padding-bottom: 4px;
    /* Stiling scroll WebKit (Firefox) */
    scrollbar-width: 6px; /* Firefox */
    scrollbar-color: #888; /* Firefox */
    /* Style scroll WebKit (Chrome, Safari, Edge) */
    &::-webkit-scrollbar {
      width: 6px;
    }
    &::-webkit-scrollbar-thumb {
      background-color: #888;
    }
  }

  .mention-item {
    cursor: pointer;
    align-items: center;
    display: flex;
    height: 48px;
    width: 208px;
    margin-left: 4px;
    margin-right: 4px;
  }

  .mention-item:hover {
    background: rgb(var(--sv-gray-200));
  }

  .avatar {
    width: 32px;
    height: 32px;
    object-fit: contain;
    border-radius: 32%;
    margin-right: 14px;
    margin-left: 12px;
  }

  .default-avatar {
    width: 32px;
    height: 32px;
    margin-right: 14px;
    margin-left: 12px;
    border-radius: 50%;
    overflow: hidden;
    background-color: rgb(var(--sv-gray-300));
    border: 1px solid rgb(var(--sv-gray-500));
    color: #fff;

    display: flex;
    align-items: center;
    justify-content: center;
  }

  .avatar-type {
    font-family: Roboto;
    font-size: 14px;
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
    color: rgb(var(--sv-gray-600));
  }
`});var Sr=k(()=>{p();IM();LM();RM();kM();NM();FM();DM();qM();$M();jM();BM();WM()});function F_(r){let t=r.querySelector("#superviz-comments");if(t&&!N_){let e={childList:!0,attributes:!0,characterData:!0,subtree:!0};N_=new MutationObserver(i=>{i.forEach(n=>{n.removedNodes.length&&n.removedNodes.forEach(o=>{o.id==="poweredby-footer"&&Pte(r)})})}),N_.observe(t,e)}}function Pte(r){let t=document.createElement("div");t.id="poweredby-footer",t.className="footer";let e=document.createElement("div");e.className="powered-by powered-by--horizontal";let i=document.createElement("a");i.href="https://superviz.com/",i.target="_blank",i.className="link";let n=document.createElement("div");n.textContent="Powered by";let o=document.createElement("img");o.width=48,o.height=8.86,o.src="https://production.cdn.superviz.com/static/superviz-gray-logo.svg",e.appendChild(i),i.appendChild(n),n.appendChild(o),t.appendChild(e);let u=r.getElementById("superviz-comments");u&&u.appendChild(t),F_(r)}var N_,UM=k(()=>{p()});var zM={};pt(zM,{Comments:()=>Do});var HM,Ate,Do,VM=k(()=>{p();me();ar();E_();ct();jt();Hr();Sr();UM();st();HM=Se(le),Ate=[HM.styles,S_,R_],Do=class extends HM{constructor(){super(),this.annotations=[],this.annotationFilter="All comments",this.waterMarkState=!1,this.participantsList=[],this.side="left"}firstUpdated(t){super.firstUpdated(t),this.updateComplete.then(()=>{He.call(this,["comments"])})}updated(t){super.updated(t),this.updateComplete.then(()=>{this.waterMarkState&&F_(this.shadowRoot),t.has("offset")&&this.applyOffset()})}participantsListed(t){this.participantsList=t}updateAnnotations(t){this.annotations=t}close(){this.emitEvent("close-threads",{})}waterMarkStatus(t){this.waterMarkState=t}setFilter({detail:t}){let{filter:{label:e}}=t;this.annotationFilter=e}getOffset(t){return t==null||t<0?"10px":`${t}px`}applyOffset(){let t=this.shadowRoot.querySelector(".superviz-comments");if(!t)return;let{left:e,right:i,top:n,bottom:o}=this.offset;t.style.setProperty("--offset-top",this.getOffset(n)),t.style.setProperty("--offset-bottom",this.getOffset(o)),t.style.setProperty("--offset-right",this.getOffset(i)),t.style.setProperty("--offset-left",this.getOffset(e))}get poweredBy(){return this.waterMarkState?j` <div id="poweredby-footer" class="footer">
      <div class="powered-by powered-by--horizontal">
        <a href="https://superviz.com/" target="_blank" class="link">
          <div class="">
            Powered by
            <img
              width="48px"
              height="8.86px"
              src="https://production.cdn.superviz.com/static/superviz-gray-logo.svg"
            />
          </div>
        </a>
      </div>
    </div>`:j``}render(){let t={"superviz-comments":!0,"threads-on-left-side":this.side==="left","threads-on-right-side":this.side==="right","hide-at-right":this.side==="right"&&!this.open,"hide-at-left":this.side==="left"&&!this.open};return j`
      <div id="superviz-comments" class=${pe(t)}>
        <div class="header">
          <superviz-comments-topbar
            @close-threads=${this.close}
            side=${this.side.split(":")[0]}
          ></superviz-comments-topbar>
        </div>
        <superviz-comments-annotation-filter
          filter=${this.annotationFilter}
          @select=${this.setFilter}
        >
        </superviz-comments-annotation-filter>
        <superviz-comments-content
          annotations=${JSON.stringify(this.annotations)}
          annotationFilter=${this.annotationFilter}
          participantsList=${JSON.stringify(this.participantsList)}
          class="content"
        ></superviz-comments-content>
        ${this.poweredBy}
      </div>
    `}};Do.styles=Ate,Do.properties={open:{type:Boolean},annotations:{type:Object},annotationFilter:{type:String},waterMarkState:{type:Boolean},side:{type:String},participantsList:{type:Object},offset:{type:Object}},Do=ge([_e("superviz-comments")],Do)});var GM={};pt(GM,{CommentsTopbar:()=>qo});var xte,Cte,qo,ZM=k(()=>{p();me();ct();jt();Sr();st();xte=Se(le),Cte=[xte.styles,O_],qo=class extends Se(le){firstUpdated(t){super.firstUpdated(t),this.updateComplete.then(()=>{He.call(this,["comments"])})}close(){this.dispatchEvent(new CustomEvent("close-threads"))}render(){return j`
      <div class="comments__topbar">
        <span class="text text-bold comments__topbar__title">COMMENTS</span>
        <span @click=${this.close} class="comments__topbar__close-threads">
          <superviz-icon name=${this.side}></superviz-icon>
        </span>
      </div>
    `}};qo.styles=Cte,qo.properties={side:{type:String}},qo=ge([_e("superviz-comments-topbar")],qo)});var Mte,JM,Ta,xn,Ite,KM,YM,Pm,XM=k(()=>{p();Mo();({I:Mte}=R1),JM=()=>document.createComment(""),Ta=(r,t,e)=>{var o;let i=r._$AA.parentNode,n=t===void 0?r._$AB:t._$AA;if(e===void 0){let u=i.insertBefore(JM(),n),l=i.insertBefore(JM(),n);e=new Mte(u,l,r,r.options)}else{let u=e._$AB.nextSibling,l=e._$AM,c=l!==r;if(c){let h;(o=e._$AQ)==null||o.call(e,r),e._$AM=r,e._$AP!==void 0&&(h=r._$AU)!==l._$AU&&e._$AP(h)}if(u!==n||c){let h=e._$AA;for(;h!==u;){let m=h.nextSibling;i.insertBefore(h,n),h=m}}}return e},xn=(r,t,e=r)=>(r._$AI(t,e),r),Ite={},KM=(r,t=Ite)=>r._$AH=t,YM=r=>r._$AH,Pm=r=>{var i;(i=r._$AP)==null||i.call(r,!1,!0);let t=r._$AA,e=r._$AB.nextSibling;for(;t!==e;){let n=t.nextSibling;t.remove(),t=n}}});var QM,Cn,eI=k(()=>{p();Mo();y_();XM();QM=(r,t,e)=>{let i=new Map;for(let n=t;n<=e;n++)i.set(r[n],n);return i},Cn=Sm(class extends Oa{constructor(r){if(super(r),r.type!==Em.CHILD)throw Error("repeat() can only be used in text expressions")}dt(r,t,e){let i;e===void 0?e=t:t!==void 0&&(i=t);let n=[],o=[],u=0;for(let l of r)n[u]=i?i(l,u):u,o[u]=e(l,u),u++;return{values:o,keys:n}}render(r,t,e){return this.dt(r,t,e).values}update(r,[t,e,i]){let n=YM(r),{values:o,keys:u}=this.dt(t,e,i);if(!Array.isArray(n))return this.ut=u,o;let l=this.ut??=[],c=[],h,m,b=0,y=n.length-1,w=0,O=o.length-1;for(;b<=y&&w<=O;)if(n[b]===null)b++;else if(n[y]===null)y--;else if(l[b]===u[w])c[w]=xn(n[b],o[w]),b++,w++;else if(l[y]===u[O])c[O]=xn(n[y],o[O]),y--,O--;else if(l[b]===u[O])c[O]=xn(n[b],o[O]),Ta(r,c[O+1],n[b]),b++,O--;else if(l[y]===u[w])c[w]=xn(n[y],o[w]),Ta(r,n[b],n[y]),y--,w++;else if(h===void 0&&(h=QM(u,w,O),m=QM(l,b,y)),h.has(l[b]))if(h.has(l[y])){let x=m.get(u[w]),R=x!==void 0?n[x]:null;if(R===null){let L=Ta(r,n[b]);xn(L,o[w]),c[w]=L}else c[w]=xn(R,o[w]),Ta(r,n[b],R),n[x]=null;w++}else Pm(n[y]),y--;else Pm(n[b]),b++;for(;w<=O;){let x=Ta(r,c[O+1]);xn(x,o[w]),c[w++]=x}for(;b<=y;){let x=n[b++];x!==null&&Pm(x)}return this.ut=u,KM(r,c),Ur}})});var Ol=k(()=>{p();eI()});var rI={};pt(rI,{CommentsContent:()=>$o});var tI,Lte,$o,iI=k(()=>{p();me();Ol();ct();Sr();Hr();st();tI=Se(le),Lte=[tI.styles,P_],$o=class extends tI{constructor(){super();this.unselectAnnotation=()=>{this.selectedAnnotation=null};this.unselectAnnotationEsc=e=>{e&&(e==null?void 0:e.key)!=="Escape"||(this.selectedAnnotation=null)};this.selectAnnotation=({detail:e})=>{let{uuid:i}=e;if(this.selectedAnnotation===i){this.selectedAnnotation=null;return}this.selectedAnnotation=i};this.checkLastAnnotation=e=>{var o,u;let i=this.annotations.filter(l=>l.resolved),n=this.annotations.filter(l=>!l.resolved);return this.annotationFilter==="All comments"?e===((o=i[i.length-1])==null?void 0:o.uuid):e===((u=n[n.length-1])==null?void 0:u.uuid)};this.annotations=[],this.participantsList=[]}updated(e){super.updated(e),this.updateComplete.then(()=>{let i=this.shadowRoot.querySelector(`[uuid='${this.selectedAnnotation}']`);if(!i)return;let n=this.lastCommentId===this.selectedAnnotation,o=n?0:-150,u=i.getClientRects()[0];u&&(this.scrollBy(0,u.y+o),n&&setTimeout(()=>{this.scrollBy(0,u.y+o)},200))})}connectedCallback(){super.connectedCallback(),window.document.body.addEventListener("select-annotation",this.selectAnnotation),window.document.body.addEventListener("keyup",this.unselectAnnotationEsc),window.document.body.addEventListener("unselect-annotation",this.unselectAnnotation)}disconnectedCallback(){super.disconnectedCallback(),window.document.body.removeEventListener("select-annotation",this.selectAnnotation),window.document.body.removeEventListener("keyup",this.unselectAnnotationEsc),window.document.body.removeEventListener("unselect-annotation",this.unselectAnnotation)}render(){return j` ${Cn(this.annotations.filter(e=>{var i;return(i=e.comments)==null?void 0:i.length}),e=>e.uuid,e=>j`
        <superviz-comments-annotation-item
          annotation=${JSON.stringify(e)}
          selected="${this.selectedAnnotation}"
          annotationFilter=${this.annotationFilter}
          uuid=${e.uuid}
          ?resolved=${e.resolved}
          isLastComment=${this.checkLastAnnotation(e.uuid)}
          participantsList=${JSON.stringify(this.participantsList)}
        >
        </superviz-comments-annotation-item>
      `)}`}};$o.styles=Lte,$o.properties={annotations:{type:Object},selectedAnnotation:{type:String},annotationFilter:{type:String},participantsList:{type:Object}},$o=ge([_e("superviz-comments-content")],$o)});var $i,Am,xm,Cm,zr,Pa,mt,Vr,Mn=k(()=>{p();$i=class extends Error{},Am=class extends $i{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}},xm=class extends $i{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}},Cm=class extends $i{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}},zr=class extends $i{},Pa=class extends $i{constructor(t){super(`Invalid unit ${t}`)}},mt=class extends $i{},Vr=class extends $i{constructor(){super("Zone is an abstract class")}}});var z,Gr,ur,In,Tl,D_,Pl,Al,xl,Cl,Ml,Il,Ll,Rl,kl,Nl,Fl,Dl,ql,$l,q_,jl,Bl,Wl,Ul,Hl=k(()=>{p();z="numeric",Gr="short",ur="long",In={year:z,month:z,day:z},Tl={year:z,month:Gr,day:z},D_={year:z,month:Gr,day:z,weekday:Gr},Pl={year:z,month:ur,day:z},Al={year:z,month:ur,day:z,weekday:ur},xl={hour:z,minute:z},Cl={hour:z,minute:z,second:z},Ml={hour:z,minute:z,second:z,timeZoneName:Gr},Il={hour:z,minute:z,second:z,timeZoneName:ur},Ll={hour:z,minute:z,hourCycle:"h23"},Rl={hour:z,minute:z,second:z,hourCycle:"h23"},kl={hour:z,minute:z,second:z,hourCycle:"h23",timeZoneName:Gr},Nl={hour:z,minute:z,second:z,hourCycle:"h23",timeZoneName:ur},Fl={year:z,month:z,day:z,hour:z,minute:z},Dl={year:z,month:z,day:z,hour:z,minute:z,second:z},ql={year:z,month:Gr,day:z,hour:z,minute:z},$l={year:z,month:Gr,day:z,hour:z,minute:z,second:z},q_={year:z,month:Gr,day:z,weekday:Gr,hour:z,minute:z},jl={year:z,month:ur,day:z,hour:z,minute:z,timeZoneName:Gr},Bl={year:z,month:ur,day:z,hour:z,minute:z,second:z,timeZoneName:Gr},Wl={year:z,month:ur,day:z,weekday:ur,hour:z,minute:z,timeZoneName:ur},Ul={year:z,month:ur,day:z,weekday:ur,hour:z,minute:z,second:z,timeZoneName:ur}});var Xt,jo=k(()=>{p();Mn();Xt=class{get type(){throw new Vr}get name(){throw new Vr}get ianaName(){return this.name}get isUniversal(){throw new Vr}offsetName(t,e){throw new Vr}formatOffset(t,e){throw new Vr}offset(t){throw new Vr}equals(t){throw new Vr}get isValid(){throw new Vr}}});var $_,Ln,Im=k(()=>{p();Bt();jo();$_=null,Ln=class r extends Xt{static get instance(){return $_===null&&($_=new r),$_}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:e,locale:i}){return Lm(t,e,i)}formatOffset(t,e){return Rn(this.offset(t),e)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}});function Rte(r){return km[r]||(km[r]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),km[r]}function Nte(r,t){let e=r.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(e),[,n,o,u,l,c,h,m]=i;return[u,n,o,l,c,h,m]}function Fte(r,t){let e=r.formatToParts(t),i=[];for(let n=0;n<e.length;n++){let{type:o,value:u}=e[n],l=kte[o];o==="era"?i[l]=u:ne(l)||(i[l]=parseInt(u,10))}return i}var km,kte,Rm,Rt,kn=k(()=>{p();Bt();jo();km={};kte={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};Rm={},Rt=class r extends Xt{static create(t){return Rm[t]||(Rm[t]=new r(t)),Rm[t]}static resetCache(){Rm={},km={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=r.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:e,locale:i}){return Lm(t,e,i,this.name)}formatOffset(t,e){return Rn(this.offset(t),e)}offset(t){let e=new Date(t);if(isNaN(e))return NaN;let i=Rte(this.name),[n,o,u,l,c,h,m]=i.formatToParts?Fte(i,e):Nte(i,e);l==="BC"&&(n=-Math.abs(n)+1);let y=Aa({year:n,month:o,day:u,hour:c===24?0:c,minute:h,second:m,millisecond:0}),w=+e,O=w%1e3;return w-=O>=0?O:1e3+O,(y-w)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}});function Dte(r,t={}){let e=JSON.stringify([r,t]),i=nI[e];return i||(i=new Intl.ListFormat(r,t),nI[e]=i),i}function B_(r,t={}){let e=JSON.stringify([r,t]),i=j_[e];return i||(i=new Intl.DateTimeFormat(r,t),j_[e]=i),i}function qte(r,t={}){let e=JSON.stringify([r,t]),i=W_[e];return i||(i=new Intl.NumberFormat(r,t),W_[e]=i),i}function $te(r,t={}){let{base:e,...i}=t,n=JSON.stringify([r,i]),o=U_[n];return o||(o=new Intl.RelativeTimeFormat(r,t),U_[n]=o),o}function jte(){return zl||(zl=new Intl.DateTimeFormat().resolvedOptions().locale,zl)}function Bte(r){let t=oI[r];if(!t){let e=new Intl.Locale(r);t="getWeekInfo"in e?e.getWeekInfo():e.weekInfo,oI[r]=t}return t}function Wte(r){let t=r.indexOf("-x-");t!==-1&&(r=r.substring(0,t));let e=r.indexOf("-u-");if(e===-1)return[r];{let i,n;try{i=B_(r).resolvedOptions(),n=r}catch{let c=r.substring(0,e);i=B_(c).resolvedOptions(),n=c}let{numberingSystem:o,calendar:u}=i;return[n,o,u]}}function Ute(r,t,e){return(e||t)&&(r.includes("-u-")||(r+="-u"),e&&(r+=`-ca-${e}`),t&&(r+=`-nu-${t}`)),r}function Hte(r){let t=[];for(let e=1;e<=12;e++){let i=je.utc(2009,e,1);t.push(r(i))}return t}function zte(r){let t=[];for(let e=1;e<=7;e++){let i=je.utc(2016,11,13+e);t.push(r(i))}return t}function Nm(r,t,e,i){let n=r.listingMode();return n==="error"?null:n==="en"?e(t):i(t)}function Vte(r){return r.numberingSystem&&r.numberingSystem!=="latn"?!1:r.numberingSystem==="latn"||!r.locale||r.locale.startsWith("en")||new Intl.DateTimeFormat(r.intl).resolvedOptions().numberingSystem==="latn"}var nI,j_,W_,U_,zl,oI,H_,z_,V_,Gte,Be,Gl=k(()=>{p();Bt();qm();Nn();Bo();kn();nI={};j_={};W_={};U_={};zl=null;oI={};H_=class{constructor(t,e,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;let{padTo:n,floor:o,...u}=i;if(!e||Object.keys(u).length>0){let l={useGrouping:!1,...i};i.padTo>0&&(l.minimumIntegerDigits=i.padTo),this.inf=qte(t,l)}}format(t){if(this.inf){let e=this.floor?Math.floor(t):t;return this.inf.format(e)}else{let e=this.floor?Math.floor(t):xa(t,3);return tt(e,this.padTo)}}},z_=class{constructor(t,e,i){this.opts=i,this.originalZone=void 0;let n;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){let u=-1*(t.offset/60),l=u>=0?`Etc/GMT+${u}`:`Etc/GMT${u}`;t.offset!==0&&Rt.create(l).valid?(n=l,this.dt=t):(n="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,n=t.zone.name):(n="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);let o={...this.opts};o.timeZone=o.timeZone||n,this.dtf=B_(e,o)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(e=>{if(e.type==="timeZoneName"){let i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:i}}else return e}):t}resolvedOptions(){return this.dtf.resolvedOptions()}},V_=class{constructor(t,e,i){this.opts={style:"long",...i},!e&&Fm()&&(this.rtf=$te(t,i))}format(t,e){return this.rtf?this.rtf.format(t,e):sI(e,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,e){return this.rtf?this.rtf.formatToParts(t,e):[]}},Gte={firstDay:1,minimalDays:4,weekend:[6,7]},Be=class r{static fromOpts(t){return r.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,e,i,n,o=!1){let u=t||De.defaultLocale,l=u||(o?"en-US":jte()),c=e||De.defaultNumberingSystem,h=i||De.defaultOutputCalendar,m=Vl(n)||De.defaultWeekSettings;return new r(l,c,h,m,u)}static resetCache(){zl=null,j_={},W_={},U_={}}static fromObject({locale:t,numberingSystem:e,outputCalendar:i,weekSettings:n}={}){return r.create(t,e,i,n)}constructor(t,e,i,n,o){let[u,l,c]=Wte(t);this.locale=u,this.numberingSystem=e||l||null,this.outputCalendar=i||c||null,this.weekSettings=n,this.intl=Ute(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Vte(this)),this.fastNumbersCached}listingMode(){let t=this.isEnglish(),e=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&e?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:r.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,Vl(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,e=!1){return Nm(this,t,G_,()=>{let i=e?{month:t,day:"numeric"}:{month:t},n=e?"format":"standalone";return this.monthsCache[n][t]||(this.monthsCache[n][t]=Hte(o=>this.extract(o,i,"month"))),this.monthsCache[n][t]})}weekdays(t,e=!1){return Nm(this,t,Z_,()=>{let i=e?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},n=e?"format":"standalone";return this.weekdaysCache[n][t]||(this.weekdaysCache[n][t]=zte(o=>this.extract(o,i,"weekday"))),this.weekdaysCache[n][t]})}meridiems(){return Nm(this,void 0,()=>J_,()=>{if(!this.meridiemCache){let t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[je.utc(2016,11,13,9),je.utc(2016,11,13,19)].map(e=>this.extract(e,t,"dayperiod"))}return this.meridiemCache})}eras(t){return Nm(this,t,K_,()=>{let e={era:t};return this.eraCache[t]||(this.eraCache[t]=[je.utc(-40,1,1),je.utc(2017,1,1)].map(i=>this.extract(i,e,"era"))),this.eraCache[t]})}extract(t,e,i){let n=this.dtFormatter(t,e),o=n.formatToParts(),u=o.find(l=>l.type.toLowerCase()===i);return u?u.value:null}numberFormatter(t={}){return new H_(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,e={}){return new z_(t,this.intl,e)}relFormatter(t={}){return new V_(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Dte(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Dm()?Bte(this.locale):Gte}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}});var X_,St,Ca=k(()=>{p();Bt();jo();X_=null,St=class r extends Xt{static get utcInstance(){return X_===null&&(X_=new r(0)),X_}static instance(t){return t===0?r.utcInstance:new r(t)}static parseSpecifier(t){if(t){let e=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(e)return new r(Wo(e[1],e[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Rn(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Rn(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,e){return Rn(this.fixed,e)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}});var Ma,Q_=k(()=>{p();jo();Ma=class extends Xt{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}});function Zr(r,t){let e;if(ne(r)||r===null)return t;if(r instanceof Xt)return r;if(aI(r)){let i=r.toLowerCase();return i==="default"?t:i==="local"||i==="system"?Ln.instance:i==="utc"||i==="gmt"?St.utcInstance:St.parseSpecifier(i)||Rt.create(r)}else return fi(r)?St.instance(r):typeof r=="object"&&"offset"in r&&typeof r.offset=="function"?r:new Ma(r)}var $m=k(()=>{p();jo();kn();Ca();Q_();Bt();Im()});var uI,lI,cI,dI,pI,hI,fI,mI,De,Nn=k(()=>{p();Im();kn();Gl();$m();Bt();uI=()=>Date.now(),lI="system",cI=null,dI=null,pI=null,hI=60,mI=null,De=class{static get now(){return uI}static set now(t){uI=t}static set defaultZone(t){lI=t}static get defaultZone(){return Zr(lI,Ln.instance)}static get defaultLocale(){return cI}static set defaultLocale(t){cI=t}static get defaultNumberingSystem(){return dI}static set defaultNumberingSystem(t){dI=t}static get defaultOutputCalendar(){return pI}static set defaultOutputCalendar(t){pI=t}static get defaultWeekSettings(){return mI}static set defaultWeekSettings(t){mI=Vl(t)}static get twoDigitCutoffYear(){return hI}static set twoDigitCutoffYear(t){hI=t%100}static get throwOnInvalid(){return fI}static set throwOnInvalid(t){fI=t}static resetCaches(){Be.resetCache(),Rt.resetCache()}}});var Ot,Zl=k(()=>{p();Ot=class{constructor(t,e){this.reason=t,this.explanation=e}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}});function Or(r,t){return new Ot("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${r}, which is invalid`)}function jm(r,t,e){let i=new Date(Date.UTC(r,t-1,e));r<100&&r>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);let n=i.getUTCDay();return n===0?7:n}function bI(r,t,e){return e+(Ho(r)?gI:vI)[t-1]}function yI(r,t){let e=Ho(r)?gI:vI,i=e.findIndex(o=>o<t),n=t-e[i];return{month:i+1,day:n}}function Bm(r,t){return(r-t+7)%7+1}function Jl(r,t=4,e=1){let{year:i,month:n,day:o}=r,u=bI(i,n,o),l=Bm(jm(i,n,o),e),c=Math.floor((u-l+14-t)/7),h;return c<1?(h=i-1,c=Uo(h,t,e)):c>Uo(i,t,e)?(h=i+1,c=1):h=i,{weekYear:h,weekNumber:c,weekday:l,...Yl(r)}}function ew(r,t=4,e=1){let{weekYear:i,weekNumber:n,weekday:o}=r,u=Bm(jm(i,1,t),e),l=Fn(i),c=n*7+o-u-7+t,h;c<1?(h=i-1,c+=Fn(h)):c>l?(h=i+1,c-=Fn(i)):h=i;let{month:m,day:b}=yI(h,c);return{year:h,month:m,day:b,...Yl(r)}}function Wm(r){let{year:t,month:e,day:i}=r,n=bI(t,e,i);return{year:t,ordinal:n,...Yl(r)}}function tw(r){let{year:t,ordinal:e}=r,{month:i,day:n}=yI(t,e);return{year:t,month:i,day:n,...Yl(r)}}function rw(r,t){if(!ne(r.localWeekday)||!ne(r.localWeekNumber)||!ne(r.localWeekYear)){if(!ne(r.weekday)||!ne(r.weekNumber)||!ne(r.weekYear))throw new zr("Cannot mix locale-based week fields with ISO-based week fields");return ne(r.localWeekday)||(r.weekday=r.localWeekday),ne(r.localWeekNumber)||(r.weekNumber=r.localWeekNumber),ne(r.localWeekYear)||(r.weekYear=r.localWeekYear),delete r.localWeekday,delete r.localWeekNumber,delete r.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function _I(r,t=4,e=1){let i=Kl(r.weekYear),n=lr(r.weekNumber,1,Uo(r.weekYear,t,e)),o=lr(r.weekday,1,7);return i?n?o?!1:Or("weekday",r.weekday):Or("week",r.weekNumber):Or("weekYear",r.weekYear)}function wI(r){let t=Kl(r.year),e=lr(r.ordinal,1,Fn(r.year));return t?e?!1:Or("ordinal",r.ordinal):Or("year",r.year)}function iw(r){let t=Kl(r.year),e=lr(r.month,1,12),i=lr(r.day,1,Ia(r.year,r.month));return t?e?i?!1:Or("day",r.day):Or("month",r.month):Or("year",r.year)}function nw(r){let{hour:t,minute:e,second:i,millisecond:n}=r,o=lr(t,0,23)||t===24&&e===0&&i===0&&n===0,u=lr(e,0,59),l=lr(i,0,59),c=lr(n,0,999);return o?u?l?c?!1:Or("millisecond",n):Or("second",i):Or("minute",e):Or("hour",t)}var vI,gI,ow=k(()=>{p();Bt();Zl();Mn();vI=[0,31,59,90,120,151,181,212,243,273,304,334],gI=[0,31,60,91,121,152,182,213,244,274,305,335]});function ne(r){return typeof r>"u"}function fi(r){return typeof r=="number"}function Kl(r){return typeof r=="number"&&r%1===0}function aI(r){return typeof r=="string"}function SI(r){return Object.prototype.toString.call(r)==="[object Date]"}function Fm(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Dm(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function OI(r){return Array.isArray(r)?r:[r]}function sw(r,t,e){if(r.length!==0)return r.reduce((i,n)=>{let o=[t(n),n];return i&&e(i[0],o[0])===i[0]?i:o},null)[1]}function TI(r,t){return t.reduce((e,i)=>(e[i]=r[i],e),{})}function Dn(r,t){return Object.prototype.hasOwnProperty.call(r,t)}function Vl(r){if(r==null)return null;if(typeof r!="object")throw new mt("Week settings must be an object");if(!lr(r.firstDay,1,7)||!lr(r.minimalDays,1,7)||!Array.isArray(r.weekend)||r.weekend.some(t=>!lr(t,1,7)))throw new mt("Invalid week settings");return{firstDay:r.firstDay,minimalDays:r.minimalDays,weekend:Array.from(r.weekend)}}function lr(r,t,e){return Kl(r)&&r>=t&&r<=e}function Zte(r,t){return r-t*Math.floor(r/t)}function tt(r,t=2){let e=r<0,i;return e?i="-"+(""+-r).padStart(t,"0"):i=(""+r).padStart(t,"0"),i}function ji(r){if(!(ne(r)||r===null||r===""))return parseInt(r,10)}function qn(r){if(!(ne(r)||r===null||r===""))return parseFloat(r)}function Xl(r){if(!(ne(r)||r===null||r==="")){let t=parseFloat("0."+r)*1e3;return Math.floor(t)}}function xa(r,t,e=!1){let i=10**t;return(e?Math.trunc:Math.round)(r*i)/i}function Ho(r){return r%4===0&&(r%100!==0||r%400===0)}function Fn(r){return Ho(r)?366:365}function Ia(r,t){let e=Zte(t-1,12)+1,i=r+(t-e)/12;return e===2?Ho(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][e-1]}function Aa(r){let t=Date.UTC(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond);return r.year<100&&r.year>=0&&(t=new Date(t),t.setUTCFullYear(r.year,r.month-1,r.day)),+t}function EI(r,t,e){return-Bm(jm(r,1,t),e)+t-1}function Uo(r,t=4,e=1){let i=EI(r,t,e),n=EI(r+1,t,e);return(Fn(r)-i+n)/7}function Ql(r){return r>99?r:r>De.twoDigitCutoffYear?1900+r:2e3+r}function Lm(r,t,e,i=null){let n=new Date(r),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(o.timeZone=i);let u={timeZoneName:t,...o},l=new Intl.DateTimeFormat(e,u).formatToParts(n).find(c=>c.type.toLowerCase()==="timezonename");return l?l.value:null}function Wo(r,t){let e=parseInt(r,10);Number.isNaN(e)&&(e=0);let i=parseInt(t,10)||0,n=e<0||Object.is(e,-0)?-i:i;return e*60+n}function aw(r){let t=Number(r);if(typeof r=="boolean"||r===""||Number.isNaN(t))throw new mt(`Invalid unit value ${r}`);return t}function La(r,t){let e={};for(let i in r)if(Dn(r,i)){let n=r[i];if(n==null)continue;e[t(i)]=aw(n)}return e}function Rn(r,t){let e=Math.trunc(Math.abs(r/60)),i=Math.trunc(Math.abs(r%60)),n=r>=0?"+":"-";switch(t){case"short":return`${n}${tt(e,2)}:${tt(i,2)}`;case"narrow":return`${n}${e}${i>0?`:${i}`:""}`;case"techie":return`${n}${tt(e,2)}${tt(i,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function Yl(r){return TI(r,["hour","minute","second","millisecond"])}var Bt=k(()=>{p();Mn();Nn();ow()});function G_(r){switch(r){case"narrow":return[...Kte];case"short":return[...uw];case"long":return[...Jte];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}function Z_(r){switch(r){case"narrow":return[...Yte];case"short":return[...cw];case"long":return[...lw];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}function K_(r){switch(r){case"narrow":return[...ere];case"short":return[...Qte];case"long":return[...Xte];default:return null}}function PI(r){return J_[r.hour<12?0:1]}function AI(r,t){return Z_(t)[r.weekday-1]}function xI(r,t){return G_(t)[r.month-1]}function CI(r,t){return K_(t)[r.year<0?0:1]}function sI(r,t,e="always",i=!1){let n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(r)===-1;if(e==="auto"&&o){let b=r==="days";switch(t){case 1:return b?"tomorrow":`next ${n[r][0]}`;case-1:return b?"yesterday":`last ${n[r][0]}`;case 0:return b?"today":`this ${n[r][0]}`;default:}}let u=Object.is(t,-0)||t<0,l=Math.abs(t),c=l===1,h=n[r],m=i?c?h[1]:h[2]||h[1]:c?n[r][0]:r;return u?`${l} ${m} ago`:`in ${l} ${m}`}var Jte,uw,Kte,lw,cw,Yte,J_,Xte,Qte,ere,qm=k(()=>{p();Hl();Bt();Jte=["January","February","March","April","May","June","July","August","September","October","November","December"],uw=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Kte=["J","F","M","A","M","J","J","A","S","O","N","D"];lw=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],cw=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Yte=["M","T","W","T","F","S","S"];J_=["AM","PM"],Xte=["Before Christ","Anno Domini"],Qte=["BC","AD"],ere=["B","A"]});function MI(r,t){let e="";for(let i of r)i.literal?e+=i.val:e+=t(i.val);return e}var tre,Tt,ec=k(()=>{p();qm();Hl();Bt();tre={D:In,DD:Tl,DDD:Pl,DDDD:Al,t:xl,tt:Cl,ttt:Ml,tttt:Il,T:Ll,TT:Rl,TTT:kl,TTTT:Nl,f:Fl,ff:ql,fff:jl,ffff:Wl,F:Dl,FF:$l,FFF:Bl,FFFF:Ul},Tt=class r{static create(t,e={}){return new r(t,e)}static parseFormat(t){let e=null,i="",n=!1,o=[];for(let u=0;u<t.length;u++){let l=t.charAt(u);l==="'"?(i.length>0&&o.push({literal:n||/^\s+$/.test(i),val:i}),e=null,i="",n=!n):n||l===e?i+=l:(i.length>0&&o.push({literal:/^\s+$/.test(i),val:i}),i=l,e=l)}return i.length>0&&o.push({literal:n||/^\s+$/.test(i),val:i}),o}static macroTokenToFormatOpts(t){return tre[t]}constructor(t,e){this.opts=e,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,e){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...e}).format()}dtFormatter(t,e={}){return this.loc.dtFormatter(t,{...this.opts,...e})}formatDateTime(t,e){return this.dtFormatter(t,e).format()}formatDateTimeParts(t,e){return this.dtFormatter(t,e).formatToParts()}formatInterval(t,e){return this.dtFormatter(t.start,e).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,e){return this.dtFormatter(t,e).resolvedOptions()}num(t,e=0){if(this.opts.forceSimple)return tt(t,e);let i={...this.opts};return e>0&&(i.padTo=e),this.loc.numberFormatter(i).format(t)}formatDateTimeFromString(t,e){let i=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(w,O)=>this.loc.extract(t,w,O),u=w=>t.isOffsetFixed&&t.offset===0&&w.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,w.format):"",l=()=>i?PI(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),c=(w,O)=>i?xI(t,w):o(O?{month:w}:{month:w,day:"numeric"},"month"),h=(w,O)=>i?AI(t,w):o(O?{weekday:w}:{weekday:w,month:"long",day:"numeric"},"weekday"),m=w=>{let O=r.macroTokenToFormatOpts(w);return O?this.formatWithSystemDefault(t,O):w},b=w=>i?CI(t,w):o({era:w},"era"),y=w=>{switch(w){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return u({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return u({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return u({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return l();case"d":return n?o({day:"numeric"},"day"):this.num(t.day);case"dd":return n?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return h("short",!0);case"cccc":return h("long",!0);case"ccccc":return h("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return h("short",!1);case"EEEE":return h("long",!1);case"EEEEE":return h("narrow",!1);case"L":return n?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return n?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return n?o({month:"numeric"},"month"):this.num(t.month);case"MM":return n?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return n?o({year:"numeric"},"year"):this.num(t.year);case"yy":return n?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return n?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return n?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return b("short");case"GG":return b("long");case"GGGGG":return b("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return m(w)}};return MI(r.parseFormat(e),y)}formatDurationFromString(t,e){let i=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=c=>h=>{let m=i(h);return m?this.num(c.get(m),h.length):h},o=r.parseFormat(e),u=o.reduce((c,{literal:h,val:m})=>h?c:c.concat(m),[]),l=t.shiftTo(...u.map(i).filter(c=>c));return MI(o,n(l))}}});function ka(...r){let t=r.reduce((e,i)=>e+i.source,"");return RegExp(`^${t}$`)}function Na(...r){return t=>r.reduce(([e,i,n],o)=>{let[u,l,c]=o(t,n);return[{...e,...u},l||i,c]},[{},null,1]).slice(0,2)}function Fa(r,...t){if(r==null)return[null,null];for(let[e,i]of t){let n=e.exec(r);if(n)return i(n)}return[null,null]}function RI(...r){return(t,e)=>{let i={},n;for(n=0;n<r.length;n++)i[r[n]]=ji(t[e+n]);return[i,null,e+n]}}function Ra(r,t,e){let i=r[t];return ne(i)?e:ji(i)}function cre(r,t){return[{year:Ra(r,t),month:Ra(r,t+1,1),day:Ra(r,t+2,1)},null,t+3]}function Da(r,t){return[{hours:Ra(r,t,0),minutes:Ra(r,t+1,0),seconds:Ra(r,t+2,0),milliseconds:Xl(r[t+3])},null,t+4]}function tc(r,t){let e=!r[t]&&!r[t+1],i=Wo(r[t+1],r[t+2]),n=e?null:St.instance(i);return[{},n,t+3]}function rc(r,t){let e=r[t]?Rt.create(r[t]):null;return[{},e,t+1]}function hre(r){let[t,e,i,n,o,u,l,c,h]=r,m=t[0]==="-",b=c&&c[0]==="-",y=(w,O=!1)=>w!==void 0&&(O||w&&m)?-w:w;return[{years:y(qn(e)),months:y(qn(i)),weeks:y(qn(n)),days:y(qn(o)),hours:y(qn(u)),minutes:y(qn(l)),seconds:y(qn(c),c==="-0"),milliseconds:y(Xl(h),b)}]}function hw(r,t,e,i,n,o,u){let l={year:t.length===2?Ql(ji(t)):ji(t),month:uw.indexOf(e)+1,day:ji(i),hour:ji(n),minute:ji(o)};return u&&(l.second=ji(u)),r&&(l.weekday=r.length>3?lw.indexOf(r)+1:cw.indexOf(r)+1),l}function vre(r){let[,t,e,i,n,o,u,l,c,h,m,b]=r,y=hw(t,n,i,e,o,u,l),w;return c?w=fre[c]:h?w=0:w=Wo(m,b),[y,new St(w)]}function gre(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function II(r){let[,t,e,i,n,o,u,l]=r;return[hw(t,n,i,e,o,u,l),St.utcInstance]}function wre(r){let[,t,e,i,n,o,u,l]=r;return[hw(t,l,e,i,n,o,u),St.utcInstance]}function qI(r){return Fa(r,[Ere,DI],[Sre,Pre],[Ore,Are],[Tre,xre])}function $I(r){return Fa(gre(r),[mre,vre])}function jI(r){return Fa(r,[bre,II],[yre,II],[_re,wre])}function BI(r){return Fa(r,[pre,hre])}function WI(r){return Fa(r,[dre,Cre])}function UI(r){return Fa(r,[Mre,DI],[Ire,Lre])}var LI,kI,rre,dw,NI,pw,ire,nre,ore,sre,are,ure,FI,lre,dre,pre,fre,mre,bre,yre,_re,Ere,Sre,Ore,Tre,DI,Pre,Are,xre,Cre,Mre,Ire,Lre,fw=k(()=>{p();Bt();qm();Ca();kn();LI=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;kI=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,rre=`(?:${kI.source}?(?:\\[(${LI.source})\\])?)?`,dw=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,NI=RegExp(`${dw.source}${rre}`),pw=RegExp(`(?:T${NI.source})?`),ire=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,nre=/(\d{4})-?W(\d\d)(?:-?(\d))?/,ore=/(\d{4})-?(\d{3})/,sre=RI("weekYear","weekNumber","weekDay"),are=RI("year","ordinal"),ure=/(\d{4})-(\d\d)-(\d\d)/,FI=RegExp(`${dw.source} ?(?:${kI.source}|(${LI.source}))?`),lre=RegExp(`(?: ${FI.source})?`);dre=RegExp(`^T?${dw.source}$`),pre=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;fre={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};mre=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;bre=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,yre=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,_re=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;Ere=ka(ire,pw),Sre=ka(nre,pw),Ore=ka(ore,pw),Tre=ka(NI),DI=Na(cre,Da,tc,rc),Pre=Na(sre,Da,tc,rc),Are=Na(are,Da,tc,rc),xre=Na(Da,tc,rc);Cre=Na(Da);Mre=ka(ure,lre),Ire=ka(FI),Lre=Na(Da,tc,rc)});function $n(r,t,e=!1){let i={values:e?t.values:{...r.values,...t.values||{}},loc:r.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||r.conversionAccuracy,matrix:t.matrix||r.matrix};return new rt(i)}function GI(r,t){let e=t.milliseconds??0;for(let i of Nre.slice(1))t[i]&&(e+=t[i]*r[i].milliseconds);return e}function zI(r,t){let e=GI(r,t)<0?-1:1;zo.reduceRight((i,n)=>{if(ne(t[n]))return i;if(i){let o=t[i]*e,u=r[n][i],l=Math.floor(o/u);t[n]+=l*e,t[i]-=l*u*e}return n},null),zo.reduce((i,n)=>{if(ne(t[n]))return i;if(i){let o=t[i]%1;t[i]-=o,t[n]+=o*r[i][n]}return n},null)}function Fre(r){let t={};for(let[e,i]of Object.entries(r))i!==0&&(t[e]=i);return t}var HI,VI,Rre,Tr,qa,kre,zo,Nre,rt,ic=k(()=>{p();Mn();ec();Zl();Gl();fw();Bt();Nn();Bo();HI="Invalid Duration",VI={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Rre={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...VI},Tr=146097/400,qa=146097/4800,kre={years:{quarters:4,months:12,weeks:Tr/7,days:Tr,hours:Tr*24,minutes:Tr*24*60,seconds:Tr*24*60*60,milliseconds:Tr*24*60*60*1e3},quarters:{months:3,weeks:Tr/28,days:Tr/4,hours:Tr*24/4,minutes:Tr*24*60/4,seconds:Tr*24*60*60/4,milliseconds:Tr*24*60*60*1e3/4},months:{weeks:qa/7,days:qa,hours:qa*24,minutes:qa*24*60,seconds:qa*24*60*60,milliseconds:qa*24*60*60*1e3},...VI},zo=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Nre=zo.slice(0).reverse();rt=class r{constructor(t){let e=t.conversionAccuracy==="longterm"||!1,i=e?kre:Rre;t.matrix&&(i=t.matrix),this.values=t.values,this.loc=t.loc||Be.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(t,e){return r.fromObject({milliseconds:t},e)}static fromObject(t,e={}){if(t==null||typeof t!="object")throw new mt(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new r({values:La(t,r.normalizeUnit),loc:Be.fromObject(e),conversionAccuracy:e.conversionAccuracy,matrix:e.matrix})}static fromDurationLike(t){if(fi(t))return r.fromMillis(t);if(r.isDuration(t))return t;if(typeof t=="object")return r.fromObject(t);throw new mt(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,e){let[i]=BI(t);return i?r.fromObject(i,e):r.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,e){let[i]=WI(t);return i?r.fromObject(i,e):r.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,e=null){if(!t)throw new mt("need to specify a reason the Duration is invalid");let i=t instanceof Ot?t:new Ot(t,e);if(De.throwOnInvalid)throw new Cm(i);return new r({invalid:i})}static normalizeUnit(t){let e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!e)throw new Pa(t);return e}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,e={}){let i={...e,floor:e.round!==!1&&e.floor!==!1};return this.isValid?Tt.create(this.loc,i).formatDurationFromString(this,t):HI}toHuman(t={}){if(!this.isValid)return HI;let e=zo.map(i=>{let n=this.values[i];return ne(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:i.slice(0,-1)}).format(n)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(e)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=xa(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;let e=this.toMillis();return e<0||e>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},je.fromMillis(e,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?GI(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;let e=r.fromDurationLike(t),i={};for(let n of zo)(Dn(e.values,n)||Dn(this.values,n))&&(i[n]=e.get(n)+this.get(n));return $n(this,{values:i},!0)}minus(t){if(!this.isValid)return this;let e=r.fromDurationLike(t);return this.plus(e.negate())}mapUnits(t){if(!this.isValid)return this;let e={};for(let i of Object.keys(this.values))e[i]=aw(t(this.values[i],i));return $n(this,{values:e},!0)}get(t){return this[r.normalizeUnit(t)]}set(t){if(!this.isValid)return this;let e={...this.values,...La(t,r.normalizeUnit)};return $n(this,{values:e})}reconfigure({locale:t,numberingSystem:e,conversionAccuracy:i,matrix:n}={}){let u={loc:this.loc.clone({locale:t,numberingSystem:e}),matrix:n,conversionAccuracy:i};return $n(this,u)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;let t=this.toObject();return zI(this.matrix,t),$n(this,{values:t},!0)}rescale(){if(!this.isValid)return this;let t=Fre(this.normalize().shiftToAll().toObject());return $n(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(u=>r.normalizeUnit(u));let e={},i={},n=this.toObject(),o;for(let u of zo)if(t.indexOf(u)>=0){o=u;let l=0;for(let h in i)l+=this.matrix[h][u]*i[h],i[h]=0;fi(n[u])&&(l+=n[u]);let c=Math.trunc(l);e[u]=c,i[u]=(l*1e3-c*1e3)/1e3}else fi(n[u])&&(i[u]=n[u]);for(let u in i)i[u]!==0&&(e[o]+=u===o?i[u]:i[u]/this.matrix[o][u]);return zI(this.matrix,e),$n(this,{values:e},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let t={};for(let e of Object.keys(this.values))t[e]=this.values[e]===0?0:-this.values[e];return $n(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function e(i,n){return i===void 0||i===0?n===void 0||n===0:i===n}for(let i of zo)if(!e(this.values[i],t.values[i]))return!1;return!0}}});function Dre(r,t){return!r||!r.isValid?Bi.invalid("missing or invalid start"):!t||!t.isValid?Bi.invalid("missing or invalid end"):t<r?Bi.invalid("end before start",`The end of an interval must be after its start, but you had start=${r.toISO()} and end=${t.toISO()}`):null}var $a,Bi,mw=k(()=>{p();Bo();ic();Nn();Mn();Zl();ec();Hl();$a="Invalid Interval";Bi=class r{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,e=null){if(!t)throw new mt("need to specify a reason the Interval is invalid");let i=t instanceof Ot?t:new Ot(t,e);if(De.throwOnInvalid)throw new xm(i);return new r({invalid:i})}static fromDateTimes(t,e){let i=ja(t),n=ja(e),o=Dre(i,n);return o??new r({start:i,end:n})}static after(t,e){let i=rt.fromDurationLike(e),n=ja(t);return r.fromDateTimes(n,n.plus(i))}static before(t,e){let i=rt.fromDurationLike(e),n=ja(t);return r.fromDateTimes(n.minus(i),n)}static fromISO(t,e){let[i,n]=(t||"").split("/",2);if(i&&n){let o,u;try{o=je.fromISO(i,e),u=o.isValid}catch{u=!1}let l,c;try{l=je.fromISO(n,e),c=l.isValid}catch{c=!1}if(u&&c)return r.fromDateTimes(o,l);if(u){let h=rt.fromISO(n,e);if(h.isValid)return r.after(o,h)}else if(c){let h=rt.fromISO(i,e);if(h.isValid)return r.before(l,h)}}return r.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",e){if(!this.isValid)return NaN;let i=this.start.startOf(t,e),n;return e!=null&&e.useLocaleWeeks?n=this.end.reconfigure({locale:i.locale}):n=this.end,n=n.startOf(t,e),Math.floor(n.diff(i,t).get(t))+(n.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:e}={}){return this.isValid?r.fromDateTimes(t||this.s,e||this.e):this}splitAt(...t){if(!this.isValid)return[];let e=t.map(ja).filter(u=>this.contains(u)).sort((u,l)=>u.toMillis()-l.toMillis()),i=[],{s:n}=this,o=0;for(;n<this.e;){let u=e[o]||this.e,l=+u>+this.e?this.e:u;i.push(r.fromDateTimes(n,l)),n=l,o+=1}return i}splitBy(t){let e=rt.fromDurationLike(t);if(!this.isValid||!e.isValid||e.as("milliseconds")===0)return[];let{s:i}=this,n=1,o,u=[];for(;i<this.e;){let l=this.start.plus(e.mapUnits(c=>c*n));o=+l>+this.e?this.e:l,u.push(r.fromDateTimes(i,o)),i=o,n+=1}return u}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;let e=this.s>t.s?this.s:t.s,i=this.e<t.e?this.e:t.e;return e>=i?null:r.fromDateTimes(e,i)}union(t){if(!this.isValid)return this;let e=this.s<t.s?this.s:t.s,i=this.e>t.e?this.e:t.e;return r.fromDateTimes(e,i)}static merge(t){let[e,i]=t.sort((n,o)=>n.s-o.s).reduce(([n,o],u)=>o?o.overlaps(u)||o.abutsStart(u)?[n,o.union(u)]:[n.concat([o]),u]:[n,u],[[],null]);return i&&e.push(i),e}static xor(t){let e=null,i=0,n=[],o=t.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),u=Array.prototype.concat(...o),l=u.sort((c,h)=>c.time-h.time);for(let c of l)i+=c.type==="s"?1:-1,i===1?e=c.time:(e&&+e!=+c.time&&n.push(r.fromDateTimes(e,c.time)),e=null);return r.merge(n)}difference(...t){return r.xor([this].concat(t)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:$a}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=In,e={}){return this.isValid?Tt.create(this.s.loc.clone(e),t).formatInterval(this):$a}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:$a}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:$a}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:$a}toFormat(t,{separator:e=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${e}${this.e.toFormat(t)}`:$a}toDuration(t,e){return this.isValid?this.e.diff(this.s,t,e):rt.invalid(this.invalidReason)}mapEndpoints(t){return r.fromDateTimes(t(this.s),t(this.e))}}});var Wi,vw=k(()=>{p();Bo();Nn();Gl();kn();$m();Bt();Wi=class{static hasDST(t=De.defaultZone){let e=je.now().setZone(t).set({month:12});return!t.isUniversal&&e.offset!==e.set({month:6}).offset}static isValidIANAZone(t){return Rt.isValidZone(t)}static normalizeZone(t){return Zr(t,De.defaultZone)}static getStartOfWeek({locale:t=null,locObj:e=null}={}){return(e||Be.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:e=null}={}){return(e||Be.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:e=null}={}){return(e||Be.create(t)).getWeekendDays().slice()}static months(t="long",{locale:e=null,numberingSystem:i=null,locObj:n=null,outputCalendar:o="gregory"}={}){return(n||Be.create(e,i,o)).months(t)}static monthsFormat(t="long",{locale:e=null,numberingSystem:i=null,locObj:n=null,outputCalendar:o="gregory"}={}){return(n||Be.create(e,i,o)).months(t,!0)}static weekdays(t="long",{locale:e=null,numberingSystem:i=null,locObj:n=null}={}){return(n||Be.create(e,i,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:e=null,numberingSystem:i=null,locObj:n=null}={}){return(n||Be.create(e,i,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Be.create(t).meridiems()}static eras(t="short",{locale:e=null}={}){return Be.create(e,null,"gregory").eras(t)}static features(){return{relative:Fm(),localeWeek:Dm()}}}});function ZI(r,t){let e=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=e(t)-e(r);return Math.floor(rt.fromMillis(i).as("days"))}function qre(r,t,e){let i=[["years",(c,h)=>h.year-c.year],["quarters",(c,h)=>h.quarter-c.quarter+(h.year-c.year)*4],["months",(c,h)=>h.month-c.month+(h.year-c.year)*12],["weeks",(c,h)=>{let m=ZI(c,h);return(m-m%7)/7}],["days",ZI]],n={},o=r,u,l;for(let[c,h]of i)e.indexOf(c)>=0&&(u=c,n[c]=h(r,t),l=o.plus(n),l>t?(n[c]--,r=o.plus(n),r>t&&(l=r,n[c]--,r=o.plus(n))):r=l);return[r,n,l,u]}function JI(r,t,e,i){let[n,o,u,l]=qre(r,t,e),c=t-n,h=e.filter(b=>["hours","minutes","seconds","milliseconds"].indexOf(b)>=0);h.length===0&&(u<t&&(u=n.plus({[l]:1})),u!==n&&(o[l]=(o[l]||0)+c/(u-n)));let m=rt.fromObject(o,i);return h.length>0?rt.fromMillis(c,i).shiftTo(...h).plus(m):m}var KI=k(()=>{p();ic()});function XI(r){let t=parseInt(r,10);if(isNaN(t)){t="";for(let e=0;e<r.length;e++){let i=r.charCodeAt(e);if(r[e].search(gw.hanidec)!==-1)t+=$re.indexOf(r[e]);else for(let n in YI){let[o,u]=YI[n];i>=o&&i<=u&&(t+=i-o)}}return parseInt(t,10)}else return t}function Pr({numberingSystem:r},t=""){return new RegExp(`${gw[r||"latn"]}${t}`)}var gw,YI,$re,QI=k(()=>{p();gw={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},YI={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},$re=gw.hanidec.replace(/[\[|\]]/g,"").split("")});function qe(r,t=e=>e){return{regex:r,deser:([e])=>t(XI(e))}}function Wre(r){return r.replace(/\./g,"\\.?").replace(iL,rL)}function eL(r){return r.replace(/\./g,"").replace(iL," ").toLowerCase()}function Jr(r,t){return r===null?null:{regex:RegExp(r.map(Wre).join("|")),deser:([e])=>r.findIndex(i=>eL(e)===eL(i))+t}}function tL(r,t){return{regex:r,deser:([,e,i])=>Wo(e,i),groups:t}}function Um(r){return{regex:r,deser:([t])=>t}}function Ure(r){return r.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Hre(r,t){let e=Pr(t),i=Pr(t,"{2}"),n=Pr(t,"{3}"),o=Pr(t,"{4}"),u=Pr(t,"{6}"),l=Pr(t,"{1,2}"),c=Pr(t,"{1,3}"),h=Pr(t,"{1,6}"),m=Pr(t,"{1,9}"),b=Pr(t,"{2,4}"),y=Pr(t,"{4,6}"),w=R=>({regex:RegExp(Ure(R.val)),deser:([L])=>L,literal:!0}),x=(R=>{if(r.literal)return w(R);switch(R.val){case"G":return Jr(t.eras("short"),0);case"GG":return Jr(t.eras("long"),0);case"y":return qe(h);case"yy":return qe(b,Ql);case"yyyy":return qe(o);case"yyyyy":return qe(y);case"yyyyyy":return qe(u);case"M":return qe(l);case"MM":return qe(i);case"MMM":return Jr(t.months("short",!0),1);case"MMMM":return Jr(t.months("long",!0),1);case"L":return qe(l);case"LL":return qe(i);case"LLL":return Jr(t.months("short",!1),1);case"LLLL":return Jr(t.months("long",!1),1);case"d":return qe(l);case"dd":return qe(i);case"o":return qe(c);case"ooo":return qe(n);case"HH":return qe(i);case"H":return qe(l);case"hh":return qe(i);case"h":return qe(l);case"mm":return qe(i);case"m":return qe(l);case"q":return qe(l);case"qq":return qe(i);case"s":return qe(l);case"ss":return qe(i);case"S":return qe(c);case"SSS":return qe(n);case"u":return Um(m);case"uu":return Um(l);case"uuu":return qe(e);case"a":return Jr(t.meridiems(),0);case"kkkk":return qe(o);case"kk":return qe(b,Ql);case"W":return qe(l);case"WW":return qe(i);case"E":case"c":return qe(e);case"EEE":return Jr(t.weekdays("short",!1),1);case"EEEE":return Jr(t.weekdays("long",!1),1);case"ccc":return Jr(t.weekdays("short",!0),1);case"cccc":return Jr(t.weekdays("long",!0),1);case"Z":case"ZZ":return tL(new RegExp(`([+-]${l.source})(?::(${i.source}))?`),2);case"ZZZ":return tL(new RegExp(`([+-]${l.source})(${i.source})?`),2);case"z":return Um(/[a-z_+-/]{1,256}?/i);case" ":return Um(/[^\S\n\r]/);default:return w(R)}})(r)||{invalidReason:jre};return x.token=r,x}function Vre(r,t,e){let{type:i,value:n}=r;if(i==="literal"){let c=/^\s+$/.test(n);return{literal:!c,val:c?" ":n}}let o=t[i],u=i;i==="hour"&&(t.hour12!=null?u=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?u="hour12":u="hour24":u=e.hour12?"hour12":"hour24");let l=zre[u];if(typeof l=="object"&&(l=l[o]),l)return{literal:!1,val:l}}function Gre(r){return[`^${r.map(e=>e.regex).reduce((e,i)=>`${e}(${i.source})`,"")}$`,r]}function Zre(r,t,e){let i=r.match(t);if(i){let n={},o=1;for(let u in e)if(Dn(e,u)){let l=e[u],c=l.groups?l.groups+1:1;!l.literal&&l.token&&(n[l.token.val[0]]=l.deser(i.slice(o,o+c))),o+=c}return[i,n]}else return[i,{}]}function Jre(r){let t=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},e=null,i;return ne(r.z)||(e=Rt.create(r.z)),ne(r.Z)||(e||(e=new St(r.Z)),i=r.Z),ne(r.q)||(r.M=(r.q-1)*3+1),ne(r.h)||(r.h<12&&r.a===1?r.h+=12:r.h===12&&r.a===0&&(r.h=0)),r.G===0&&r.y&&(r.y=-r.y),ne(r.u)||(r.S=Xl(r.u)),[Object.keys(r).reduce((o,u)=>{let l=t(u);return l&&(o[l]=r[u]),o},{}),e,i]}function Kre(){return bw||(bw=je.fromMillis(1555555555555)),bw}function Yre(r,t){if(r.literal)return r;let e=Tt.macroTokenToFormatOpts(r.val),i=ww(e,t);return i==null||i.includes(void 0)?r:i}function yw(r,t){return Array.prototype.concat(...r.map(e=>Yre(e,t)))}function _w(r,t,e){let i=yw(Tt.parseFormat(e),r),n=i.map(u=>Hre(u,r)),o=n.find(u=>u.invalidReason);if(o)return{input:t,tokens:i,invalidReason:o.invalidReason};{let[u,l]=Gre(n),c=RegExp(u,"i"),[h,m]=Zre(t,c,l),[b,y,w]=m?Jre(m):[null,null,void 0];if(Dn(m,"a")&&Dn(m,"H"))throw new zr("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:i,regex:c,rawMatches:h,matches:m,result:b,zone:y,specificOffset:w}}}function nL(r,t,e){let{result:i,zone:n,specificOffset:o,invalidReason:u}=_w(r,t,e);return[i,n,o,u]}function ww(r,t){if(!r)return null;let i=Tt.create(t,r).dtFormatter(Kre()),n=i.formatToParts(),o=i.resolvedOptions();return n.map(u=>Vre(u,r,o))}var jre,Bre,rL,iL,zre,bw,oL=k(()=>{p();Bt();ec();Ca();kn();Bo();QI();Mn();jre="missing Intl.DateTimeFormat.formatToParts support";Bre="\xA0",rL=`[ ${Bre}]`,iL=new RegExp(rL,"g");zre={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};bw=null});function Hm(r){return new Ot("unsupported zone",`the zone "${r.name}" is not supported`)}function Sw(r){return r.weekData===null&&(r.weekData=Jl(r.c)),r.weekData}function Ow(r){return r.localWeekData===null&&(r.localWeekData=Jl(r.c,r.loc.getMinDaysInFirstWeek(),r.loc.getStartOfWeek())),r.localWeekData}function Vo(r,t){let e={ts:r.ts,zone:r.zone,c:r.c,o:r.o,loc:r.loc,invalid:r.invalid};return new je({...e,...t,old:e})}function hL(r,t,e){let i=r-t*60*1e3,n=e.offset(i);if(t===n)return[i,t];i-=(n-t)*60*1e3;let o=e.offset(i);return n===o?[i,n]:[r-Math.min(n,o)*60*1e3,Math.max(n,o)]}function zm(r,t){r+=t*60*1e3;let e=new Date(r);return{year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds(),millisecond:e.getUTCMilliseconds()}}function Gm(r,t,e){return hL(Aa(r),t,e)}function aL(r,t){let e=r.o,i=r.c.year+Math.trunc(t.years),n=r.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,o={...r.c,year:i,month:n,day:Math.min(r.c.day,Ia(i,n))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},u=rt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),l=Aa(o),[c,h]=hL(l,e,r.zone);return u!==0&&(c+=u,h=r.zone.offset(c)),{ts:c,o:h}}function nc(r,t,e,i,n,o){let{setZone:u,zone:l}=e;if(r&&Object.keys(r).length!==0||t){let c=t||l,h=je.fromObject(r,{...e,zone:c,specificOffset:o});return u?h:h.setZone(l)}else return je.invalid(new Ot("unparsable",`the input "${n}" can't be parsed as ${i}`))}function Vm(r,t,e=!0){return r.isValid?Tt.create(Be.create("en-US"),{allowZ:e,forceSimple:!0}).formatDateTimeFromString(r,t):null}function Tw(r,t){let e=r.c.year>9999||r.c.year<0,i="";return e&&r.c.year>=0&&(i+="+"),i+=tt(r.c.year,e?6:4),t?(i+="-",i+=tt(r.c.month),i+="-",i+=tt(r.c.day)):(i+=tt(r.c.month),i+=tt(r.c.day)),i}function uL(r,t,e,i,n,o){let u=tt(r.c.hour);return t?(u+=":",u+=tt(r.c.minute),(r.c.millisecond!==0||r.c.second!==0||!e)&&(u+=":")):u+=tt(r.c.minute),(r.c.millisecond!==0||r.c.second!==0||!e)&&(u+=tt(r.c.second),(r.c.millisecond!==0||!i)&&(u+=".",u+=tt(r.c.millisecond,3))),n&&(r.isOffsetFixed&&r.offset===0&&!o?u+="Z":r.o<0?(u+="-",u+=tt(Math.trunc(-r.o/60)),u+=":",u+=tt(Math.trunc(-r.o%60))):(u+="+",u+=tt(Math.trunc(r.o/60)),u+=":",u+=tt(Math.trunc(r.o%60)))),o&&(u+="["+r.zone.ianaName+"]"),u}function rie(r){let t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[r.toLowerCase()];if(!t)throw new Pa(r);return t}function lL(r){switch(r.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return rie(r)}}function cL(r,t){let e=Zr(t.zone,De.defaultZone),i=Be.fromObject(t),n=De.now(),o,u;if(ne(r.year))o=n;else{for(let h of mL)ne(r[h])&&(r[h]=fL[h]);let l=iw(r)||nw(r);if(l)return je.invalid(l);let c=e.offset(n);[o,u]=Gm(r,c,e)}return new je({ts:o,zone:e,loc:i,o:u})}function dL(r,t,e){let i=ne(e.round)?!0:e.round,n=(u,l)=>(u=xa(u,i||e.calendary?0:2,!0),t.loc.clone(e).relFormatter(e).format(u,l)),o=u=>e.calendary?t.hasSame(r,u)?0:t.startOf(u).diff(r.startOf(u),u).get(u):t.diff(r,u).get(u);if(e.unit)return n(o(e.unit),e.unit);for(let u of e.units){let l=o(u);if(Math.abs(l)>=1)return n(l,u)}return n(r>t?-0:0,e.units[e.units.length-1])}function pL(r){let t={},e;return r.length>0&&typeof r[r.length-1]=="object"?(t=r[r.length-1],e=Array.from(r).slice(0,r.length-1)):e=Array.from(r),[t,e]}function ja(r){if(je.isDateTime(r))return r;if(r&&r.valueOf&&fi(r.valueOf()))return je.fromJSDate(r);if(r&&typeof r=="object")return je.fromObject(r);throw new mt(`Unknown datetime argument: ${r}, of type ${typeof r}`)}var Ew,sL,fL,Xre,Qre,mL,eie,tie,je,Bo=k(()=>{p();ic();mw();Nn();vw();ec();Ca();Gl();Bt();$m();KI();fw();oL();ow();Hl();Mn();Zl();Ew="Invalid DateTime",sL=864e13;fL={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Xre={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Qre={ordinal:1,hour:0,minute:0,second:0,millisecond:0},mL=["year","month","day","hour","minute","second","millisecond"],eie=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],tie=["year","ordinal","hour","minute","second","millisecond"];je=class r{constructor(t){let e=t.zone||De.defaultZone,i=t.invalid||(Number.isNaN(t.ts)?new Ot("invalid input"):null)||(e.isValid?null:Hm(e));this.ts=ne(t.ts)?De.now():t.ts;let n=null,o=null;if(!i)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(e))[n,o]=[t.old.c,t.old.o];else{let l=e.offset(this.ts);n=zm(this.ts,l),i=Number.isNaN(n.year)?new Ot("invalid input"):null,n=i?null:n,o=i?null:l}this._zone=e,this.loc=t.loc||Be.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=n,this.o=o,this.isLuxonDateTime=!0}static now(){return new r({})}static local(){let[t,e]=pL(arguments),[i,n,o,u,l,c,h]=e;return cL({year:i,month:n,day:o,hour:u,minute:l,second:c,millisecond:h},t)}static utc(){let[t,e]=pL(arguments),[i,n,o,u,l,c,h]=e;return t.zone=St.utcInstance,cL({year:i,month:n,day:o,hour:u,minute:l,second:c,millisecond:h},t)}static fromJSDate(t,e={}){let i=SI(t)?t.valueOf():NaN;if(Number.isNaN(i))return r.invalid("invalid input");let n=Zr(e.zone,De.defaultZone);return n.isValid?new r({ts:i,zone:n,loc:Be.fromObject(e)}):r.invalid(Hm(n))}static fromMillis(t,e={}){if(fi(t))return t<-sL||t>sL?r.invalid("Timestamp out of range"):new r({ts:t,zone:Zr(e.zone,De.defaultZone),loc:Be.fromObject(e)});throw new mt(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,e={}){if(fi(t))return new r({ts:t*1e3,zone:Zr(e.zone,De.defaultZone),loc:Be.fromObject(e)});throw new mt("fromSeconds requires a numerical input")}static fromObject(t,e={}){t=t||{};let i=Zr(e.zone,De.defaultZone);if(!i.isValid)return r.invalid(Hm(i));let n=Be.fromObject(e),o=La(t,lL),{minDaysInFirstWeek:u,startOfWeek:l}=rw(o,n),c=De.now(),h=ne(e.specificOffset)?i.offset(c):e.specificOffset,m=!ne(o.ordinal),b=!ne(o.year),y=!ne(o.month)||!ne(o.day),w=b||y,O=o.weekYear||o.weekNumber;if((w||m)&&O)throw new zr("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(y&&m)throw new zr("Can't mix ordinal dates with month/day");let x=O||o.weekday&&!w,R,L,W=zm(c,h);x?(R=eie,L=Xre,W=Jl(W,u,l)):m?(R=tie,L=Qre,W=Wm(W)):(R=mL,L=fL);let Y=!1;for(let dt of R){let cr=o[dt];ne(cr)?Y?o[dt]=L[dt]:o[dt]=W[dt]:Y=!0}let he=x?_I(o,u,l):m?wI(o):iw(o),we=he||nw(o);if(we)return r.invalid(we);let U=x?ew(o,u,l):m?tw(o):o,[xe,Ke]=Gm(U,h,i),Ve=new r({ts:xe,zone:i,o:Ke,loc:n});return o.weekday&&w&&t.weekday!==Ve.weekday?r.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${Ve.toISO()}`):Ve}static fromISO(t,e={}){let[i,n]=qI(t);return nc(i,n,e,"ISO 8601",t)}static fromRFC2822(t,e={}){let[i,n]=$I(t);return nc(i,n,e,"RFC 2822",t)}static fromHTTP(t,e={}){let[i,n]=jI(t);return nc(i,n,e,"HTTP",e)}static fromFormat(t,e,i={}){if(ne(t)||ne(e))throw new mt("fromFormat requires an input string and a format");let{locale:n=null,numberingSystem:o=null}=i,u=Be.fromOpts({locale:n,numberingSystem:o,defaultToEN:!0}),[l,c,h,m]=nL(u,t,e);return m?r.invalid(m):nc(l,c,i,`format ${e}`,t,h)}static fromString(t,e,i={}){return r.fromFormat(t,e,i)}static fromSQL(t,e={}){let[i,n]=UI(t);return nc(i,n,e,"SQL",t)}static invalid(t,e=null){if(!t)throw new mt("need to specify a reason the DateTime is invalid");let i=t instanceof Ot?t:new Ot(t,e);if(De.throwOnInvalid)throw new Am(i);return new r({invalid:i})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,e={}){let i=ww(t,Be.fromObject(e));return i?i.map(n=>n?n.val:null).join(""):null}static expandFormat(t,e={}){return yw(Tt.parseFormat(t),Be.fromObject(e)).map(n=>n.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Sw(this).weekYear:NaN}get weekNumber(){return this.isValid?Sw(this).weekNumber:NaN}get weekday(){return this.isValid?Sw(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Ow(this).weekday:NaN}get localWeekNumber(){return this.isValid?Ow(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Ow(this).weekYear:NaN}get ordinal(){return this.isValid?Wm(this.c).ordinal:NaN}get monthShort(){return this.isValid?Wi.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Wi.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Wi.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Wi.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let t=864e5,e=6e4,i=Aa(this.c),n=this.zone.offset(i-t),o=this.zone.offset(i+t),u=this.zone.offset(i-n*e),l=this.zone.offset(i-o*e);if(u===l)return[this];let c=i-u*e,h=i-l*e,m=zm(c,u),b=zm(h,l);return m.hour===b.hour&&m.minute===b.minute&&m.second===b.second&&m.millisecond===b.millisecond?[Vo(this,{ts:c}),Vo(this,{ts:h})]:[this]}get isInLeapYear(){return Ho(this.year)}get daysInMonth(){return Ia(this.year,this.month)}get daysInYear(){return this.isValid?Fn(this.year):NaN}get weeksInWeekYear(){return this.isValid?Uo(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Uo(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){let{locale:e,numberingSystem:i,calendar:n}=Tt.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:e,numberingSystem:i,outputCalendar:n}}toUTC(t=0,e={}){return this.setZone(St.instance(t),e)}toLocal(){return this.setZone(De.defaultZone)}setZone(t,{keepLocalTime:e=!1,keepCalendarTime:i=!1}={}){if(t=Zr(t,De.defaultZone),t.equals(this.zone))return this;if(t.isValid){let n=this.ts;if(e||i){let o=t.offset(this.ts),u=this.toObject();[n]=Gm(u,o,t)}return Vo(this,{ts:n,zone:t})}else return r.invalid(Hm(t))}reconfigure({locale:t,numberingSystem:e,outputCalendar:i}={}){let n=this.loc.clone({locale:t,numberingSystem:e,outputCalendar:i});return Vo(this,{loc:n})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;let e=La(t,lL),{minDaysInFirstWeek:i,startOfWeek:n}=rw(e,this.loc),o=!ne(e.weekYear)||!ne(e.weekNumber)||!ne(e.weekday),u=!ne(e.ordinal),l=!ne(e.year),c=!ne(e.month)||!ne(e.day),h=l||c,m=e.weekYear||e.weekNumber;if((h||u)&&m)throw new zr("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&u)throw new zr("Can't mix ordinal dates with month/day");let b;o?b=ew({...Jl(this.c,i,n),...e},i,n):ne(e.ordinal)?(b={...this.toObject(),...e},ne(e.day)&&(b.day=Math.min(Ia(b.year,b.month),b.day))):b=tw({...Wm(this.c),...e});let[y,w]=Gm(b,this.o,this.zone);return Vo(this,{ts:y,o:w})}plus(t){if(!this.isValid)return this;let e=rt.fromDurationLike(t);return Vo(this,aL(this,e))}minus(t){if(!this.isValid)return this;let e=rt.fromDurationLike(t).negate();return Vo(this,aL(this,e))}startOf(t,{useLocaleWeeks:e=!1}={}){if(!this.isValid)return this;let i={},n=rt.normalizeUnit(t);switch(n){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break;case"milliseconds":break}if(n==="weeks")if(e){let o=this.loc.getStartOfWeek(),{weekday:u}=this;u<o&&(i.weekNumber=this.weekNumber-1),i.weekday=o}else i.weekday=1;if(n==="quarters"){let o=Math.ceil(this.month/3);i.month=(o-1)*3+1}return this.set(i)}endOf(t,e){return this.isValid?this.plus({[t]:1}).startOf(t,e).minus(1):this}toFormat(t,e={}){return this.isValid?Tt.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,t):Ew}toLocaleString(t=In,e={}){return this.isValid?Tt.create(this.loc.clone(e),t).formatDateTime(this):Ew}toLocaleParts(t={}){return this.isValid?Tt.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:e=!1,suppressMilliseconds:i=!1,includeOffset:n=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;let u=t==="extended",l=Tw(this,u);return l+="T",l+=uL(this,u,e,i,n,o),l}toISODate({format:t="extended"}={}){return this.isValid?Tw(this,t==="extended"):null}toISOWeekDate(){return Vm(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:e=!1,includeOffset:i=!0,includePrefix:n=!1,extendedZone:o=!1,format:u="extended"}={}){return this.isValid?(n?"T":"")+uL(this,u==="extended",e,t,i,o):null}toRFC2822(){return Vm(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Vm(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Tw(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:e=!1,includeOffsetSpace:i=!0}={}){let n="HH:mm:ss.SSS";return(e||t)&&(i&&(n+=" "),e?n+="z":t&&(n+="ZZ")),Vm(this,n,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Ew}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};let e={...this.c};return t.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,e="milliseconds",i={}){if(!this.isValid||!t.isValid)return rt.invalid("created by diffing an invalid DateTime");let n={locale:this.locale,numberingSystem:this.numberingSystem,...i},o=OI(e).map(rt.normalizeUnit),u=t.valueOf()>this.valueOf(),l=u?this:t,c=u?t:this,h=JI(l,c,o,n);return u?h.negate():h}diffNow(t="milliseconds",e={}){return this.diff(r.now(),t,e)}until(t){return this.isValid?Bi.fromDateTimes(this,t):this}hasSame(t,e,i){if(!this.isValid)return!1;let n=t.valueOf(),o=this.setZone(t.zone,{keepLocalTime:!0});return o.startOf(e,i)<=n&&n<=o.endOf(e,i)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;let e=t.base||r.fromObject({},{zone:this.zone}),i=t.padding?this<e?-t.padding:t.padding:0,n=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(n=t.unit,o=void 0),dL(e,this.plus(i),{...t,numeric:"always",units:n,unit:o})}toRelativeCalendar(t={}){return this.isValid?dL(t.base||r.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(r.isDateTime))throw new mt("min requires all arguments be DateTimes");return sw(t,e=>e.valueOf(),Math.min)}static max(...t){if(!t.every(r.isDateTime))throw new mt("max requires all arguments be DateTimes");return sw(t,e=>e.valueOf(),Math.max)}static fromFormatExplain(t,e,i={}){let{locale:n=null,numberingSystem:o=null}=i,u=Be.fromOpts({locale:n,numberingSystem:o,defaultToEN:!0});return _w(u,t,e)}static fromStringExplain(t,e,i={}){return r.fromFormatExplain(t,e,i)}static get DATE_SHORT(){return In}static get DATE_MED(){return Tl}static get DATE_MED_WITH_WEEKDAY(){return D_}static get DATE_FULL(){return Pl}static get DATE_HUGE(){return Al}static get TIME_SIMPLE(){return xl}static get TIME_WITH_SECONDS(){return Cl}static get TIME_WITH_SHORT_OFFSET(){return Ml}static get TIME_WITH_LONG_OFFSET(){return Il}static get TIME_24_SIMPLE(){return Ll}static get TIME_24_WITH_SECONDS(){return Rl}static get TIME_24_WITH_SHORT_OFFSET(){return kl}static get TIME_24_WITH_LONG_OFFSET(){return Nl}static get DATETIME_SHORT(){return Fl}static get DATETIME_SHORT_WITH_SECONDS(){return Dl}static get DATETIME_MED(){return ql}static get DATETIME_MED_WITH_SECONDS(){return $l}static get DATETIME_MED_WITH_WEEKDAY(){return q_}static get DATETIME_FULL(){return jl}static get DATETIME_FULL_WITH_SECONDS(){return Bl}static get DATETIME_HUGE(){return Wl}static get DATETIME_HUGE_WITH_SECONDS(){return Ul}}});var vL=k(()=>{p();Bo();ic();mw();vw();jo();Ca();kn();Q_();Im();Nn()});var bL={};pt(bL,{CommentsCommentItem:()=>Go});var gL,nie,Go,yL=k(()=>{p();me();ar();vL();ct();jt();Sr();Hr();st();gL=Se(le),nie=[gL.styles,T_],Go=class extends gL{constructor(){super();this.unselectAnnotationEsc=e=>{e.key==="Escape"&&(this.isSelected=!1)};this.unselectAnnotation=()=>{this.isSelected=!1};this.selectAnnotation=({detail:e})=>{let{uuid:i}=e;if(this.isSelected){this.isSelected=!1;return}this.isSelected=i===this.annotationId};this.updateComment=({detail:e})=>{let{text:i,mentions:n}=e;this.text=i,this.closeEditMode(),this.emitEvent("update-comment",{uuid:this.uuid,mentions:n,text:i})};this.resolveAnnotation=e=>{e.stopPropagation(),this.emitEvent("resolve-annotation",{type:"resolve-annotation",resolved:!this.resolved},{composed:!1,bubbles:!1})};this.confirmDelete=()=>{if(this.deleteCommentModalOpen=!1,this.primaryComment)return this.emitEvent("delete-annotation",{uuid:this.annotationId});this.emitEvent("delete-comment",{annotationId:this.annotationId,uuid:this.uuid})};this.closeEditMode=()=>{this.mode="readonly",this.emitEvent("edit-comment",{editing:!1})};this.resolved=!1}firstUpdated(e){super.firstUpdated(e),this.updateComplete.then(()=>{He.call(this,["comments"])}),document.body.addEventListener("select-annotation",this.selectAnnotation)}connectedCallback(){super.connectedCallback(),window.document.body.addEventListener("select-annotation",this.selectAnnotation),window.document.body.addEventListener("keyup",this.unselectAnnotationEsc),window.document.body.addEventListener("unselect-annotation",this.unselectAnnotation)}disconnectedCallback(){super.disconnectedCallback(),window.document.body.removeEventListener("select-annotation",this.selectAnnotation),window.document.body.removeEventListener("keyup",this.unselectAnnotationEsc),window.document.body.removeEventListener("unselect-annotation",this.unselectAnnotation)}getAvatar(){var e;return this.avatar?j` <div class=${this.getClasses("avatar-container")}>
        <img src=${this.avatar} class=${this.getClasses("avatar-image")} />
      </div>`:j`<div class=${this.getClasses("avatar-container")}>
      <p class="text text-bold ${this.getClasses("avatar-letter")}">
        ${((e=this.username[0])==null?void 0:e.toUpperCase())||"A"}
      </p>
    </div>`}getClasses(e){return`comments__comment-item__${e} ${this.class}__${e}`}render(){let e=this.annotationFilter==="All comments"?"resolve":"undo",i=y=>je.fromISO(y).toFormat("yyyy-dd-MM"),n=this.resolvable?"comments__comment-item__resolve":"hidden",o=[{label:"EDIT"},{label:"DELETE"}],u=({detail:{label:y}})=>{y==="EDIT"&&(this.mode="editable",this.emitEvent("edit-comment",{editing:!0})),y==="DELETE"&&(this.deleteCommentModalOpen=!0)},l=()=>{let y={"comments__comment-item--editable":!0,"hide-edit-input":this.mode!=="editable"};return j`
        <superviz-comments-comment-input
          class="${pe(y)}"
          editable
          mode=${this.mode}
          @click=${w=>w.stopPropagation()}
          text=${this.text}
          eventType="update-comment"
          participantsList=${JSON.stringify(this.participantsList)}
          mentions=${JSON.stringify(this.mentions)}
          @update-comment=${this.updateComment}
          @close-edit-mode=${this.closeEditMode}
        ></superviz-comments-comment-input>
      `},c=()=>{let y={text:!0,"text-big":!0,"sv-gray-700":!0,"annotation-content":!0,[this.getClasses("content")]:!0,editing:this.mode==="editable","line-clamp":!this.isSelected&&this.text.length>120};return j` <p id="comment-text" class="${pe(y)}">${this.text}</p> `},h=()=>{this.deleteCommentModalOpen=!1},m={[this.class]:!0,"comments__comment-item":!0,reply:!this.primaryComment},b={"comments__comment-item__content__body":!0,"editing-annotation":this.mode==="editable"};return j`
      <div class=${pe(m)}>
        <div class=${this.getClasses("header")}>
          <div class=${this.getClasses("metadata")}>
            ${this.getAvatar()}
            <span class="text text-big text-bold sv-gray-700 ${this.getClasses("username")}">
              ${this.username}
            </span>
            <span class="text text-small sv-gray-500 ${this.getClasses("date")}">
              ${i(this.createdAt)}
            </span>
          </div>
          <div class=${this.getClasses("actions")}>
            <button
              @click=${this.resolveAnnotation}
              class="${this.getClasses("icons")} ${this.getClasses("resolve-icon")} icon-button icon-button--clickable icon-button--xsmall ${n}"
            >
              <!-- TODO: Add undo icon in sm format -->
              <superviz-icon name=${e} size="sm"></superviz-icon>
            </button>
            <superviz-dropdown
              options=${JSON.stringify(o)}
              position="bottom-left"
              @selected=${u}
              @click=${y=>{y.stopPropagation()}}
              classesPrefix="comments__dropdown"
              parentComponent="comments"
            >
              <button
                slot="dropdown"
                class="${this.getClasses("icons")} ${this.getClasses("options-icon")} icon-button icon-button--clickable icon-button--small"
              >
                <superviz-icon name="more" size="sm"></superviz-icon>
              </button>
            </superviz-dropdown>
          </div>
        </div>

        <div class="comments__comment-item__content">
          <div class="${pe(b)}">${l()} ${c()}</div>
        </div>
      </div>
      <superviz-comments-delete-comments-modal
        ?open=${this.deleteCommentModalOpen}
        @close=${h}
        @confirm=${this.confirmDelete}
      >
      </superviz-comments-delete-comments-modal>
    `}};Go.styles=nie,Go.properties={uuid:{type:String},annotationId:{type:String},avatar:{type:String},username:{type:String},text:{type:String},resolved:{type:Boolean},resolvable:{type:Boolean},createdAt:{type:String},mode:{type:String},deleteCommentModalOpen:{type:Boolean},primaryComment:{type:Boolean},isSelected:{type:Boolean},annotationFilter:{type:String},participantsList:{type:Object},mentions:{type:Array},class:{type:String}},Go=ge([_e("superviz-comments-comment-item")],Go)});var Zm,_L=k(()=>{p();Zm=class{constructor(){this.keys=["@"];this.input=null,this.mentions=[]}setInput(t){this.event=t,this.input=t.target,this.key=t.data}getMentions(t,e=[]){return e.length>0&&(this.mentions=e),this.mentions.filter(i=>((o,u)=>u.includes(o.name))(i,t))}setMentions(t){this.mentions=t}addMention(t){this.mentions.some(i=>i.userId===t.userId)||this.mentions.push(t)}clearMentions(){this.mentions=[]}getSelectionPosition(){let t=this.getSelectionStart(),e=this.getLastKeyBeforeCaret(t);return{start:((e==null?void 0:e.keyIndex)??-1)+1,end:t}}getSelectionStart(){var t;return(t=this.input)==null?void 0:t.selectionStart}setCaretPosition(t){this.input.selectionEnd=t}getValue(){var t;return(t=this.input)==null?void 0:t.value}setValue(t){this.input.value=t}getLastKeyBeforeCaret(t){let[e]=this.keys.map(i=>({key:i,keyIndex:this.getValue().lastIndexOf(i,t-1)})).sort((i,n)=>n.keyIndex-i.keyIndex);return e}searchMention(t,e){return e!==-1?this.getValue().substring(e+1,t):null}isDeletion(){return this.event.inputType==="deleteContentBackward"||this.event.inputType==="deleteContentForward"||this.event.inputType==="deleteWordBackward"}insertMention(t,e,i){if(this.isDeletion())return;let{id:n,name:o}=i,u=`${this.getValue().slice(0,t)+o} ${this.getValue().slice(e,this.getValue().length)}`;this.setValue(u),this.input.focus(),this.addMention({userId:n,name:o}),this.setCaretPosition(t+o.length+1)}}});var Pw,oie,sie,wL,EL,SL=k(()=>{p();Pw={SHOW:"show",HIDE:"hide"},oie={action:Pw.HIDE,mentions:[],findDigitParticipant:!1},sie=(r,t,e)=>{var o,u;let i=[];if(i=e==null?void 0:e.filter(l=>l==null?void 0:l.email),r.length>0&&(i=i.filter(l=>(l==null?void 0:l.name.toLowerCase().search(r.toLowerCase()))!==-1),r===((u=(o=i[0])==null?void 0:o.name)==null?void 0:u.toLowerCase()))){let l=wL(i,t);return{action:Pw.HIDE,mentions:l,findDigitParticipant:!0}}if(!((i==null?void 0:i.length)>0))return oie;let n=wL(i,t);return{action:Pw.SHOW,mentions:n,findDigitParticipant:!1}},wL=(r,t)=>r.map(e=>({id:e.id,name:e.name,avatar:e.avatar,email:e.email,position:t})),EL={matchParticipant:(r,t,e)=>sie(r,t,e)}});var TL={};pt(TL,{CommentsCommentInput:()=>Zo});var OL,aie,Zo,PL=k(()=>{p();me();ar();ct();jt();Sr();_L();SL();Hr();st();OL=Se(le),aie=[OL.styles,A_],Zo=class extends OL{constructor(){super();this.pinCoordinates=null;this.autoCompleteHandler=new Zm;this.addAtSymbolInCaretPosition=()=>{let e=this.shadowRoot.querySelector(".comments__input__textarea"),i=new InputEvent("input",{bubbles:!0,cancelable:!0});Object.defineProperty(i,"data",{value:"@",writable:!0}),e.dispatchEvent(i)};this.getCommentInput=()=>this.shadowRoot.querySelector(".comments__input__textarea");this.userMentionedByTextInput=e=>{this.mentionList=[];let i={detail:{...e[0]}};this.insertMention(i)};this.buttonAtSymbol=()=>{let e=this.autoCompleteHandler.getSelectionStart(),i=this.autoCompleteHandler.getValue();this.autoCompleteHandler.setValue(`${i.slice(0,e)}@${i.slice(e,i.length)}`),e+=1;let n=this.autoCompleteHandler.getLastKeyBeforeCaret(e),o=(n==null?void 0:n.keyIndex)??-1,u=this.autoCompleteHandler.searchMention(e,o),l={start:o+1,end:e};return{searchText:u,position:l}};this.focusInput=()=>{this.getCommentInput().focus()};this.handleInput=e=>{var w;((w=this.commentInput)==null?void 0:w.value.length)===0?this.btnActive=!1:this.btnActive=!0,this.autoCompleteHandler.setInput(e);let i=this.autoCompleteHandler.getSelectionStart(),n=this.autoCompleteHandler.getLastKeyBeforeCaret(i),o=(n==null?void 0:n.keyIndex)??-1;if(i===-1)return;let u=this.autoCompleteHandler.searchMention(i,o),l=this.autoCompleteHandler.getSelectionPosition(),c=e.data==="@"&&o===-1,h=e.data==="@"&&i-1!==o;if(c||h){let O=this.buttonAtSymbol();u=O.searchText,l=O.position}if(u===null){this.mentionList=[];return}let{action:m,mentions:b,findDigitParticipant:y}=EL.matchParticipant(u,l,this.participantsList);if(y){this.userMentionedByTextInput(b);return}m==="show"&&(this.mentionList=b),m==="hide"&&(this.mentionList=[])};this.insertMention=e=>{let{id:i,name:n,avatar:o,email:u,position:l}=e.detail;this.autoCompleteHandler.insertMention(l.start,l.end,{id:i,name:n,avatar:o,email:u}),this.mentionList=[],this.updateHeight()};this.sendEnter=e=>{var u;if(e.key!=="Escape"&&e.stopImmediatePropagation(),e.key==="Enter"&&!e.shiftKey&&e.preventDefault(),e.key!=="Enter"||e.shiftKey||((u=this.mentionList)==null?void 0:u.length)>0)return;let i=this.commentInput,n=i.value.trim();if(!n)return;let o=this.autoCompleteHandler.getMentions(n);this.emitEvent(this.eventType,{text:n,mentions:o,position:this.pinCoordinates},{composed:!1,bubbles:!1}),i.value="",this.sendBtn.disabled=!0,this.updateHeight()};this.closeEditMode=()=>{this.emitEvent("close-edit-mode",{},{composed:!1,bubbles:!1}),this.hideInput=!0};this.onTextareaFocus=()=>{let e=this.optionsContainer,i=this.horizontalRule,n=this.commentInput;e.classList.add("active-textarea"),i.classList.add("comments__input__divisor"),n.classList.add("active-textarea")};this.onTextareaLoseFocus=e=>{var c,h;let i=(h=(c=e.explicitOriginalTarget)==null?void 0:c.parentNode)==null?void 0:h.host,n=this.mentionButton;if(n===e.explicitOriginalTarget||n===e.relatedTarget)return;if(this.closeButton.contains(i)||this.closeButton.contains(e.explicitOriginalTarget)||this.closeButton.contains(e.relatedTarget)){this.cancelComment();return}if(!this.shadowRoot.contains(e.target))return;let o=this.optionsContainer,u=this.horizontalRule,l=this.commentInput;l.value.length||(o.classList.remove("active-textarea"),u.classList.remove("comments__input__divisor"),l.classList.remove("active-textarea"))};this.cancelComment=()=>{document.body.dispatchEvent(new KeyboardEvent("keyup",{key:"Escape"}))};this.commentInputEditableOptions=()=>{var e;if(this.editable)return j`
      <button
        id="close"
        @click=${this.closeEditMode}
        class="icon-button icon-button--medium icon-button--clickable comments__input__button comments__input__close-button"
      >
        <superviz-icon name="close" size="sm"></superviz-icon>
      </button>
      <button
        id="confirm"
        class="icon-button icon-button--medium icon-button--clickable icon-button--no-hover comments__input__button comments__input__send-button"
        disabled
        @click=${this.send}
      >
        <superviz-icon
          color=${(e=this.sendBtn)!=null&&e.disabled||!this.sendBtn?"black":"white"}
          name="check"
          size="sm"
        ></superviz-icon>
      </button>
    `};this.commentInputOptions=()=>{var e;if(!this.editable)return j`
      <button
        class="icon-button icon-button--medium icon-button--clickable comments__input__button comments__input__close-button align-send-btn"
        @click=${this.cancelComment}
      >
        <superviz-icon name="close" size="sm"></superviz-icon>
      </button>
      <button
        class="comments__input__button comments__input__send-button align-send-btn"
        disabled
        @click=${this.send}
      >
        <superviz-icon
          color=${(e=this.sendBtn)!=null&&e.disabled||!this.sendBtn?"black":"white"}
          name="line-arrow-right"
          size="sm"
        ></superviz-icon>
      </button>
    `};this.btnActive=!1,this.text="",this.mentionList=[],this.mentions=[],this.mode="readonly"}get commentInput(){return this.shadowRoot.querySelector(".comments__input__textarea")}get mentionButton(){return this.shadowRoot.querySelector(".mention-button")}get sendBtn(){return this.shadowRoot.querySelector(".comments__input__send-button")}get optionsContainer(){return this.shadowRoot.querySelector(".comments__input__options")}get horizontalRule(){return this.shadowRoot.querySelector(".sv-hr")}get closeButton(){return this.shadowRoot.querySelector(".comments__input__close-button")}connectedCallback(){super.connectedCallback(),["create-annotation","create-comment"].includes(this.eventType)&&this.addEventListener("keyup",this.sendEnter)}disconnectedCallback(){if(super.disconnectedCallback(),!["create-annotation","create-comment"].includes(this.eventType))return;let e=this.getCommentInput();this.removeEventListener("keyup",this.sendEnter),e.removeEventListener("keydown",this.sendEnter),e.removeEventListener("click",this.focusInput),e.addEventListener("input",this.handleInput)}firstUpdated(e){this.updateComplete.then(()=>{this.emitEvent("comment-input-ready",{},{composed:!1,bubbles:!1});let i=this.getCommentInput();if(i&&(i.addEventListener("input",this.handleInput),i.addEventListener("click",this.focusInput),i.addEventListener("keydown",this.sendEnter)),this.text.length>0){let n=this.participantsList.map(({id:o,name:u})=>({userId:o,name:u}));this.mentions=this.autoCompleteHandler.getMentions(this.text,n),this.autoCompleteHandler.setMentions(this.mentions)}this.editable&&this.focusInput(),He.call(this,["comments"])})}updated(e){if(e.has("mode")&&this.mode==="editable"&&(this.focusInput(),this.updateHeight(),this.sendBtn.disabled=!1,this.btnActive=!0),e.has("text")&&this.text.length>0){let i=this.commentInput;i.value=this.text,this.updateHeight()}e.has("btnActive")&&(this.sendBtn.disabled=!this.btnActive)}updateHeight(){let e=this.commentInput;e.style.height="40px";let i=e.scrollHeight+14;i===47&&(i=40),e.style.height=`${i}px`,this.sendBtn.disabled=!(e.value.length>0)}send(e){var u;if(e.preventDefault(),((u=this.mentionList)==null?void 0:u.length)>0)return;let i=this.commentInput,n=i.value,o=this.autoCompleteHandler.getMentions(n);this.emitEvent(this.eventType,{text:n,mentions:o,position:this.pinCoordinates},{composed:!1,bubbles:!1}),i.value="",this.sendBtn.disabled=!0,this.updateHeight()}render(){let e={comments__input__textarea:!0,"fixed-width":this.eventType==="create-annotation"},i={comments__input:!0,"comments__input--editable":this.editable,"hide-input":this.hideInput};return j`
      <div class="${pe(i)}">
        <textarea
          id="comments__input__textarea"
          class=${pe(e)}
          placeholder=${this.placeholder??"Add comment..."}
          @input=${this.updateHeight}
          @focus=${this.onTextareaFocus}
          @blur=${this.onTextareaLoseFocus}
          spellcheck="false"
        ></textarea>
        <superviz-comments-mention-list
          .participants=${this.mentionList}
          @participant-selected=${this.insertMention}
        ></superviz-comments-mention-list>
        <div class="sv-hr"></div>
        <div class="comments__input__options">
          <button
            @click=${this.addAtSymbolInCaretPosition}
            class="mention-button icon-button icon-button--medium icon-button--clickable"
          >
            <superviz-icon name="mention" size="sm"></superviz-icon>
          </button>
          <div class="comment-input-options">
            ${this.commentInputOptions()} ${this.commentInputEditableOptions()}
          </div>
        </div>
      </div>
    `}};Zo.styles=aie,Zo.properties={eventType:{type:String},text:{type:String},btnActive:{type:Boolean},editable:{type:Boolean},placeholder:{type:String},mentions:{type:Array},mentionList:{type:Object},participantsList:{type:Object},hideInput:{type:Boolean},mode:{type:String}},Zo=ge([_e("superviz-comments-comment-input")],Zo)});var xL={};pt(xL,{CommentsAnnotationPin:()=>Jo});var AL,uie,Jo,CL=k(()=>{p();me();ar();ft();ct();jt();Sr();Hr();st();AL=Se(le),uie=[AL.styles,M_],Jo=class extends AL{constructor(){super();this.focusInput=()=>{var e,i;this.inputElement||(this.inputElement=(i=(e=this.shadowRoot)==null?void 0:e.querySelector("superviz-comments-comment-input"))==null?void 0:i.shadowRoot.querySelector("textarea")),this.inputElement.focus()};this.setInputSide=()=>{let o=this.commentsSide==="right"?320:0,u=this.annotationSides.right+293,l=this.containerSides.right-o;if(u<l){this.horizontalSide="right";return}o=this.commentsSide==="left"?320:0;let c=this.annotationSides.left-293,h=this.containerSides.left+o;if(c>h){this.horizontalSide="left";return}this.horizontalSide=h-c>u-l?"right":"left"};this.createComment=({detail:e})=>{this.annotationSent=!0,document.body.dispatchEvent(new CustomEvent("create-annotation",{detail:{...e,position:{...this.originalPosition,type:"canvas"}}})),this.annotation=null};this.cancelTemporaryAnnotation=()=>{this.annotation=null};this.cancelTemporaryAnnotationEsc=e=>{this.annotation=null};this.avatar=()=>{if(this.type==="add"&&!this.showInput)return j`<div
        class="comments__annotation-pin__avatar comments__annotation-pin__avatar--add"
      >
        <superviz-icon name="add"></superviz-icon>
      </div>`;let e=this.userAvatar;return e?j`<div class="comments__annotation-pin__avatar">
        <img src=${e} />
      </div>`:j`<div class="comments__annotation-pin__avatar">
      <p class="text text-bold text-big">${this.userInitial}</p>
    </div>`};this.input=()=>{if(!(!this.showInput||this.annotationSent))return j`<div class="floating-input">
      <superviz-comments-comment-input
        @create-annotation=${this.createComment}
        eventType="create-annotation"
        @comment-input-ready=${this.focusInput}
        participantsList=${JSON.stringify(this.participantsList)}
      >
      </superviz-comments-comment-input>
    </div>`};this.position={x:0,y:0},setTimeout(()=>{this.firstLoad=!1},800)}updated(e){super.updated(e),!(!e.has("movedPosition")||!this.annotationSides)&&(this.annotationSides=this.pinAnnotation.getBoundingClientRect(),this.setInputSide(),this.inputElement&&this.focusInput())}firstUpdated(e){var i;super.firstUpdated(e),He.call(this,["comments"]),this.showInput&&(this.originalPosition={...this.position},this.pinAnnotation=(i=this.shadowRoot)==null?void 0:i.querySelector(".comments__annotation-pin"),this.annotationSides=this.pinAnnotation.getBoundingClientRect(),this.setInputSide())}connectedCallback(){if(super.connectedCallback(),this.type!=="add")return;let{localParticipant:e}=this.useStore("global-store");e.subscribe(i=>{var n;this.localAvatar=(n=i==null?void 0:i.avatar)==null?void 0:n.imageUrl,this.localName=i==null?void 0:i.name}),window.document.body.addEventListener("close-temporary-annotation",this.cancelTemporaryAnnotation),window.document.body.addEventListener("keyup",i=>{i.key==="Escape"&&this.cancelTemporaryAnnotationEsc(i)})}disconnectedCallback(){super.disconnectedCallback(),this.type==="add"&&(window.document.body.removeEventListener("close-temporary-annotation",this.cancelTemporaryAnnotation),window.document.body.removeEventListener("keyup",e=>{e.key==="Escape"&&this.cancelTemporaryAnnotationEsc(e)}))}get userAvatar(){var e,i,n,o;return((o=(n=(i=(e=this.annotation)==null?void 0:e.comments)==null?void 0:i.at(0))==null?void 0:n.participant)==null?void 0:o.avatar)||this.localAvatar}get userInitial(){var i,n,o,u;return((((u=(o=(n=(i=this.annotation)==null?void 0:i.comments)==null?void 0:n.at(0))==null?void 0:o.participant)==null?void 0:u.name)??this.localName)||"Anonymous")[0].toUpperCase()}emitClick(){var e;document.body.dispatchEvent(new CustomEvent("select-annotation",{detail:{uuid:(e=this.annotation)==null?void 0:e.uuid}}))}render(){let e={"comments__annotation-pin":!0,preload:this.firstLoad===void 0,"comments__annotation-pin--active":this.active,"comments__cursor-pointer":this.type==="add"&&!this.showInput,"comments__annotation-pin--add":this.type==="add"&&this.showInput,[this.horizontalSide]:!0},i={"comments__annotation-pin-wrapper":!0,"comments__annotation-pin-wrapper--new":this.newPin},n=this.keepPositionRatio?"%":"px",o=`top: ${this.position.y}${n}; left: ${this.position.x}${n};`;return this.type==="add"?j`
        <div class=${pe(e)} style=${o}>${this.avatar()} ${this.input()}</div>
      `:j`<div class=${pe(i)} style=${o}>
      <div @click=${this.emitClick} class=${pe(e)}>${this.avatar()}</div>
    </div> `}};Jo.styles=uie,Jo.properties={type:{type:String},annotation:{type:Object},position:{type:Object},active:{type:Boolean},showInput:{type:Boolean},containerSides:{type:Object},horizontalSide:{type:String},commentsSide:{type:String},movedPosition:{type:String},pinAnnotation:{type:Object},localAvatar:{type:String},annotationSent:{type:Boolean},localName:{type:String},keepPositionRatio:{type:Boolean},participantsList:{type:Object},firstLoad:{type:Boolean},newPin:{type:Boolean}},Jo=ge([_e("superviz-comments-annotation-pin")],Jo)});var IL={};pt(IL,{CommentsAnnotationItem:()=>Ko});var ML,lie,Ko,LL=k(()=>{p();me();ar();ct();jt();Sr();Hr();st();ML=Se(le),lie=[ML.styles,x_],Ko=class extends ML{constructor(){super(...arguments);this.selectAnnotation=e=>{let{uuid:i}=this.annotation;document.body.dispatchEvent(new CustomEvent("select-annotation",{detail:{uuid:i}}))};this.resolveAnnotation=({detail:e})=>{let{uuid:i}=this.annotation,{resolved:n,type:o}=e,u=o==="resolve-annotation"&&this.annotationFilter==="All comments";this.emitEvent("resolve-annotation",{uuid:i,resolved:n}),u&&(this.shouldShowUndoResolved=!0)};this.hideUndoResolved=()=>{this.shouldShowUndoResolved=!1};this.generateExpandedCommentsTemplate=(e,i)=>{var n,o,u,l;return i===0?j``:j`
      <superviz-comments-comment-item
        uuid=${e.uuid}
        avatar=${(l=(u=(o=(n=this.annotation)==null?void 0:n.comments)==null?void 0:o.at(i))==null?void 0:u.participant)==null?void 0:l.avatar}
        username=${e.participant.name||"Anonymous"}
        text=${e.text}
        createdAt=${e.createdAt}
        annotationId=${this.annotation.uuid}
        participantsList=${JSON.stringify(this.participantsList)}
        mentions=${JSON.stringify(e.mentions)}
        class="comments__replies"
      ></superviz-comments-comment-item>
    `};this.updateEditMode=({detail:{editing:e}})=>{this.hideInput=e}}firstUpdated(e){super.firstUpdated(e),this.updateComplete.then(()=>{He.call(this,["comments"])})}get filterIsAll(){return this.annotationFilter==="All comments"}get filterIsResolved(){return this.annotationFilter==="Resolved comments"}get shouldHideAnnotation(){return{hidden:this.resolved&&this.filterIsAll||!this.resolved&&this.filterIsResolved}}get replies(){return[...this.annotation.comments].splice(1).length}get repliesSize(){return this.replies>=5?5:this.replies}get replyText(){return this.replies!==1?"replies":"reply"}get isSelected(){return this.selected===this.annotation.uuid}get annotationClasses(){return{comments__thread:!0,"comments__thread--selected":this.isSelected,"extra-space-bottom":this.replies}}get mainAnnotationClasses(){return{"comments__main-annotation":!0,"comments__main-annotation--selected":this.isSelected}}get hrClasses(){return{"sv-hr":!0,hidden:this.isLastAnnotation}}get avatarCommentsClasses(){return{"avatars-comments":!0,"comment-avatar--expand":!this.expandComments&&this.replies>1,invisible:!(!this.expandComments&&this.replies>=1)}}get containerWrapperClasses(){return{"comments-container-wrapper":!0,show:this.isSelected&&this.expandComments}}get commentsClasses(){return{"comments-container":!0,"comment-item--expand":this.isSelected&&this.expandComments,show:this.isSelected&&this.expandComments}}updated(e){if(e.has("selected")){let i=this.selected===this.annotation.uuid;this.expandComments=i}}createComment({detail:e}){let{text:i,mentions:n}=e;this.emitEvent("create-comment",{uuid:this.annotation.uuid,mentions:n,text:i})}generateAvatarCommentsTemplate(){var i,n,o,u,l,c;let e=[];for(let h=1;h<=this.repliesSize;h++)(n=(i=this.annotation.comments[h])==null?void 0:i.participant)!=null&&n.avatar?e.push(j`
          <div class="avatar">
            <img src=${(u=(o=this.annotation.comments[h])==null?void 0:o.participant)==null?void 0:u.avatar} />
          </div>
        `):e.push(j`
          <div class="avatar">
            <p class="text text-bold">
              ${((c=(l=this.annotation.comments[h])==null?void 0:l.participant.name[0])==null?void 0:c.toUpperCase())||"A"}
            </p>
          </div>
        `);return j`
      ${e}
      <div class="text text-big sv-gray-500">${this.replies} ${this.replyText}</div>
    `}annotationResolvedTemplate(){return this.shouldShowUndoResolved?j`
      <superviz-comments-annotation-resolved
        @undo-resolve=${this.resolveAnnotation}
        @hide=${this.hideUndoResolved}
        class=${pe({hidden:this.filterIsResolved,"comments__resolved-annotation-message":!0})}
      >
      </superviz-comments-annotation-resolved>
    `:j``}get inputClasses(){return{"hide-input":this.hideInput}}get wrapperClasses(){return{wrapper:!0,"show-wrapper":!this.resolved&&this.filterIsAll||this.resolved&&this.filterIsResolved}}render(){var i,n,o,u,l,c,h,m,b,y,w;let e={"comments__complete-annotation":!0,"comments__hide-complete-annotation":this.shouldShowUndoResolved};return j`
      <div class="${pe(e)}">
        ${this.annotationResolvedTemplate()}

        <div class=${pe(this.wrapperClasses)}>
          <div class=${pe(this.shouldHideAnnotation)}>
            <div class=${pe(this.annotationClasses)} @click=${this.selectAnnotation}>
              <div class=${pe(this.mainAnnotationClasses)}>
                <superviz-comments-comment-item
                  uuid=${(i=this.annotation.comments)==null?void 0:i[0].uuid}
                  annotationId=${this.annotation.uuid}
                  username=${((o=(n=this.annotation.comments)==null?void 0:n[0].participant)==null?void 0:o.name)||"Anonymous"}
                  text=${(u=this.annotation.comments)==null?void 0:u[0].text}
                  createdAt=${(l=this.annotation.comments)==null?void 0:l[0].createdAt}
                  participantsList=${JSON.stringify(this.participantsList)}
                  primaryComment
                  avatar=${(b=(m=(h=(c=this.annotation)==null?void 0:c.comments)==null?void 0:h.at(0))==null?void 0:m.participant)==null?void 0:b.avatar}
                  resolvable
                  ?resolved=${this.resolved}
                  annotationFilter=${this.annotationFilter}
                  @resolve-annotation=${this.resolveAnnotation}
                  mentions=${JSON.stringify((y=this.annotation.comments)==null?void 0:y[0].mentions)}
                  class="comments__annotation"
                  @edit-comment=${this.updateEditMode}
                ></superviz-comments-comment-item>
              </div>

              <div class=${pe(this.containerWrapperClasses)}>
                <div class=${pe(this.commentsClasses)}>
                  ${(w=this.annotation.comments)==null?void 0:w.map(this.generateExpandedCommentsTemplate)}
                  <span class=${pe(this.inputClasses)}>
                    <superviz-comments-comment-input
                      @create-comment=${this.createComment}
                      eventType="create-comment"
                      @click=${O=>O.stopPropagation()}
                      placeholder="Reply"
                      participantsList=${JSON.stringify(this.participantsList)}
                    ></superviz-comments-comment-input>
                  </span>
                </div>
              </div>
              <div class=${pe(this.avatarCommentsClasses)}>
                <div class="avatar-container">${this.generateAvatarCommentsTemplate()}</div>
              </div>
            </div>
            <div class=${pe(this.hrClasses)}></div>
          </div>
        </div>
      </div>
    `}};Ko.styles=lie,Ko.properties={annotation:{type:Object},expandComments:{type:Boolean},selected:{type:String,reflect:!0},resolved:{type:Boolean},shouldShowUndoResolved:{type:Boolean},isLastAnnotation:{type:Boolean},annotationFilter:{type:String},participantsList:{type:Object},hideInput:{type:Boolean}},Ko=ge([_e("superviz-comments-annotation-item")],Ko)});var kL={};pt(kL,{DeleteCommentModal:()=>Yo});var RL,cie,Yo,NL=k(()=>{p();me();ct();st();RL=Se(le),cie=[RL.styles],Yo=class extends RL{constructor(){super(...arguments);this.emitEventOpenModal=()=>{window.document.body.dispatchEvent(new CustomEvent("superviz-modal--open",{detail:{title:"DELETE COMMENT",body:j`<span class="text text-big sv-gray-600"
            >Are you sure you want to delete this comment? <br />
            This action cannot be undone</span
          >`,confirmLabel:"DELETE",confirm:!0,cancel:!0},bubbles:!0,composed:!0}))};this.toggle=()=>{this.open=!this.open}}firstUpdated(){window.document.body.addEventListener("superviz-modal--close",()=>{this.open&&this.emitEvent("close",{},{bubbles:!1,composed:!1})}),window.document.body.addEventListener("superviz-modal--confirm",()=>{this.open&&(this.emitEvent("confirm",{},{bubbles:!1,composed:!1}),this.emitEventCloseModal())})}updated(e){e.has("open")&&(this.open&&setTimeout(()=>this.emitEventOpenModal()),this.open||setTimeout(()=>this.emitEventCloseModal()))}emitEventCloseModal(){this.open&&(window.document.body.dispatchEvent(new CustomEvent("superviz-modal--close",{detail:{open:!0},bubbles:!0,composed:!0})),this.emitEvent("close",{},{bubbles:!1,composed:!1}))}render(){let e=()=>{if(this.useSlot)return j`<slot name="modal-handler" @click=${this.toggle}></slot>`},i=()=>{if(this.open)return j` <superviz-modal></superviz-modal> `};return j` ${e()} ${i()} `}};Yo.styles=cie,Yo.properties={open:{type:Boolean},useSlot:{type:Boolean}},Yo=ge([_e("superviz-comments-delete-comments-modal")],Yo)});var DL={};pt(DL,{CommentsAnnotationResolved:()=>Xo});var FL,die,pie,Xo,qL=k(()=>{p();me();ct();jt();Sr();st();FL=Se(le),die=[FL.styles,C_],pie=10*1e3,Xo=class extends FL{constructor(){super();this.setTimer=()=>{clearTimeout(this.timeout),this.isCanceled=!1,this.timeout=setTimeout(()=>{this.isCanceled||(this.timeToHide=0,this.isCanceled=!1,this.hide())},this.timeToHide)};this.timeToHide=pie,this.isCanceled=!1}firstUpdated(e){super.firstUpdated(e),this.updateComplete.then(()=>{He.call(this,["comments"]),this.setTimer()})}hide(){this.emitEvent("hide",{},{bubbles:!1,composed:!1})}undone(){this.isCanceled=!0,this.hide(),this.emitEvent("undo-resolve",{type:"undo-resolve",resolved:!1},{bubbles:!1,composed:!1}),clearTimeout(this.timeout)}render(){return this.timeToHide===0?j``:this.isCanceled?j``:j`
      <div class="comments__annotation-resolved">
        <span class="text text-big sv-gray-700 comments__annotation-resolved__text"
          >You resolved this comment</span
        >
        <button
          id="undone"
          @click=${this.undone}
          class="icon-button icon-button--clickable icon-button--medium comments__annotation-resolved__unresolve_button"
        >
          <superviz-icon name="undo" size="md"></superviz-icon>
        </button>
      </div>
    `}};Xo.styles=die,Xo.properties={timeToHide:{type:Number},isCanceled:{type:Boolean}},Xo=ge([_e("superviz-comments-annotation-resolved")],Xo)});var jL={};pt(jL,{CommentsAnnotationFilter:()=>Qo});var $L,hie,oc,Qo,BL=k(()=>{p();me();ar();ct();jt();Sr();Hr();st();$L=Se(le),hie=[$L.styles,I_],oc=[{label:"All comments"},{label:"Resolved comments"}],Qo=class extends $L{constructor(){super();this.selectClick=()=>{this.caret=this.caret==="down"?"up":"down"};this.dropdownOptionsHandler=({detail:e})=>{this.emitEvent("select",{filter:e}),this.selectClick()};this.caret="down"}firstUpdated(e){super.firstUpdated(e),this.updateComplete.then(()=>{He.call(this,["comments"])})}render(){let e=this.filter==="All comments"?oc[0].label:oc[1].label;oc[0].active=this.filter==="All comments",oc[1].active=this.filter==="Resolved comments";let i={text:!0,"text-bold":!0,"select-content":!0,"comments__filter__selected-label":!0,"sv-gray-500":this.caret==="down","sv-gray-700":this.caret==="up"};return j`
      <div class="comments__filter-container">
        <div class="comments__filter">
          <superviz-dropdown
            options=${JSON.stringify(oc)}
            position="bottom-left"
            right-offset="100px"
            @click=${this.selectClick}
            @selected=${this.dropdownOptionsHandler}
            @close=${this.selectClick}
            classesPrefix="comments__dropdown"
            parentComponent="comments"
          >
            <div class="comments__filter__toggle-button" slot="dropdown">
              <span class=${pe(i)}>${e}</span>
              <div class="comments__filter__icon">
                <superviz-icon name=${this.caret} size="xs"></superviz-icon>
              </div>
            </div>
          </superviz-dropdown>
        </div>
      </div>
    `}};Qo.styles=hie,Qo.properties={filter:{type:String},caret:{type:String}},Qo=ge([_e("superviz-comments-annotation-filter")],Qo)});var UL={};pt(UL,{CommentsFloatButton:()=>es});var WL,fie,es,HL=k(()=>{p();me();ar();ct();jt();Sr();st();WL=Se(le),fie=[WL.styles,L_],es=class extends WL{constructor(){super();this.onTogglePinActive=({detail:{isActive:e}})=>{this.isActive=e};this.isHidden=!0,this.positionStyles="top: 20px; left: 20px;",this.shouldHide=!1,this.commentsPosition="left"}firstUpdated(e){super.firstUpdated(e),this.updateComplete.then(()=>{He.call(this,["comments"])}),this.mouseHovering=!1;let i=this.shadowRoot.querySelector(".comments__floating-button");i.addEventListener("mouseenter",()=>{setTimeout(()=>i.classList.add("comments-floating-button-hovered"),300),this.mouseHovering=!0}),i.addEventListener("mouseleave",()=>{i.classList.remove("comments-floating-button-hovered"),this.mouseHovering=!1})}toggle(){this.emitEvent("toggle",{})}connectedCallback(){super.connectedCallback(),window.document.body.addEventListener("toggle-annotation-sidebar",()=>{this.isHidden=!this.isHidden}),window.document.body.addEventListener("toggle-pin-active",this.onTogglePinActive)}disconnectedCallback(){super.disconnectedCallback(),window.document.body.removeEventListener("toggle-annotation-sidebar",()=>{this.isHidden=!this.isHidden}),window.document.body.removeEventListener("toggle-pin-active",this.onTogglePinActive)}updated(e){super.updated(e),this.updateComplete.then(()=>{let i=this.shadowRoot.querySelector(".comments__floating-button");i&&i.setAttribute("style",this.positionStyles)})}calculateIfShouldHide(){var R;let e=(R=document.getElementsByTagName("superviz-comments")[0])==null?void 0:R.shadowRoot.querySelector(".superviz-comments"),i=this.shadowRoot.querySelector(".comments__floating-button");if(!e||!i)return;let{left:n,right:o,top:u,bottom:l}=e.getBoundingClientRect(),{left:c,right:h,top:m,bottom:b}=i.getBoundingClientRect(),y=l>m&&b>u,w=u<b&&m<l,O=o>c&&h>n,x=n<h&&c<o;this.shouldHide=(w||y)&&(O||x)}render(){this.calculateIfShouldHide();let e={"comments__floating-button":!0,"hide-button":!this.isHidden&&this.shouldHide,"is-active":this.isActive,"is-inactive":!this.isActive},i={"comments__floating-button-text-box":!0,"comments__floating-button-text-box--hovered":this.mouseHovering},n={text:!0,"text-big":!0,"text-bold":!0,"not-hovered":!this.mouseHovering,"comments__floating-button__text":!0,textActive:this.isActive,textInactive:!this.isActive};return j` <button @click=${this.toggle} class="${pe(e)}">
      <div class="comments__floating-button__icon">
        <superviz-icon
          size="sm"
          name="comment"
          color=${this.mouseHovering||this.isActive?"white":"black"}
        ></superviz-icon>
        <svg class="cross" width="8px" height="8px" viewBox="0 0 8 8">
          <rect class="cross-bar-1" x="0" y="3" width="8px" height="2px" />
          <rect class="cross-bar-2" x="0" y="3" width="8px" height="2px" />
        </svg>
      </div>
      <div class=${pe(i)}>
        <p class="${pe(n)} comment">Comment</p>
        <p class="${pe(n)} cancel">Cancel</p>
      </div>
    </button>`}};es.styles=fie,es.properties={positionStyles:{type:String},isHidden:{type:Boolean},commentsPosition:{type:String},isActive:{type:Boolean},mouseHovering:{type:Boolean}},es=ge([_e("superviz-comments-button")],es)});var VL={};pt(VL,{CommentsMentionList:()=>ts});var zL,mie,ts,GL=k(()=>{p();me();Ol();ct();Sr();st();zL=Se(le),mie=[zL.styles,k_],ts=class extends zL{constructor(){super();this.showMentionList=()=>{var i;let e=(i=this.shadowRoot)==null?void 0:i.getElementById("mention-list");e==null||e.style.setProperty("display","block"),e==null||e.style.setProperty("margin-top","1px"),e.addEventListener("wheel",this.stopHandleZoom)};this.hideMentionList=()=>{var i;let e=(i=this.shadowRoot)==null?void 0:i.getElementById("mention-list");e.removeEventListener("wheel",this.stopHandleZoom),e==null||e.style.setProperty("display","none")};this.selectParticipant=e=>{this.emitEvent("participant-selected",e,{bubbles:!1,composed:!1}),this.hideMentionList()};this.stopHandleZoom=e=>{var n;let i=(n=this.shadowRoot)==null?void 0:n.getElementById("mention-list");i.scrollTop+=e.deltaY,e.preventDefault()};this.participants=[]}updated(e){if(e.has("participants")&&this.participants.length>0){this.showMentionList();return}this.hideMentionList()}getAvatar(e){var i;return e.avatar?j`<img class="avatar" src=${e.avatar} />`:j`<div class="default-avatar">
      <p class="text text-bold">${((i=e.name[0])==null?void 0:i.toUpperCase())||"A"}</p>
    </div>`}render(){let e=i=>j`
      <div class="mention-item" @click=${()=>this.selectParticipant(i)}>
        ${this.getAvatar(i)}
        <div class="avatar-type">${i.name}</div>
      </div>
    `;return j`
      <div id="mention-list">
        ${Cn(this.participants,i=>i.id,i=>j` ${e(i)} `)}
      </div>
    `}};ts.styles=mie,ts.properties={participants:{type:Object}},ts=ge([_e("superviz-comments-mention-list")],ts)});var Aw,xw=k(()=>{p();Aw=(n=>(n.TOP_LEFT="top-left",n.TOP_RIGHT="top-right",n.BOTTOM_LEFT="bottom-left",n.BOTTOM_RIGHT="bottom-right",n))(Aw||{})});var Cw,ZL=k(()=>{p();me();Cw=ue`
  .who-is-online__participant-list {
    display: flex;
    align-items: center;
    gap: 4px;
    position: relative;
  }

  .who-is-online {
    display: flex;
    flex-direction: column;
    position: fixed;
    z-index: 99;
  }

  .who-is-online__presence-control-message__text {
    margin: 0;
  }

  .who-is-online__participant {
    border-radius: 50%;
    box-sizing: border-box;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    user-select: none;
    cursor: pointer;
    transition: opacity 0.3s ease-in-out;
    border: 2px solid #878291;
    border-radius: 50%;
    max-width: 40px;
    flex: 1 0 40px;
  }

  .followed {
    border-style: dashed !important;
    animation: rotate 15s linear infinite;
  }

  .followed .who-is-online__participant__avatar {
    animation: nullifyRotate 15s linear infinite;
  }

  .private {
    opacity: 0.3;
  }

  @keyframes rotate {
    100% {
      transform: rotate(1turn);
    }
  }

  @keyframes nullifyRotate {
    100% {
      transform: rotate(-1turn);
    }
  }

  .who-is-online__participant.disable-dropdown {
    cursor: default;
  }

  .who-is-online__participant__avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Open Sans';
    font-size: 14px;
    line-height: 14px;
    line-height: 14px;
    font-weight: bold;
    color: #26242a;
    object-fit: contain;
  }

  .superviz-who-is-online__excess {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: Roboto;
    font-size: 14px;
    line-height: 16px;
    text-align: center;
    font-weight: bold;
    cursor: pointer;
    color: #aea9b8;
  }

  .excess_participants:hover,
  .excess_participants--open {
    background-color: #aea9b8 !important;
  }

  .excess_participants:hover > div,
  .excess_participants--open > div {
    color: #fff !important;
  }

  @media (max-width: 780px) {
    .who-is-online__participant {
      width: 32px;
      height: 32px;
    }

    .who-is-online__participant {
      flex: 1 0 32px;
      max-width: 32px;
    }

    .who-is-online__participant__avatar {
      width: 24px;
      height: 24px;
    }

    .who-is-online__participant-list {
      gap: 8px;
    }

    .superviz-who-is-online__excess {
      width: 24px;
      height: 24px;
      font-size: 12px;
      line-height: 12px;
    }
  }
`});var Mw,JL=k(()=>{p();me();Mw=ue`
  .dropdown {
    position: relative;
  }

  .who-is-online__extra-participant {
    display: flex;
    user-select: none;
    align-items: center;
    justify-items: start;
    gap: 4px;
    width: 100%;
    padding: 10px;
    border-radius: 2px;
    position: relative;
    cursor: pointer;
  }

  .who-is-online__extra-participant.disable-dropdown {
    cursor: default;
  }

  .who-is-online__extra-participant:hover,
  .who-is-online__extra-participant--selected {
    background-color: rgb(var(--sv-gray-200));
  }

  .who-is-online__participant {
    border-radius: 50%;
    box-sizing: border-box;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border: 2px solid #878291;
    border-radius: 50%;
    max-width: 40px;
    flex: 1 0 40px;
  }

  .who-is-online__participant__avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Open Sans';
    font-size: 14px;
    line-height: 14px;
    font-weight: bold;
    color: #26242a;
    object-fit: contain;
  }

  .dropdown-list {
    position: relative;
    display: flex;
    flex-direction: column;
    z-index: 100;
  }

  .dropdown-list > div {
    padding: 4px;
    width: 216px;
    box-sizing: border-box;
  }

  .who-is-online__extras-dropdown {
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    opacity: 0;
    display: none;
    background: #fff;
    padding: 0;
    z-index: 1;
    transition: 0.2s;
    border-radius: 3px;
    max-height: 240px;
    overflow: auto;
  }

  .who-is-online__extras-dropdown superviz-dropdown:hover {
    z-index: 999;
    position: relative;
  }

  .who-is-online__extras__arrow-icon {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .menu--bottom {
    top: 4px;
    min-width: 103px;
    position: absolute;
    right: 0;
  }

  .menu--top {
    bottom: 44px;
    min-width: 103px;
    position: absolute;
    right: 0px;
  }

  .menu-open {
    display: block;
    opacity: 1;
  }

  .superviz-who-is-online-dropdown__tooltip {
    background-color: rgb(var(--sv-gray-600));
    padding: 8px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    align-items: center;
    position: absolute;
    top: 52px;
    left: 50%;
    transform: translateX(-50%);
    border-radius: 2px;
    opacity: 0;
    cursor: default;
    display: none;
    transition: opacity 0.2s ease-in-out display 0s;
  }

  .superviz-who-is-online-dropdown__tooltip-arrow {
    width: 13px;
    height: 13px;
    position: absolute;
    top: 0px;
    left: 50%;
    transform: rotate(45deg) translateX(-50%);
    background-color: rgb(var(--sv-gray-600));
    border-top-left-radius: 3px;
  }

  .dropdown-content:hover + .superviz-who-is-online-dropdown__tooltip {
    opacity: 1;
    display: block;
  }

  .tooltip-content {
    margin: 0;
    font-family: roboto;
    white-space: nowrap;
    text-align: center;
    color: white;
    font-size: 14px;
  }

  .who-is-online__extras__username {
    font-size: 14px;
    line-height: 20px;
    font-family: 'Open sans';
    color: rgb(var(--sv-gray-600));
  }

  .icon {
    flex: 1;
    justify-content: flex-end;
    display: flex;
  }

  .hide-icon {
    display: none;
  }

  @media (max-width: 780px) {
    .sv-icon,
    .who-is-online__participant {
      width: 32px;
      height: 32px;
    }

    .who-is-online__participant {
      flex: 1 0 32px;
      max-width: 32px;
    }

    .who-is-online__participant__avatar {
      width: 24px;
      height: 24px;
    }

    .dropdown-list > div {
      width: 192px;
    }

    .menu--top {
      bottom: 36px;
    }

    .superviz-who-is-online-dropdown__tooltip {
      top: 44px;
    }
  }
`});var Iw,KL=k(()=>{p();me();Iw=ue`
  .who-is-online__controls-messages {
    position: absolute;
    right: 0;
    display: flex;
    flex-direction: column;
    gap: 5px;
    margin-top: 4px;
  }

  .who-is-online__presence-control-message {
    box-sizing: border-box;
    font-size: 12px;
    padding: 8px 10px;
    font-family: 'Roboto';
    border-radius: 6px;
    background-color: #fff;
    color: rgb(var(--sv-gray-700));
    border: 2px solid #e0e0e0;
    white-space: nowrap;
  }

  .who-is-online__pcm__text {
    margin: 0;
  }

  .who-is-online__presence-control-message span {
    margin-left: 3px;
    text-decoration: underline;
    cursor: pointer;
  }

  .left-side {
    left: 0;
  }

  .right-side {
    right: 0;
  }

  .left-side .who-is-online__presence-control-message {
    align-self: flex-start;
  }

  .right-side .who-is-online__presence-control-message {
    align-self: flex-end;
  }

  .bottom-side {
    bottom: auto;
    top: calc(100% + 5px);
  }

  .top-side {
    top: auto;
    bottom: calc(100% + 5px);
  }
`});var Jm=k(()=>{p();ZL();JL();KL()});var YL,gie,jn,XL=k(()=>{p();me();ar();Ol();Gt();ft();xw();ct();jt();Jm();st();YL=Se(le),gie=[YL.styles,Cw],jn=class extends YL{constructor(){super();this.onClickOutDropdown=({detail:e})=>{this.open=e.open};this.toggleShowTooltip=()=>{this.showTooltip=!this.showTooltip};this.dropdownOptionsHandler=({detail:{label:e,participantId:i,source:n}})=>{switch(e){case"go to":this.handleGoTo(i);break;case"follow":this.handleLocalFollow(i,n);break;case"unfollow":this.handleLocalUnfollow();break;case"private mode":this.handlePrivate(i);break;case"leave private mode":this.handleCancelPrivate(i);break;case"everyone follows me":this.handleFollow(i,n);break;case"stop followers":this.handleStopFollow();break;case"gather all":this.handleGatherAll(i);break;default:break}};this.position="top: 20px; right: 40px;",this.showTooltip=!0,this.open=!1;let{localParticipant:e}=this.useStore("global-store"),{participants:i,following:n,extras:o,disablePresenceControls:u}=this.useStore("who-is-online-store");i.subscribe(l=>{this.participants=l}),n.subscribe(),u.subscribe(),o.subscribe(l=>{this.amountOfExtras=l.length}),e.subscribe(l=>{var h,m;let c=(h=l.activeComponents)==null?void 0:h.some(b=>b.toLowerCase().includes("presence"));this.localParticipantData={id:l.id,joinedPresence:(m=l.activeComponents)==null?void 0:m.some(b=>b.toLowerCase().includes("presence"))},this.disableDropdown=!c})}firstUpdated(e){super.firstUpdated(e),He.call(this,"who-is-online")}toggleOpen(){this.open=!this.open}dropdownPosition(e){if(this.participants.length===1)return"bottom-center";if(e===0)return"bottom-right";let i=this.participants.length>4,n=e+1===this.participants.length;return i||!n?"bottom-center":"bottom-left"}renderExtras(){var i;if(!this.amountOfExtras)return;let e={"who-is-online__participant":!0,excess_participants:!0,"excess_participants--open":this.open};return j`
      <superviz-who-is-online-dropdown
        @selected=${this.dropdownOptionsHandler}
        @clickout=${this.onClickOutDropdown}
        ?disableDropdown=${this.disableDropdown}
        ?showSeeMoreTooltip=${this.showTooltip}
        @toggle=${this.toggleOpen}
        @toggle-dropdown-state=${this.toggleShowTooltip}
        ?localParticipantJoinedPresence=${(i=this.localParticipantData)==null?void 0:i.joinedPresence}
        classesPrefix="who-is-online__controls"
        parentComponent="who-is-online"
        tooltipPrefix="who-is-online"
      >
        <div class=${pe(e)} slot="dropdown">
          <div class="superviz-who-is-online__excess who-is-online__extras">
            +${this.amountOfExtras}
          </div>
        </div>
      </superviz-who-is-online-dropdown>
    `}getAvatar({color:e,imageUrl:i,firstLetter:n,letterColor:o}){return i?j` <img
        class="who-is-online__participant__avatar"
        style="background-color: ${e}"
        src=${i}
      />`:j`<div
      class="who-is-online__participant__avatar"
      style="background-color: ${e}; color: ${o}"
    >
      ${n}
    </div>`}cancelPrivate(){this.isPrivate=void 0,this.emitEvent("realtime.private-mode",{id:this.localParticipantData.id})}renderParticipants(){return this.participants.length?j`
      ${Cn(this.participants,e=>e.id,(e,i)=>{var O;let{avatar:n,id:o,name:u,tooltip:l,controls:c,disableDropdown:h,isLocalParticipant:m}=e,b=this.dropdownPosition(i),y=((O=this.following)==null?void 0:O.id)===o,w={"who-is-online__participant":!0,"disable-dropdown":h,followed:y||this.everyoneFollowsMe&&m,private:m&&this.isPrivate};return j`
            <superviz-dropdown
              options=${JSON.stringify(c)}
              returnData=${JSON.stringify({participantId:o,source:"participants"})}
              position=${b}
              name=${u}
              tooltipData=${JSON.stringify(l)}
              classesPrefix="who-is-online__controls"
              parentComponent="who-is-online"
              tooltipPrefix="who-is-online"
              ?disabled=${h}
              ?canShowTooltip=${this.showTooltip}
              @selected=${this.dropdownOptionsHandler}
              @toggle-dropdown-state=${this.toggleShowTooltip}
            >
              <div
                slot="dropdown"
                class=${pe(w)}
                style="border-color: ${n.color}"
              >
                ${this.getAvatar(n)}
              </div>
            </superviz-dropdown>
          `})}
    `:j``}handleGoTo(e){this.emitEvent("realtime.go-to-participant",{id:e})}handleLocalFollow(e,i){let{following:n}=this.useStore("who-is-online-store"),o=this.useStore("who-is-online-store")[i].value,{id:u,name:l,avatar:{color:c}}=o.find(({id:h})=>h===e);this.everyoneFollowsMe&&this.handleStopFollow(),n.publish({name:l,id:u,color:c}),this.emitEvent("realtime.local-follow-participant",{id:u,source:i})}handleLocalUnfollow(){let{following:e}=this.useStore("who-is-online-store");e.publish(void 0),this.emitEvent("realtime.local-follow-participant",{id:void 0})}handlePrivate(e){this.everyoneFollowsMe&&this.handleStopFollow(),this.emitEvent("realtime.private-mode",{id:e,isPrivate:!0}),this.isPrivate=!0}handleCancelPrivate(e){this.emitEvent("realtime.private-mode",{id:e,isPrivate:!1}),this.isPrivate=!1}handleFollow(e,i){this.isPrivate&&this.cancelPrivate();let n=this.useStore("who-is-online-store")[i].value,{id:o,name:u,avatar:{color:l}}=n.find(({id:h})=>h===e);this.everyoneFollowsMe=!0;let{following:c}=this.useStore("who-is-online-store");c.publish(void 0),this.emitEvent("realtime.follow-participant",{id:o,name:u,color:l})}handleStopFollow(){this.everyoneFollowsMe=!1,this.emitEvent("realtime.follow-participant",void 0)}handleGatherAll(e){this.isPrivate&&this.cancelPrivate(),this.emitEvent("realtime.gather",{id:e})}updated(e){super.updated(e),this.updateComplete.then(()=>{let i=this.shadowRoot.querySelector(".who-is-online");if(!i)return;let n=this.position.includes("left")?"flex-start":"flex-end",o=`${this.position} align-items: ${n};`;i.setAttribute("style",o)})}render(){return j`<div class="who-is-online who-is-online">
      <div class="who-is-online__participant-list">
        ${this.renderParticipants()} ${this.renderExtras()}
      </div>
      <superviz-who-is-online-messages
        ?everyoneFollowsMe=${this.everyoneFollowsMe}
        ?isPrivate=${this.isPrivate}
        @stop-following=${this.handleLocalUnfollow}
        @cancel-private=${this.cancelPrivate}
        @stop-everyone-follows-me=${this.handleStopFollow}
      ></superviz-who-is-online-messages>
    </div> `}};jn.styles=gie,jn.properties={position:{type:String},open:{type:Boolean},localParticipantColor:{type:String},isPrivate:{type:Boolean},everyoneFollowsMe:{type:Boolean},showTooltip:{type:Boolean}},jn=ge([_e("superviz-who-is-online")],jn)});var Lw=k(()=>{p()});var QL,yie,Bn,eR=k(()=>{p();me();ar();ft();ct();jt();Jm();Lw();wa();st();QL=Se(le),yie=[QL.styles,Iw],Bn=class extends QL{constructor(){super();this.repositionMessages=()=>{let{following:e,everyoneFollowsMe:i,isPrivate:n}=this;if(e||i||n){this.repositionInVerticalDirection(),this.repositionInHorizontalDirection(),this.animationFrame=window.requestAnimationFrame(this.repositionMessages);return}window.cancelAnimationFrame(this.animationFrame)};let{localParticipant:e}=this.useStore("global-store");e.subscribe(n=>{var o;this.participantColor=((o=n.slot)==null?void 0:o.color)??wt.gray});let{following:i}=this.useStore("who-is-online-store");i.subscribe()}firstUpdated(e){super.firstUpdated(e),He.call(this,"who-is-online")}updated(e){super.updated(e),["following","everyoneFollowsMe","isPrivate"].some(n=>e.has(n))&&this.repositionMessages()}repositionInVerticalDirection(){let e=window.innerHeight/2,{top:i}=this.parentElement.getBoundingClientRect();if(i<e){this.verticalSide="bottom-side";return}this.verticalSide="top-side"}repositionInHorizontalDirection(){let e=window.innerWidth/2,{left:i}=this.parentElement.getBoundingClientRect();if(i<e){this.horizontalSide="left-side";return}this.horizontalSide="right-side"}stopFollowing(){this.emitEvent("stop-following",{})}cancelPrivate(){this.emitEvent("cancel-private",{})}stopEveryoneFollowsMe(){this.emitEvent("stop-everyone-follows-me",{})}followingMessage(){if(!this.following)return"";let{name:e,color:i}=this.following;return j`<div
      class="who-is-online__following-message who-is-online__presence-control-message who-is-online__pcm"
      style="border-color: ${i}"
    >
      <p class="who-is-online__presence-control-message__text who-is-online__pcm__text">
        Following: ${e}
        <span
          class="who-is-online__presence-control-message__cancel-action-button who-is-online__pcm__cancel-action-button"
          @click=${this.stopFollowing}
          >Stop</span
        >
      </p>
    </div>`}everyoneFollowsMeMessage(){return this.everyoneFollowsMe?j`<div
      class="who-is-online__follow-me-message who-is-online__presence-control-message who-is-online__pcm"
      style="border-color: ${this.participantColor}"
    >
      <p class="who-is-online__presence-control-message__text who-is-online__pcm__text">
        Everyone is following you
        <span
          class="who-is-online__presence-control-message__cancel-action-button who-is-online__pcm__cancel-action-button"
          @click=${this.stopEveryoneFollowsMe}
          >Stop</span
        >
      </p>
    </div>`:""}privateMessage(){return this.isPrivate?j`<div
      class="who-is-online__private-mode-message who-is-online__presence-control-message who-is-online__pcm"
      style="border-color: ${this.participantColor}"
    >
      <p class="who-is-online__presence-control-message__text who-is-online__pcm__text">
        You are in Private Mode
        <span
          class="who-is-online__presence-control-message__cancel-action-button who-is-online__pcm__cancel-action-button"
          @click=${this.cancelPrivate}
          >Cancel</span
        >
      </p>
    </div>`:""}render(){let e={"who-is-online__controls-messages":!0,[this.verticalSide]:!0,[this.horizontalSide]:!0};return j` <div class=${pe(e)}>
      ${this.followingMessage()} ${this.everyoneFollowsMeMessage()} ${this.privateMessage()}
    </div>`}};Bn.styles=yie,Bn.properties={everyoneFollowsMe:{type:Boolean},isPrivate:{type:Boolean},verticalSide:{type:String},horizontalSide:{type:String}},Bn=ge([_e("superviz-who-is-online-messages")],Bn)});var tR,_ie,Wn,rR=k(()=>{p();me();ar();Ol();ft();ct();jt();Jm();Lw();st();tR=Se(le),_ie=[tR.styles,Mw],Wn=class extends tR{constructor(){super();this.onClickOutDropdown=e=>{if(e.stopPropagation(),!this.open)return;let i=e.composedPath(),n=this.shadowRoot.querySelector(".dropdown-content"),o=this.shadowRoot.querySelector(".dropdown-list"),l=this.shadowRoot.querySelector('slot[name="dropdown"]').assignedElements()[0],c=i.includes(n),h=i.includes(o),m=i.includes(l);c||h||m||this.close()};this.close=()=>{this.open=!1,this.selected="",this.emitEvent("clickout",{bubbles:!1,composed:!1})};this.selectParticipant=(e,i)=>()=>{i||(this.selected=e)};this.toggleShowTooltip=({detail:{open:e}})=>{this.showParticipantTooltip=!this.showParticipantTooltip,e||(this.selected="")};this.tooltip=()=>this.showSeeMoreTooltip?j`<superviz-tooltip
      tooltipData=${JSON.stringify({name:"See more"})}
      classesPrefix="who-is-online__tooltip"
      parentComponent="who-is-online"
    ></superviz-tooltip>`:"";this.repositionDropdown=()=>{if(!this.open||!this.parentElement){window.cancelAnimationFrame(this.animationFrame);return}this.repositionInVerticalDirection(),this.repositionInHorizontalDirection(),this.animationFrame=window.requestAnimationFrame(this.repositionDropdown)};this.repositionInVerticalDirection=()=>{let{bottom:e,top:i,height:n}=this.parentElement.getBoundingClientRect(),o=window.innerHeight/2;if(i+n/2>o){this.dropdownList.style.setProperty("bottom",`${window.innerHeight-i+8}px`),this.dropdownList.style.setProperty("top","");return}this.dropdownList.style.setProperty("top",`${e+8}px`),this.dropdownList.style.setProperty("bottom","")};this.repositionInHorizontalDirection=()=>{let{right:e,left:i}=this.parentElement.getBoundingClientRect();this.dropdownList.style.setProperty("right",`${window.innerWidth-e}px`),this.dropdownList.style.setProperty("left",`${i}px`)};this.selected="",this.showParticipantTooltip=!0;let{extras:e}=this.useStore("who-is-online-store");e.subscribe(i=>{this.participants=i})}firstUpdated(e){this.shadowRoot.querySelector(".who-is-online__extras-dropdown").scrollTop=0,He.call(this,"who-is-online"),this.dropdownList=this.shadowRoot.querySelector(".dropdown-list"),this.dropdownList.style.position="fixed"}updated(e){if(e.has("open")){if(this.emitEvent("toggle-dropdown-state",{open:this.open,font:"toggle"}),this.open){document.addEventListener("click",this.onClickOutDropdown);return}document.removeEventListener("click",this.onClickOutDropdown)}}getAvatar({color:e,imageUrl:i,firstLetter:n,letterColor:o}){return i?j` <img
        class="who-is-online__participant__avatar"
        style="background-color: ${e}"
        src=${i}
      />`:j`<div
      class="who-is-online__participant__avatar"
      style="background-color: ${e}; color: ${o}"
    >
      ${n}
    </div>`}renderParticipants(){if(!this.participants)return;let e=this.participants.length-1;return Cn(this.participants,i=>i.id,(i,n)=>{let{disableDropdown:o,id:u,avatar:l,controls:c,tooltip:h,name:m}=i,b={"who-is-online__extra-participant":!0,"who-is-online__extra-participant--selected":this.selected===u,"disable-dropdown":o},y={"who-is-online__extras__arrow-icon":!0,"hide-icon":o},w=n===e;return j`
        <superviz-dropdown
          options=${JSON.stringify(c)}
          returnData=${JSON.stringify({participantId:u,source:"extras"})}
          tooltipData=${JSON.stringify(h)}
          position="bottom-right"
          classesPrefix="who-is-online__controls"
          parentComponent="who-is-online"
          tooltipPrefix="who-is-online"
          ?disabled=${o}
          ?canShowTooltip=${this.showParticipantTooltip}
          ?shiftTooltipLeft=${!0}
          ?lastParticipant=${w}
          @toggle-dropdown-state=${this.toggleShowTooltip}
          @selected=${this.close}
        >
        <div 
          class=${pe(b)} 
          @click=${this.selectParticipant(u,o)} slot="dropdown">
            <div class="who-is-online__participant" style="border-color: 
            ${l.color}">
              ${this.getAvatar(l)}
            </div>
            <span class="who-is-online__extras__username">${m}</span>
            <superviz-icon 
              class=${pe(y)} 
              name="right" 
              color="var(--sv-gray-600)"
              size="sm"
            >
          </superviz-icon>
          </div>
        </div>
      </superviz-dropdown>
      `})}toggle(){this.open=!this.open,this.open&&(this.selected="",this.repositionDropdown())}get menuClasses(){return{"who-is-online__extras-dropdown":!0,"menu--bottom":this.position==="bottom-side","menu--top":this.position==="top-side","menu-open":this.open}}render(){return j`
      <div class="dropdown">
        <div class="dropdown-content" @click=${this.toggle}>
          <slot name="dropdown"></slot>
        </div>
        ${this.tooltip()}
      </div>
      <div class="dropdown-list">
        <div class=${pe(this.menuClasses)}>${this.renderParticipants()}</div>
      </div>
    `}};Wn.styles=_ie,Wn.properties={open:{type:Boolean},align:{type:String},position:{type:String},selected:{type:String},disableDropdown:{type:Boolean},showSeeMoreTooltip:{type:Boolean},showParticipantTooltip:{type:Boolean},localParticipantJoinedPresence:{type:Boolean},dropdownList:{type:Object}},Wn=ge([_e("superviz-who-is-online-dropdown")],Wn)});var iR=k(()=>{p();eR();rR()});var nR={};pt(nR,{WhoIsOnline:()=>jn,WhoIsOnlineDropdown:()=>Wn,WhoIsOnlineMessages:()=>Bn});var oR=k(()=>{p();XL();iR()});var sR={};pt(sR,{HelloWorld:()=>rs});var rs,aR=k(()=>{p();me();st();rs=class extends le{render(){return j` <div>Hello from SuperViz, ${this.name}</div> `}};rs.properties={name:{type:String}},rs.styles=ue`
    div {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: black;
      color: white;
    }
  `,rs=ge([_e("superviz-hello-world")],rs)});var dR=T((dc,Rw)=>{p();(function(r,t){typeof dc=="object"&&typeof Rw=="object"?Rw.exports=t():typeof define=="function"&&define.amd?define([],t):typeof dc=="object"?dc.bowser=t():r.bowser=t()})(dc,function(){return function(r){var t={};function e(i){if(t[i])return t[i].exports;var n=t[i]={i,l:!1,exports:{}};return r[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=r,e.c=t,e.d=function(i,n,o){e.o(i,n)||Object.defineProperty(i,n,{enumerable:!0,get:o})},e.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},e.t=function(i,n){if(1&n&&(i=e(i)),8&n||4&n&&typeof i=="object"&&i&&i.__esModule)return i;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:i}),2&n&&typeof i!="string")for(var u in i)e.d(o,u,function(l){return i[l]}.bind(null,u));return o},e.n=function(i){var n=i&&i.__esModule?function(){return i.default}:function(){return i};return e.d(n,"a",n),n},e.o=function(i,n){return Object.prototype.hasOwnProperty.call(i,n)},e.p="",e(e.s=90)}({17:function(r,t,e){"use strict";t.__esModule=!0,t.default=void 0;var i=e(18),n=function(){function o(){}return o.getFirstMatch=function(u,l){var c=l.match(u);return c&&c.length>0&&c[1]||""},o.getSecondMatch=function(u,l){var c=l.match(u);return c&&c.length>1&&c[2]||""},o.matchAndReturnConst=function(u,l,c){if(u.test(l))return c},o.getWindowsVersionName=function(u){switch(u){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},o.getMacOSVersionName=function(u){var l=u.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(l.push(0),l[0]===10)switch(l[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},o.getAndroidVersionName=function(u){var l=u.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(l.push(0),!(l[0]===1&&l[1]<5))return l[0]===1&&l[1]<6?"Cupcake":l[0]===1&&l[1]>=6?"Donut":l[0]===2&&l[1]<2?"Eclair":l[0]===2&&l[1]===2?"Froyo":l[0]===2&&l[1]>2?"Gingerbread":l[0]===3?"Honeycomb":l[0]===4&&l[1]<1?"Ice Cream Sandwich":l[0]===4&&l[1]<4?"Jelly Bean":l[0]===4&&l[1]>=4?"KitKat":l[0]===5?"Lollipop":l[0]===6?"Marshmallow":l[0]===7?"Nougat":l[0]===8?"Oreo":l[0]===9?"Pie":void 0},o.getVersionPrecision=function(u){return u.split(".").length},o.compareVersions=function(u,l,c){c===void 0&&(c=!1);var h=o.getVersionPrecision(u),m=o.getVersionPrecision(l),b=Math.max(h,m),y=0,w=o.map([u,l],function(O){var x=b-o.getVersionPrecision(O),R=O+new Array(x+1).join(".0");return o.map(R.split("."),function(L){return new Array(20-L.length).join("0")+L}).reverse()});for(c&&(y=b-Math.min(h,m)),b-=1;b>=y;){if(w[0][b]>w[1][b])return 1;if(w[0][b]===w[1][b]){if(b===y)return 0;b-=1}else if(w[0][b]<w[1][b])return-1}},o.map=function(u,l){var c,h=[];if(Array.prototype.map)return Array.prototype.map.call(u,l);for(c=0;c<u.length;c+=1)h.push(l(u[c]));return h},o.find=function(u,l){var c,h;if(Array.prototype.find)return Array.prototype.find.call(u,l);for(c=0,h=u.length;c<h;c+=1){var m=u[c];if(l(m,c))return m}},o.assign=function(u){for(var l,c,h=u,m=arguments.length,b=new Array(m>1?m-1:0),y=1;y<m;y++)b[y-1]=arguments[y];if(Object.assign)return Object.assign.apply(Object,[u].concat(b));var w=function(){var O=b[l];typeof O=="object"&&O!==null&&Object.keys(O).forEach(function(x){h[x]=O[x]})};for(l=0,c=b.length;l<c;l+=1)w();return u},o.getBrowserAlias=function(u){return i.BROWSER_ALIASES_MAP[u]},o.getBrowserTypeByAlias=function(u){return i.BROWSER_MAP[u]||""},o}();t.default=n,r.exports=t.default},18:function(r,t,e){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(r,t,e){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=e(91))&&i.__esModule?i:{default:i},o=e(18);function u(c,h){for(var m=0;m<h.length;m++){var b=h[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(c,b.key,b)}}var l=function(){function c(){}var h,m,b;return c.getParser=function(y,w){if(w===void 0&&(w=!1),typeof y!="string")throw new Error("UserAgent should be a string");return new n.default(y,w)},c.parse=function(y){return new n.default(y).getResult()},h=c,b=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(m=null)&&u(h.prototype,m),b&&u(h,b),c}();t.default=l,r.exports=t.default},91:function(r,t,e){"use strict";t.__esModule=!0,t.default=void 0;var i=c(e(92)),n=c(e(93)),o=c(e(94)),u=c(e(95)),l=c(e(17));function c(m){return m&&m.__esModule?m:{default:m}}var h=function(){function m(y,w){if(w===void 0&&(w=!1),y==null||y==="")throw new Error("UserAgent parameter can't be empty");this._ua=y,this.parsedResult={},w!==!0&&this.parse()}var b=m.prototype;return b.getUA=function(){return this._ua},b.test=function(y){return y.test(this._ua)},b.parseBrowser=function(){var y=this;this.parsedResult.browser={};var w=l.default.find(i.default,function(O){if(typeof O.test=="function")return O.test(y);if(O.test instanceof Array)return O.test.some(function(x){return y.test(x)});throw new Error("Browser's test function is not valid")});return w&&(this.parsedResult.browser=w.describe(this.getUA())),this.parsedResult.browser},b.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},b.getBrowserName=function(y){return y?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},b.getBrowserVersion=function(){return this.getBrowser().version},b.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},b.parseOS=function(){var y=this;this.parsedResult.os={};var w=l.default.find(n.default,function(O){if(typeof O.test=="function")return O.test(y);if(O.test instanceof Array)return O.test.some(function(x){return y.test(x)});throw new Error("Browser's test function is not valid")});return w&&(this.parsedResult.os=w.describe(this.getUA())),this.parsedResult.os},b.getOSName=function(y){var w=this.getOS().name;return y?String(w).toLowerCase()||"":w||""},b.getOSVersion=function(){return this.getOS().version},b.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},b.getPlatformType=function(y){y===void 0&&(y=!1);var w=this.getPlatform().type;return y?String(w).toLowerCase()||"":w||""},b.parsePlatform=function(){var y=this;this.parsedResult.platform={};var w=l.default.find(o.default,function(O){if(typeof O.test=="function")return O.test(y);if(O.test instanceof Array)return O.test.some(function(x){return y.test(x)});throw new Error("Browser's test function is not valid")});return w&&(this.parsedResult.platform=w.describe(this.getUA())),this.parsedResult.platform},b.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},b.getEngineName=function(y){return y?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},b.parseEngine=function(){var y=this;this.parsedResult.engine={};var w=l.default.find(u.default,function(O){if(typeof O.test=="function")return O.test(y);if(O.test instanceof Array)return O.test.some(function(x){return y.test(x)});throw new Error("Browser's test function is not valid")});return w&&(this.parsedResult.engine=w.describe(this.getUA())),this.parsedResult.engine},b.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},b.getResult=function(){return l.default.assign({},this.parsedResult)},b.satisfies=function(y){var w=this,O={},x=0,R={},L=0;if(Object.keys(y).forEach(function(Ve){var dt=y[Ve];typeof dt=="string"?(R[Ve]=dt,L+=1):typeof dt=="object"&&(O[Ve]=dt,x+=1)}),x>0){var W=Object.keys(O),Y=l.default.find(W,function(Ve){return w.isOS(Ve)});if(Y){var he=this.satisfies(O[Y]);if(he!==void 0)return he}var we=l.default.find(W,function(Ve){return w.isPlatform(Ve)});if(we){var U=this.satisfies(O[we]);if(U!==void 0)return U}}if(L>0){var xe=Object.keys(R),Ke=l.default.find(xe,function(Ve){return w.isBrowser(Ve,!0)});if(Ke!==void 0)return this.compareVersion(R[Ke])}},b.isBrowser=function(y,w){w===void 0&&(w=!1);var O=this.getBrowserName().toLowerCase(),x=y.toLowerCase(),R=l.default.getBrowserTypeByAlias(x);return w&&R&&(x=R.toLowerCase()),x===O},b.compareVersion=function(y){var w=[0],O=y,x=!1,R=this.getBrowserVersion();if(typeof R=="string")return y[0]===">"||y[0]==="<"?(O=y.substr(1),y[1]==="="?(x=!0,O=y.substr(2)):w=[],y[0]===">"?w.push(1):w.push(-1)):y[0]==="="?O=y.substr(1):y[0]==="~"&&(x=!0,O=y.substr(1)),w.indexOf(l.default.compareVersions(R,O,x))>-1},b.isOS=function(y){return this.getOSName(!0)===String(y).toLowerCase()},b.isPlatform=function(y){return this.getPlatformType(!0)===String(y).toLowerCase()},b.isEngine=function(y){return this.getEngineName(!0)===String(y).toLowerCase()},b.is=function(y,w){return w===void 0&&(w=!1),this.isBrowser(y,w)||this.isOS(y)||this.isPlatform(y)},b.some=function(y){var w=this;return y===void 0&&(y=[]),y.some(function(O){return w.is(O)})},m}();t.default=h,r.exports=t.default},92:function(r,t,e){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=e(17))&&i.__esModule?i:{default:i},o=/version\/(\d+(\.?_?\d+)+)/i,u=[{test:[/googlebot/i],describe:function(l){var c={name:"Googlebot"},h=n.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,l)||n.default.getFirstMatch(o,l);return h&&(c.version=h),c}},{test:[/opera/i],describe:function(l){var c={name:"Opera"},h=n.default.getFirstMatch(o,l)||n.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/opr\/|opios/i],describe:function(l){var c={name:"Opera"},h=n.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,l)||n.default.getFirstMatch(o,l);return h&&(c.version=h),c}},{test:[/SamsungBrowser/i],describe:function(l){var c={name:"Samsung Internet for Android"},h=n.default.getFirstMatch(o,l)||n.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/Whale/i],describe:function(l){var c={name:"NAVER Whale Browser"},h=n.default.getFirstMatch(o,l)||n.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/MZBrowser/i],describe:function(l){var c={name:"MZ Browser"},h=n.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,l)||n.default.getFirstMatch(o,l);return h&&(c.version=h),c}},{test:[/focus/i],describe:function(l){var c={name:"Focus"},h=n.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,l)||n.default.getFirstMatch(o,l);return h&&(c.version=h),c}},{test:[/swing/i],describe:function(l){var c={name:"Swing"},h=n.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,l)||n.default.getFirstMatch(o,l);return h&&(c.version=h),c}},{test:[/coast/i],describe:function(l){var c={name:"Opera Coast"},h=n.default.getFirstMatch(o,l)||n.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(l){var c={name:"Opera Touch"},h=n.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,l)||n.default.getFirstMatch(o,l);return h&&(c.version=h),c}},{test:[/yabrowser/i],describe:function(l){var c={name:"Yandex Browser"},h=n.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,l)||n.default.getFirstMatch(o,l);return h&&(c.version=h),c}},{test:[/ucbrowser/i],describe:function(l){var c={name:"UC Browser"},h=n.default.getFirstMatch(o,l)||n.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/Maxthon|mxios/i],describe:function(l){var c={name:"Maxthon"},h=n.default.getFirstMatch(o,l)||n.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/epiphany/i],describe:function(l){var c={name:"Epiphany"},h=n.default.getFirstMatch(o,l)||n.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/puffin/i],describe:function(l){var c={name:"Puffin"},h=n.default.getFirstMatch(o,l)||n.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/sleipnir/i],describe:function(l){var c={name:"Sleipnir"},h=n.default.getFirstMatch(o,l)||n.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/k-meleon/i],describe:function(l){var c={name:"K-Meleon"},h=n.default.getFirstMatch(o,l)||n.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/micromessenger/i],describe:function(l){var c={name:"WeChat"},h=n.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,l)||n.default.getFirstMatch(o,l);return h&&(c.version=h),c}},{test:[/qqbrowser/i],describe:function(l){var c={name:/qqbrowserlite/i.test(l)?"QQ Browser Lite":"QQ Browser"},h=n.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,l)||n.default.getFirstMatch(o,l);return h&&(c.version=h),c}},{test:[/msie|trident/i],describe:function(l){var c={name:"Internet Explorer"},h=n.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/\sedg\//i],describe:function(l){var c={name:"Microsoft Edge"},h=n.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/edg([ea]|ios)/i],describe:function(l){var c={name:"Microsoft Edge"},h=n.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/vivaldi/i],describe:function(l){var c={name:"Vivaldi"},h=n.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/seamonkey/i],describe:function(l){var c={name:"SeaMonkey"},h=n.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/sailfish/i],describe:function(l){var c={name:"Sailfish"},h=n.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,l);return h&&(c.version=h),c}},{test:[/silk/i],describe:function(l){var c={name:"Amazon Silk"},h=n.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/phantom/i],describe:function(l){var c={name:"PhantomJS"},h=n.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/slimerjs/i],describe:function(l){var c={name:"SlimerJS"},h=n.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(l){var c={name:"BlackBerry"},h=n.default.getFirstMatch(o,l)||n.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/(web|hpw)[o0]s/i],describe:function(l){var c={name:"WebOS Browser"},h=n.default.getFirstMatch(o,l)||n.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/bada/i],describe:function(l){var c={name:"Bada"},h=n.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/tizen/i],describe:function(l){var c={name:"Tizen"},h=n.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,l)||n.default.getFirstMatch(o,l);return h&&(c.version=h),c}},{test:[/qupzilla/i],describe:function(l){var c={name:"QupZilla"},h=n.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,l)||n.default.getFirstMatch(o,l);return h&&(c.version=h),c}},{test:[/firefox|iceweasel|fxios/i],describe:function(l){var c={name:"Firefox"},h=n.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/electron/i],describe:function(l){var c={name:"Electron"},h=n.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/MiuiBrowser/i],describe:function(l){var c={name:"Miui"},h=n.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/chromium/i],describe:function(l){var c={name:"Chromium"},h=n.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,l)||n.default.getFirstMatch(o,l);return h&&(c.version=h),c}},{test:[/chrome|crios|crmo/i],describe:function(l){var c={name:"Chrome"},h=n.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/GSA/i],describe:function(l){var c={name:"Google Search"},h=n.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:function(l){var c=!l.test(/like android/i),h=l.test(/android/i);return c&&h},describe:function(l){var c={name:"Android Browser"},h=n.default.getFirstMatch(o,l);return h&&(c.version=h),c}},{test:[/playstation 4/i],describe:function(l){var c={name:"PlayStation 4"},h=n.default.getFirstMatch(o,l);return h&&(c.version=h),c}},{test:[/safari|applewebkit/i],describe:function(l){var c={name:"Safari"},h=n.default.getFirstMatch(o,l);return h&&(c.version=h),c}},{test:[/.*/i],describe:function(l){var c=l.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:n.default.getFirstMatch(c,l),version:n.default.getSecondMatch(c,l)}}}];t.default=u,r.exports=t.default},93:function(r,t,e){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=e(17))&&i.__esModule?i:{default:i},o=e(18),u=[{test:[/Roku\/DVP/],describe:function(l){var c=n.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,l);return{name:o.OS_MAP.Roku,version:c}}},{test:[/windows phone/i],describe:function(l){var c=n.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,l);return{name:o.OS_MAP.WindowsPhone,version:c}}},{test:[/windows /i],describe:function(l){var c=n.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,l),h=n.default.getWindowsVersionName(c);return{name:o.OS_MAP.Windows,version:c,versionName:h}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(l){var c={name:o.OS_MAP.iOS},h=n.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,l);return h&&(c.version=h),c}},{test:[/macintosh/i],describe:function(l){var c=n.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,l).replace(/[_\s]/g,"."),h=n.default.getMacOSVersionName(c),m={name:o.OS_MAP.MacOS,version:c};return h&&(m.versionName=h),m}},{test:[/(ipod|iphone|ipad)/i],describe:function(l){var c=n.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,l).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:c}}},{test:function(l){var c=!l.test(/like android/i),h=l.test(/android/i);return c&&h},describe:function(l){var c=n.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,l),h=n.default.getAndroidVersionName(c),m={name:o.OS_MAP.Android,version:c};return h&&(m.versionName=h),m}},{test:[/(web|hpw)[o0]s/i],describe:function(l){var c=n.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,l),h={name:o.OS_MAP.WebOS};return c&&c.length&&(h.version=c),h}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(l){var c=n.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,l)||n.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,l)||n.default.getFirstMatch(/\bbb(\d+)/i,l);return{name:o.OS_MAP.BlackBerry,version:c}}},{test:[/bada/i],describe:function(l){var c=n.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,l);return{name:o.OS_MAP.Bada,version:c}}},{test:[/tizen/i],describe:function(l){var c=n.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,l);return{name:o.OS_MAP.Tizen,version:c}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(l){var c=n.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,l);return{name:o.OS_MAP.PlayStation4,version:c}}}];t.default=u,r.exports=t.default},94:function(r,t,e){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=e(17))&&i.__esModule?i:{default:i},o=e(18),u=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(l){var c=n.default.getFirstMatch(/(can-l01)/i,l)&&"Nova",h={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return c&&(h.model=c),h}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(l){var c=l.test(/ipod|iphone/i),h=l.test(/like (ipod|iphone)/i);return c&&!h},describe:function(l){var c=n.default.getFirstMatch(/(ipod|iphone)/i,l);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:c}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(l){return l.getBrowserName(!0)==="blackberry"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(l){return l.getBrowserName(!0)==="bada"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(l){return l.getBrowserName()==="windows phone"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(l){var c=Number(String(l.getOSVersion()).split(".")[0]);return l.getOSName(!0)==="android"&&c>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(l){return l.getOSName(!0)==="android"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(l){return l.getOSName(!0)==="macos"},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(l){return l.getOSName(!0)==="windows"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(l){return l.getOSName(!0)==="linux"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(l){return l.getOSName(!0)==="playstation 4"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(l){return l.getOSName(!0)==="roku"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=u,r.exports=t.default},95:function(r,t,e){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=e(17))&&i.__esModule?i:{default:i},o=e(18),u=[{test:function(l){return l.getBrowserName(!0)==="microsoft edge"},describe:function(l){if(/\sedg\//i.test(l))return{name:o.ENGINE_MAP.Blink};var c=n.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,l);return{name:o.ENGINE_MAP.EdgeHTML,version:c}}},{test:[/trident/i],describe:function(l){var c={name:o.ENGINE_MAP.Trident},h=n.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:function(l){return l.test(/presto/i)},describe:function(l){var c={name:o.ENGINE_MAP.Presto},h=n.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:function(l){var c=l.test(/gecko/i),h=l.test(/like gecko/i);return c&&!h},describe:function(l){var c={name:o.ENGINE_MAP.Gecko},h=n.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(l){var c={name:o.ENGINE_MAP.WebKit},h=n.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,l);return h&&(c.version=h),c}}];t.default=u,r.exports=t.default}})})});var Aie={};pt(Aie,{CamerasPosition:()=>ac,CanvasPin:()=>Ua,CommentEvent:()=>zu,Comments:()=>Wa,ComponentLifeCycleEvent:()=>so,DeviceEvent:()=>Hd,FieldEvents:()=>cc,FormElements:()=>Ja,FrameEvent:()=>Ls,HTMLPin:()=>Ha,LayoutMode:()=>sc,LayoutPosition:()=>Ba,MeetingConnectionStatus:()=>ks,MeetingControlsEvent:()=>Rs,MeetingEvent:()=>Is,MeetingState:()=>Uu,MousePointers:()=>Va,ParticipantEvent:()=>Hu,ParticipantType:()=>Eo,PinMode:()=>Fo,PresenceEvents:()=>te,Realtime:()=>Ga,RealtimeComponentEvent:()=>lc,RealtimeComponentState:()=>uc,RealtimeEvent:()=>si,StoreType:()=>nt,VideoConference:()=>za,WhoIsOnline:()=>Za,WhoIsOnlineEvent:()=>Vu,default:()=>Pie});module.exports=uB(Aie);p();p();var Gy=qt(Lg());p();var Rg=(L=>(L.svPrimary="sv-primary",L.svPrimary900="sv-primary-900",L.svPrimary200="sv-primary-200",L.svSecondary="sv-secondary",L.svGray="sv-gray",L.svSuccess="sv-success",L.svDanger="sv-danger",L.svBlack="sv-black",L.svWhite="sv-white",L.svGray100="sv-gray-100",L.svGray200="sv-gray-200",L.svGray300="sv-gray-300",L.svGray400="sv-gray-400",L.svGray500="sv-gray-500",L.svGray600="sv-gray-600",L.svGray700="sv-gray-700",L.svGray800="sv-gray-800",L))(Rg||{});p();p();p();p();var lt=async(r,t,e,i={})=>{let n=await fetch(r,{method:t,headers:{"Content-Type":"application/json",...i},body:e?JSON.stringify(e):null});if(!n.ok)throw n;try{return await n.json()}catch{return n.ok}};p();var TS=qt(Lg()),Ae=class{constructor(t){this.debug=(0,TS.default)(t)}log(t,...e){this.debug(t,...e)}};p();p();var oO=qt(Dg());var Ne=class{constructor(t={}){this.subscribe=t=>{this.callbacks.push(t)};this.unsubscribe=t=>{this.callbacks=this.callbacks.filter(e=>e!==t)};this.publish=(...t)=>{this.callbacks&&this.callbacks.forEach(e=>{this.callListener(e,t).catch(i=>{var n;(n=this.logger)==null||n.log("superviz-sdk:observer-helper:publish:error",`
            Failed to execute callback on publish value.
            Callback: ${e.name}
            Event: ${JSON.stringify(t)}
            Error: ${i}
          `)})})};this.reset=()=>{this.callbacks=[]};this.destroy=()=>{delete this.logger,delete this.callbacks};this.callListener=(t,e)=>new Promise((i,n)=>{try{let o=t(...e);i(o)}catch(o){n(o)}});let{logger:e,throttleTime:i}=t;this.logger=e||new Ae("@superviz/sdk/observer-helper"),this.throttle=i,this.callbacks=[],this.throttle&&(this.publish=(0,oO.default)(this.publish,this.throttle))}};var Pi=class{constructor(){this.observers={};this.subscribe=(t,e)=>{this.logger.log(`subscribed to ${t} event`),this.observers[t]||(this.observers[t]=new Ne({logger:this.logger})),this.observers[t].subscribe(e)};this.unsubscribe=(t,e)=>{if(this.logger.log(`unsubscribed from ${t} event`),!!this.observers[t]){if(!e){this.observers[t].destroy(),delete this.observers[t];return}this.observers[t].unsubscribe(e)}};this.publish=(t,e)=>{t in this.observers&&this.observers[t].publish(e)}}};p();kr();var Xe=class{static createUrl(t,e,i={}){let n=new URL(e,t);return Object.keys(i).forEach(o=>n.searchParams.append(o,i[o])),n.toString()}static validateApiKey(t,e){let n=this.createUrl(t,"/user/checkapikey");return lt(n,"POST",{apiKey:e})}static fetchConfig(t,e){let n=this.createUrl(t,"/immersive-config");return lt(n,"POST",{apiKey:e})}static async fetchLimits(t,e){let n=this.createUrl(t,"/user/check_limits_v2");return(await lt(n,"GET","",{apikey:e})).limits}static async fetchWaterMark(t,e){let n=this.createUrl(t,"/user/watermark"),{message:o}=await lt(n,"POST",{apiKey:e});return o}static async createAnnotations(t,e,i){let o=this.createUrl(t,"/annotations");return lt(o,"POST",{...i},{apikey:e})}static async updateComment(t,e,i,n){let o=`/comments/${i}`,u=this.createUrl(t,o);return lt(u,"PUT",{text:n},{apikey:e})}static async createComment(t,e,i){let o=this.createUrl(t,"/comments");return lt(o,"POST",{...i},{apikey:e})}static async fetchAnnotation(t,e,i){let o=this.createUrl(t,"/annotations",{roomId:i.roomId,url:i.url});return lt(o,"GET",void 0,{apikey:e})}static async resolveAnnotation(t,e,i){let n=`/annotations/resolve/${i}`,o=this.createUrl(t,n);return lt(o,"POST",{},{apikey:e})}static async deleteComment(t,e,i){let n=`/comments/${i}`,o=this.createUrl(t,n);return lt(o,"DELETE",{},{apikey:e})}static async deleteAnnotation(t,e,i){let n=`/annotations/${i}`,o=this.createUrl(t,n);return lt(o,"DELETE",{},{apikey:e})}static async createParticipant(t){let e=ee.get("apiUrl"),n=this.createUrl(e,"/participants");return lt(n,"POST",{...t},{apikey:ee.get("apiKey")})}static async fetchParticipant(t){let e=ee.get("apiUrl"),i=`/participants/${t}`,n=this.createUrl(e,i);return lt(n,"GET",void 0,{apikey:ee.get("apiKey")})}static async sendActivity(t,e,i,n){let o="/activity",u=ee.get("apiUrl"),l=ee.get("roomId"),c=ee.get("apiKey"),h=this.createUrl(u,o);return lt(h,"POST",{groupId:e,groupName:i,meetingId:l,product:n,userId:t},{apikey:c})}static async fetchParticipantsByGroup(t){let e=`/groups/participants/${t}`,i=ee.get("apiUrl"),n=this.createUrl(i,e,{take:1e4});return lt(n,"GET",void 0,{apikey:ee.get("apiKey")})}static async createMentions(t){let e="/mentions",i=ee.get("apiUrl"),n=this.createUrl(i,e);return lt(n,"POST",t,{apikey:ee.get("apiKey")})}};p();async function O2(r,t){try{return await Xe.validateApiKey(r,t)===!0}catch(e){if(e.status===404)return!1;throw new Error("Unable to validate API key")}}var aO=O2;kr();p();var to=class{static async getRemoteConfig(t="prod"){let{version:e}=await Promise.resolve().then(()=>(lO(),uO));if(t==="local")return(await Promise.resolve().then(()=>qt(dO()))).default.remoteConfig;let i={version:e,environment:t},n=this.createUrl(i);return lt(n,"GET",null)}static async getFeatures(t){return lt(`${this.REMOTE_CONFIG_BASE_URL}/features/${t}`,"GET",void 0)}static createUrl({version:t,environment:e}){return`${this.REMOTE_CONFIG_BASE_URL}/sdk/${t}?env=${e}`}};to.REMOTE_CONFIG_BASE_URL="https://remote-config.superviz.com";p();p();var A2=Object.create,jd=Object.defineProperty,x2=Object.defineProperties,C2=Object.getOwnPropertyDescriptor,M2=Object.getOwnPropertyDescriptors,I2=Object.getOwnPropertyNames,pO=Object.getOwnPropertySymbols,L2=Object.getPrototypeOf,IO=Object.prototype.hasOwnProperty,R2=Object.prototype.propertyIsEnumerable,hO=(r,t,e)=>t in r?jd(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,F=(r,t)=>{for(var e in t||(t={}))IO.call(t,e)&&hO(r,e,t[e]);if(pO)for(var e of pO(t))R2.call(t,e)&&hO(r,e,t[e]);return r},ce=(r,t)=>x2(r,M2(t)),k2=(r,t)=>()=>(r&&(t=r(r=0)),t),db=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),N2=(r,t)=>{for(var e in t)jd(r,e,{get:t[e],enumerable:!0})},F2=(r,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of I2(t))!IO.call(r,n)&&n!==e&&jd(r,n,{get:()=>t[n],enumerable:!(i=C2(t,n))||i.enumerable});return r},D2=(r,t,e)=>(e=r!=null?A2(L2(r)):{},F2(t||!r||!r.__esModule?jd(e,"default",{value:r,enumerable:!0}):e,r)),xi=(r,t,e)=>new Promise((i,n)=>{var o=c=>{try{l(e.next(c))}catch(h){n(h)}},u=c=>{try{l(e.throw(c))}catch(h){n(h)}},l=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,u);l((e=e.apply(r,t)).next())}),LO,K=k2(()=>{LO={}}),q2=db((r,t)=>{K();var e=1e3,i=e*60,n=i*60,o=n*24,u=o*7,l=o*365.25;t.exports=function(y,w){w=w||{};var O=typeof y;if(O==="string"&&y.length>0)return c(y);if(O==="number"&&isFinite(y))return w.long?m(y):h(y);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(y))};function c(y){if(y=String(y),!(y.length>100)){var w=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(y);if(w){var O=parseFloat(w[1]),x=(w[2]||"ms").toLowerCase();switch(x){case"years":case"year":case"yrs":case"yr":case"y":return O*l;case"weeks":case"week":case"w":return O*u;case"days":case"day":case"d":return O*o;case"hours":case"hour":case"hrs":case"hr":case"h":return O*n;case"minutes":case"minute":case"mins":case"min":case"m":return O*i;case"seconds":case"second":case"secs":case"sec":case"s":return O*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return O;default:return}}}}function h(y){var w=Math.abs(y);return w>=o?Math.round(y/o)+"d":w>=n?Math.round(y/n)+"h":w>=i?Math.round(y/i)+"m":w>=e?Math.round(y/e)+"s":y+"ms"}function m(y){var w=Math.abs(y);return w>=o?b(y,w,o,"day"):w>=n?b(y,w,n,"hour"):w>=i?b(y,w,i,"minute"):w>=e?b(y,w,e,"second"):y+" ms"}function b(y,w,O,x){var R=w>=O*1.5;return Math.round(y/O)+" "+x+(R?"s":"")}}),$2=db((r,t)=>{K();function e(i){o.debug=o,o.default=o,o.coerce=b,o.disable=c,o.enable=l,o.enabled=h,o.humanize=q2(),o.destroy=y,Object.keys(i).forEach(w=>{o[w]=i[w]}),o.names=[],o.skips=[],o.formatters={};function n(w){let O=0;for(let x=0;x<w.length;x++)O=(O<<5)-O+w.charCodeAt(x),O|=0;return o.colors[Math.abs(O)%o.colors.length]}o.selectColor=n;function o(w){let O,x=null,R,L;function W(...Y){if(!W.enabled)return;let he=W,we=Number(new Date),U=we-(O||we);he.diff=U,he.prev=O,he.curr=we,O=we,Y[0]=o.coerce(Y[0]),typeof Y[0]!="string"&&Y.unshift("%O");let xe=0;Y[0]=Y[0].replace(/%([a-zA-Z%])/g,(Ke,Ve)=>{if(Ke==="%%")return"%";xe++;let dt=o.formatters[Ve];if(typeof dt=="function"){let cr=Y[xe];Ke=dt.call(he,cr),Y.splice(xe,1),xe--}return Ke}),o.formatArgs.call(he,Y),(he.log||o.log).apply(he,Y)}return W.namespace=w,W.useColors=o.useColors(),W.color=o.selectColor(w),W.extend=u,W.destroy=o.destroy,Object.defineProperty(W,"enabled",{enumerable:!0,configurable:!1,get:()=>x!==null?x:(R!==o.namespaces&&(R=o.namespaces,L=o.enabled(w)),L),set:Y=>{x=Y}}),typeof o.init=="function"&&o.init(W),W}function u(w,O){let x=o(this.namespace+(typeof O>"u"?":":O)+w);return x.log=this.log,x}function l(w){o.save(w),o.namespaces=w,o.names=[],o.skips=[];let O,x=(typeof w=="string"?w:"").split(/[\s,]+/),R=x.length;for(O=0;O<R;O++)x[O]&&(w=x[O].replace(/\*/g,".*?"),w[0]==="-"?o.skips.push(new RegExp("^"+w.slice(1)+"$")):o.names.push(new RegExp("^"+w+"$")))}function c(){let w=[...o.names.map(m),...o.skips.map(m).map(O=>"-"+O)].join(",");return o.enable(""),w}function h(w){if(w[w.length-1]==="*")return!0;let O,x;for(O=0,x=o.skips.length;O<x;O++)if(o.skips[O].test(w))return!1;for(O=0,x=o.names.length;O<x;O++)if(o.names[O].test(w))return!0;return!1}function m(w){return w.toString().substring(2,w.toString().length-2).replace(/\.\*\?$/,"*")}function b(w){return w instanceof Error?w.stack||w.message:w}function y(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}t.exports=e}),j2=db((r,t)=>{K(),r.formatArgs=i,r.save=n,r.load=o,r.useColors=e,r.storage=u(),r.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function e(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let h="color: "+this.color;c.splice(1,0,h,"color: inherit");let m=0,b=0;c[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(m++,y==="%c"&&(b=m))}),c.splice(b,0,h)}r.log=console.debug||console.log||(()=>{});function n(c){try{c?r.storage.setItem("debug",c):r.storage.removeItem("debug")}catch{}}function o(){let c;try{c=r.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=LO.DEBUG),c}function u(){try{return localStorage}catch{}}t.exports=$2()(r);var{formatters:l}=t.exports;l.j=function(c){try{return JSON.stringify(c)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}});K();K();var B2=(r=>(r.JOIN_ROOM="room.join",r.JOINED_ROOM="room.joined",r.LEAVE_ROOM="room.leave",r.UPDATE="room.update",r.ERROR="room.error",r))(B2||{}),te=(r=>(r.JOINED_ROOM="presence.joined-room",r.LEAVE="presence.leave",r.ERROR="presence.error",r.UPDATE="presence.update",r))(te||{});K();K();var pb=(r=>(r.CONNECTED="CONNECTED",r.CONNECTING="CONNECTING",r.DISCONNECTED="DISCONNECTED",r.CONNECTION_ERROR="CONNECTION_ERROR",r.RECONNECTING="RECONNECTING",r.RECONNECT_ERROR="RECONNECT_ERROR",r))(pb||{});K();K();K();K();K();var Gg=function(r,t){return Gg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])},Gg(r,t)};function Bd(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Gg(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function Zg(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ad(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var i=e.call(r),n,o=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){u={error:l}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o}function xd(r,t,e){if(e||arguments.length===2)for(var i=0,n=t.length,o;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))}K();function Ai(r){return typeof r=="function"}K();K();K();function RO(r){var t=function(i){Error.call(i),i.stack=new Error().stack},e=r(t);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var $g=RO(function(r){return function(t){r(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(e,i){return i+1+") "+e.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});K();function Jg(r,t){if(r){var e=r.indexOf(t);0<=e&&r.splice(e,1)}}var Wd=function(){function r(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var t,e,i,n,o;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var l=Zg(u),c=l.next();!c.done;c=l.next()){var h=c.value;h.remove(this)}}catch(x){t={error:x}}finally{try{c&&!c.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}else u.remove(this);var m=this.initialTeardown;if(Ai(m))try{m()}catch(x){o=x instanceof $g?x.errors:[x]}var b=this._finalizers;if(b){this._finalizers=null;try{for(var y=Zg(b),w=y.next();!w.done;w=y.next()){var O=w.value;try{fO(O)}catch(x){o=o??[],x instanceof $g?o=xd(xd([],Ad(o)),Ad(x.errors)):o.push(x)}}}catch(x){i={error:x}}finally{try{w&&!w.done&&(n=y.return)&&n.call(y)}finally{if(i)throw i.error}}}if(o)throw new $g(o)}},r.prototype.add=function(t){var e;if(t&&t!==this)if(this.closed)fO(t);else{if(t instanceof r){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}},r.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},r.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},r.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&Jg(e,t)},r.prototype.remove=function(t){var e=this._finalizers;e&&Jg(e,t),t instanceof r&&t._removeParent(this)},r.EMPTY=function(){var t=new r;return t.closed=!0,t}(),r}(),kO=Wd.EMPTY;function NO(r){return r instanceof Wd||r&&"closed"in r&&Ai(r.remove)&&Ai(r.add)&&Ai(r.unsubscribe)}function fO(r){Ai(r)?r():r.unsubscribe()}K();var oo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};K();K();var Cd={setTimeout:function(r,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];var n=Cd.delegate;return n!=null&&n.setTimeout?n.setTimeout.apply(n,xd([r,t],Ad(e))):setTimeout.apply(void 0,xd([r,t],Ad(e)))},clearTimeout:function(r){var t=Cd.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(r)},delegate:void 0};function W2(r){Cd.setTimeout(function(){var t=oo.onUnhandledError;if(t)t(r);else throw r})}K();function mO(){}K();var U2=function(){return hb("C",void 0,void 0)}();function H2(r){return hb("E",void 0,r)}function z2(r){return hb("N",r,void 0)}function hb(r,t,e){return{kind:r,value:t,error:e}}K();var ro=null;function wd(r){if(oo.useDeprecatedSynchronousErrorHandling){var t=!ro;if(t&&(ro={errorThrown:!1,error:null}),r(),t){var e=ro,i=e.errorThrown,n=e.error;if(ro=null,i)throw n}}else r()}function V2(r){oo.useDeprecatedSynchronousErrorHandling&&ro&&(ro.errorThrown=!0,ro.error=r)}var FO=function(r){Bd(t,r);function t(e){var i=r.call(this)||this;return i.isStopped=!1,e?(i.destination=e,NO(e)&&e.add(i)):i.destination=K2,i}return t.create=function(e,i,n){return new Kg(e,i,n)},t.prototype.next=function(e){this.isStopped?Bg(z2(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Bg(H2(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Bg(U2,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Wd),G2=Function.prototype.bind;function jg(r,t){return G2.call(r,t)}var Z2=function(){function r(t){this.partialObserver=t}return r.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(i){vd(i)}},r.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(i){vd(i)}else vd(t)},r.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(e){vd(e)}},r}(),Kg=function(r){Bd(t,r);function t(e,i,n){var o=r.call(this)||this,u;if(Ai(e)||!e)u={next:e??void 0,error:i??void 0,complete:n??void 0};else{var l;o&&oo.useDeprecatedNextContext?(l=Object.create(e),l.unsubscribe=function(){return o.unsubscribe()},u={next:e.next&&jg(e.next,l),error:e.error&&jg(e.error,l),complete:e.complete&&jg(e.complete,l)}):u=e}return o.destination=new Z2(u),o}return t}(FO);function vd(r){oo.useDeprecatedSynchronousErrorHandling?V2(r):W2(r)}function J2(r){throw r}function Bg(r,t){var e=oo.onStoppedNotification;e&&Cd.setTimeout(function(){return e(r,t)})}var K2={closed:!0,next:mO,error:J2,complete:mO};K();var Y2=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();K();K();function X2(r){return r}function Q2(r){return r.length===0?X2:r.length===1?r[0]:function(t){return r.reduce(function(e,i){return i(e)},t)}}var vO=function(){function r(t){t&&(this._subscribe=t)}return r.prototype.lift=function(t){var e=new r;return e.source=this,e.operator=t,e},r.prototype.subscribe=function(t,e,i){var n=this,o=tW(t)?t:new Kg(t,e,i);return wd(function(){var u=n,l=u.operator,c=u.source;o.add(l?l.call(o,c):c?n._subscribe(o):n._trySubscribe(o))}),o},r.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},r.prototype.forEach=function(t,e){var i=this;return e=gO(e),new e(function(n,o){var u=new Kg({next:function(l){try{t(l)}catch(c){o(c),u.unsubscribe()}},error:o,complete:n});i.subscribe(u)})},r.prototype._subscribe=function(t){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(t)},r.prototype[Y2]=function(){return this},r.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Q2(t)(this)},r.prototype.toPromise=function(t){var e=this;return t=gO(t),new t(function(i,n){var o;e.subscribe(function(u){return o=u},function(u){return n(u)},function(){return i(o)})})},r.create=function(t){return new r(t)},r}();function gO(r){var t;return(t=r??oo.Promise)!==null&&t!==void 0?t:Promise}function eW(r){return r&&Ai(r.next)&&Ai(r.error)&&Ai(r.complete)}function tW(r){return r&&r instanceof FO||eW(r)&&NO(r)}K();K();var rW=RO(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ri=function(r){Bd(t,r);function t(){var e=r.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return t.prototype.lift=function(e){var i=new bO(this,this);return i.operator=e,i},t.prototype._throwIfClosed=function(){if(this.closed)throw new rW},t.prototype.next=function(e){var i=this;wd(function(){var n,o;if(i._throwIfClosed(),!i.isStopped){i.currentObservers||(i.currentObservers=Array.from(i.observers));try{for(var u=Zg(i.currentObservers),l=u.next();!l.done;l=u.next()){var c=l.value;c.next(e)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}}})},t.prototype.error=function(e){var i=this;wd(function(){if(i._throwIfClosed(),!i.isStopped){i.hasError=i.isStopped=!0,i.thrownError=e;for(var n=i.observers;n.length;)n.shift().error(e)}})},t.prototype.complete=function(){var e=this;wd(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var i=e.observers;i.length;)i.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(e){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,e)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var i=this,n=this,o=n.hasError,u=n.isStopped,l=n.observers;return o||u?kO:(this.currentObservers=null,l.push(e),new Wd(function(){i.currentObservers=null,Jg(l,e)}))},t.prototype._checkFinalizedStatuses=function(e){var i=this,n=i.hasError,o=i.thrownError,u=i.isStopped;n?e.error(o):u&&e.complete()},t.prototype.asObservable=function(){var e=new vO;return e.source=this,e},t.create=function(e,i){return new bO(e,i)},t}(vO),bO=function(r){Bd(t,r);function t(e,i){var n=r.call(this)||this;return n.destination=e,n.source=i,n}return t.prototype.next=function(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.next)===null||n===void 0||n.call(i,e)},t.prototype.error=function(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.error)===null||n===void 0||n.call(i,e)},t.prototype.complete=function(){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||i===void 0||i.call(e)},t.prototype._subscribe=function(e){var i,n;return(n=(i=this.source)===null||i===void 0?void 0:i.subscribe(e))!==null&&n!==void 0?n:kO},t}(ri);K();K();var yO=D2(j2()),fb=class{constructor(r){this.debug=(0,yO.default)(r),yO.default.enable("*")}log(r,...t){this.debug(r,...t)}},iW=class DO{constructor(t,e,i){this.io=t,this.presence=e,this.roomId=i,this.presences=new Set,this.observers=new Map,this.onPresenceJoin=n=>{(n==null?void 0:n.roomId)===this.roomId&&(this.logger.log("presence room @ presence join",n),this.presences.add(n),this.observers.get("presence.joined-room").next({connectionId:n.connectionId,data:n.data,id:n.id,name:n.name,timestamp:n.timestamp}))},this.onPresenceLeave=n=>{(n==null?void 0:n.roomId)===this.roomId&&(this.logger.log("presence room @ presence leave",n),this.presences.delete(n),this.observers.get("presence.leave").next(n))},this.onPresenceUpdate=n=>{(n==null?void 0:n.roomId)===this.roomId&&(this.logger.log("presence room @ presence update",n),this.observers.get("presence.update").next({connectionId:n.connectionId,data:n.data,id:n.id,name:n.name,roomId:n==null?void 0:n.roomId,timestamp:n.timestamp}))},this.logger=new fb("@superviz/socket-client/presence"),this.registerSubjects(),this.subscribeToPresenceEvents()}static register(t,e,i){return new DO(t,e,i)}get(t,e){let i=new ri;i.subscribe({next:t,error:e});let n=o=>{let u=o.presences.map(l=>({connectionId:l.connectionId,data:l.data,id:l.id,name:l.name,timestamp:l.timestamp}));this.logger.log("presence room @ get",o),this.io.off("presence.get",n),i.next(u),i.complete()};this.io.on("presence.get",n),this.io.emit("presence.get",this.roomId)}update(t){let e={connectionId:this.io.id,data:t,id:this.presence.id,name:this.presence.name,timestamp:Date.now()};this.io.emit("presence.update",this.roomId,e),this.logger.log("presence room @ update",this.roomId,e)}destroy(){this.io.off("presence.joined-room",this.onPresenceJoin),this.io.off("presence.leave",this.onPresenceLeave),this.io.off("presence.update",this.onPresenceUpdate),this.observers.forEach(t=>t.unsubscribe()),this.observers.clear()}registerSubjects(){this.observers.set("presence.joined-room",new ri),this.observers.set("presence.leave",new ri),this.observers.set("presence.update",new ri)}on(t,e,i){this.observers.get(t).subscribe({error:i,next:e})}off(t){this.observers.get(t).unsubscribe(),this.observers.delete(t),this.observers.set(t,new ri)}subscribeToPresenceEvents(){this.io.on("presence.joined-room",this.onPresenceJoin),this.io.on("presence.leave",this.onPresenceLeave),this.io.on("presence.update",this.onPresenceUpdate)}};K();K();K();K();K();K();K();K();K();K();K();K();var ni=Object.create(null);ni.open="0";ni.close="1";ni.ping="2";ni.pong="3";ni.message="4";ni.upgrade="5";ni.noop="6";var Ed=Object.create(null);Object.keys(ni).forEach(r=>{Ed[ni[r]]=r});var Yg={type:"error",data:"parser error"},qO=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",$O=typeof ArrayBuffer=="function",jO=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,mb=({type:r,data:t},e,i)=>qO&&t instanceof Blob?e?i(t):_O(t,i):$O&&(t instanceof ArrayBuffer||jO(t))?e?i(t):_O(new Blob([t]),i):i(ni[r]+(t||"")),_O=(r,t)=>{let e=new FileReader;return e.onload=function(){let i=e.result.split(",")[1];t("b"+(i||""))},e.readAsDataURL(r)};function wO(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}var Wg;function nW(r,t){if(qO&&r.data instanceof Blob)return r.data.arrayBuffer().then(wO).then(t);if($O&&(r.data instanceof ArrayBuffer||jO(r.data)))return t(wO(r.data));mb(r,!1,e=>{Wg||(Wg=new TextEncoder),t(Wg.encode(e))})}K();K();var EO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Eu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<EO.length;r++)Eu[EO.charCodeAt(r)]=r;var oW=r=>{let t=r.length*.75,e=r.length,i,n=0,o,u,l,c;r[r.length-1]==="="&&(t--,r[r.length-2]==="="&&t--);let h=new ArrayBuffer(t),m=new Uint8Array(h);for(i=0;i<e;i+=4)o=Eu[r.charCodeAt(i)],u=Eu[r.charCodeAt(i+1)],l=Eu[r.charCodeAt(i+2)],c=Eu[r.charCodeAt(i+3)],m[n++]=o<<2|u>>4,m[n++]=(u&15)<<4|l>>2,m[n++]=(l&3)<<6|c&63;return h},sW=typeof ArrayBuffer=="function",vb=(r,t)=>{if(typeof r!="string")return{type:"message",data:BO(r,t)};let e=r.charAt(0);return e==="b"?{type:"message",data:aW(r.substring(1),t)}:Ed[e]?r.length>1?{type:Ed[e],data:r.substring(1)}:{type:Ed[e]}:Yg},aW=(r,t)=>{if(sW){let e=oW(r);return BO(e,t)}else return{base64:!0,data:r}},BO=(r,t)=>{switch(t){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},WO="",uW=(r,t)=>{let e=r.length,i=new Array(e),n=0;r.forEach((o,u)=>{mb(o,!1,l=>{i[u]=l,++n===e&&t(i.join(WO))})})},lW=(r,t)=>{let e=r.split(WO),i=[];for(let n=0;n<e.length;n++){let o=vb(e[n],t);if(i.push(o),o.type==="error")break}return i};function cW(){return new TransformStream({transform(r,t){nW(r,e=>{let i=e.length,n;if(i<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,i);else if(i<65536){n=new Uint8Array(3);let o=new DataView(n.buffer);o.setUint8(0,126),o.setUint16(1,i)}else{n=new Uint8Array(9);let o=new DataView(n.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(i))}r.data&&typeof r.data!="string"&&(n[0]|=128),t.enqueue(n),t.enqueue(e)})}})}var Ug;function gd(r){return r.reduce((t,e)=>t+e.length,0)}function bd(r,t){if(r[0].length===t)return r.shift();let e=new Uint8Array(t),i=0;for(let n=0;n<t;n++)e[n]=r[0][i++],i===r[0].length&&(r.shift(),i=0);return r.length&&i<r[0].length&&(r[0]=r[0].slice(i)),e}function dW(r,t){Ug||(Ug=new TextDecoder);let e=[],i=0,n=-1,o=!1;return new TransformStream({transform(u,l){for(e.push(u);;){if(i===0){if(gd(e)<1)break;let c=bd(e,1);o=(c[0]&128)===128,n=c[0]&127,n<126?i=3:n===126?i=1:i=2}else if(i===1){if(gd(e)<2)break;let c=bd(e,2);n=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),i=3}else if(i===2){if(gd(e)<8)break;let c=bd(e,8),h=new DataView(c.buffer,c.byteOffset,c.length),m=h.getUint32(0);if(m>Math.pow(2,21)-1){l.enqueue(Yg);break}n=m*Math.pow(2,32)+h.getUint32(4),i=3}else{if(gd(e)<n)break;let c=bd(e,n);l.enqueue(vb(o?c:Ug.decode(c),t)),i=0}if(n===0||n>r){l.enqueue(Yg);break}}}})}var UO=4;K();function ht(r){if(r)return pW(r)}function pW(r){for(var t in ht.prototype)r[t]=ht.prototype[t];return r}ht.prototype.on=ht.prototype.addEventListener=function(r,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(t),this};ht.prototype.once=function(r,t){function e(){this.off(r,e),t.apply(this,arguments)}return e.fn=t,this.on(r,e),this};ht.prototype.off=ht.prototype.removeListener=ht.prototype.removeAllListeners=ht.prototype.removeEventListener=function(r,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+r];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var i,n=0;n<e.length;n++)if(i=e[n],i===t||i.fn===t){e.splice(n,1);break}return e.length===0&&delete this._callbacks["$"+r],this};ht.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+r],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(e){e=e.slice(0);for(var i=0,n=e.length;i<n;++i)e[i].apply(this,t)}return this};ht.prototype.emitReserved=ht.prototype.emit;ht.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};ht.prototype.hasListeners=function(r){return!!this.listeners(r).length};K();K();var _r=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function HO(r,...t){return t.reduce((e,i)=>(r.hasOwnProperty(i)&&(e[i]=r[i]),e),{})}var hW=_r.setTimeout,fW=_r.clearTimeout;function Ud(r,t){t.useNativeTimers?(r.setTimeoutFn=hW.bind(_r),r.clearTimeoutFn=fW.bind(_r)):(r.setTimeoutFn=_r.setTimeout.bind(_r),r.clearTimeoutFn=_r.clearTimeout.bind(_r))}var mW=1.33;function vW(r){return typeof r=="string"?gW(r):Math.ceil((r.byteLength||r.size)*mW)}function gW(r){let t=0,e=0;for(let i=0,n=r.length;i<n;i++)t=r.charCodeAt(i),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(i++,e+=4);return e}K();function bW(r){let t="";for(let e in r)r.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(r[e]));return t}function yW(r){let t={},e=r.split("&");for(let i=0,n=e.length;i<n;i++){let o=e[i].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}var _W=class extends Error{constructor(r,t,e){super(r),this.description=t,this.context=e,this.type="TransportError"}},gb=class extends ht{constructor(r){super(),this.writable=!1,Ud(this,r),this.opts=r,this.query=r.query,this.socket=r.socket}onError(r,t,e){return super.emitReserved("error",new _W(r,t,e)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){let t=vb(r,this.socket.binaryType);this.onPacket(t)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,t={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){let t=bW(r);return t.length?"?"+t:""}};K();var zO="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Xg=64,wW={},SO=0,yd=0,OO;function TO(r){let t="";do t=zO[r%Xg]+t,r=Math.floor(r/Xg);while(r>0);return t}function VO(){let r=TO(+new Date);return r!==OO?(SO=0,OO=r):r+"."+TO(SO++)}for(;yd<Xg;yd++)wW[zO[yd]]=yd;K();K();var GO=!1;try{GO=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var EW=GO;function ZO(r){let t=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||EW))return new XMLHttpRequest}catch{}if(!t)try{return new _r[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function SW(){}var OW=function(){return new ZO({xdomain:!1}).responseType!=null}(),TW=class extends gb{constructor(r){if(super(r),this.polling=!1,typeof location<"u"){let e=location.protocol==="https:",i=location.port;i||(i=e?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||i!==r.port}let t=r&&r.forceBase64;this.supportsBinary=OW&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(r){this.readyState="pausing";let t=()=>{this.readyState="paused",r()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){let t=e=>{if(this.readyState==="opening"&&e.type==="open"&&this.onOpen(),e.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)};lW(r,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){let r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,uW(r,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let r=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=VO()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(r,t)}request(r={}){return Object.assign(r,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Os(this.uri(),r)}doWrite(r,t){let e=this.request({method:"POST",data:r});e.on("success",t),e.on("error",(i,n)=>{this.onError("xhr post error",i,n)})}doPoll(){let r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(t,e)=>{this.onError("xhr poll error",t,e)}),this.pollXhr=r}},Os=class Sd extends ht{constructor(t,e){super(),Ud(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.data=e.data!==void 0?e.data:null,this.create()}create(){var t;let e=HO(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd;let i=this.xhr=new ZO(e);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let n in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(n)&&i.setRequestHeader(n,this.opts.extraHeaders[n])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var n;i.readyState===3&&((n=this.opts.cookieJar)===null||n===void 0||n.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(n){this.setTimeoutFn(()=>{this.onError(n)},0);return}typeof document<"u"&&(this.index=Sd.requestsCount++,Sd.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=SW,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Sd.requests[this.index],this.xhr=null}}onLoad(){let t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Os.requestsCount=0;Os.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",PO);else if(typeof addEventListener=="function"){let r="onpagehide"in _r?"pagehide":"unload";addEventListener(r,PO,!1)}}function PO(){for(let r in Os.requests)Os.requests.hasOwnProperty(r)&&Os.requests[r].abort()}K();K();var bb=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,t)=>t(r,0),_d=_r.WebSocket||_r.MozWebSocket,Hg=!0,PW="arraybuffer",AO=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",AW=class extends gb{constructor(r){super(r),this.supportsBinary=!r.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let r=this.uri(),t=this.opts.protocols,e=AO?{}:HO(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(e.headers=this.opts.extraHeaders);try{this.ws=Hg&&!AO?t?new _d(r,t):new _d(r):new _d(r,t,e)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let t=0;t<r.length;t++){let e=r[t],i=t===r.length-1;mb(e,this.supportsBinary,n=>{let o={};Hg||(e.options&&(o.compress=e.options.compress),this.opts.perMessageDeflate&&(typeof n=="string"?Buffer.byteLength(n):n.length)<this.opts.perMessageDeflate.threshold&&(o.compress=!1));try{Hg?this.ws.send(n):this.ws.send(n,o)}catch{}i&&bb(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let r=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=VO()),this.supportsBinary||(t.b64=1),this.createUri(r,t)}check(){return!!_d}};K();var xW=class extends gb{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(r=>{let t=dW(Number.MAX_SAFE_INTEGER,this.socket.binaryType),e=r.readable.pipeThrough(t).getReader(),i=cW();i.readable.pipeTo(r.writable),this.writer=i.writable.getWriter();let n=()=>{e.read().then(({done:u,value:l})=>{u||(this.onPacket(l),n())}).catch(u=>{})};n();let o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(r){this.writable=!1;for(let t=0;t<r.length;t++){let e=r[t],i=t===r.length-1;this.writer.write(e).then(()=>{i&&bb(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this.transport)===null||r===void 0||r.close()}},CW={websocket:AW,webtransport:xW,polling:TW};K();var MW=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,IW=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Qg(r){if(r.length>2e3)throw"URI too long";let t=r,e=r.indexOf("["),i=r.indexOf("]");e!=-1&&i!=-1&&(r=r.substring(0,e)+r.substring(e,i).replace(/:/g,";")+r.substring(i,r.length));let n=MW.exec(r||""),o={},u=14;for(;u--;)o[IW[u]]=n[u]||"";return e!=-1&&i!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=LW(o,o.path),o.queryKey=RW(o,o.query),o}function LW(r,t){let e=/\/{2,9}/g,i=t.replace(e,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function RW(r,t){let e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,n,o){n&&(e[n]=o)}),e}var yb=class Es extends ht{constructor(t,e={}){super(),this.binaryType=PW,this.writeBuffer=[],t&&typeof t=="object"&&(e=t,t=null),t?(t=Qg(t),e.hostname=t.host,e.secure=t.protocol==="https"||t.protocol==="wss",e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=Qg(e.host).host),Ud(this,e),this.secure=e.secure!=null?e.secure:typeof location<"u"&&location.protocol==="https:",e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=e.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=yW(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){let e=Object.assign({},this.opts.query);e.EIO=UO,e.transport=t,this.id&&(e.sid=this.id);let i=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new CW[t](i)}open(){let t;if(this.opts.rememberUpgrade&&Es.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",e=>this.onClose("transport close",e))}probe(t){let e=this.createTransport(t),i=!1;Es.priorWebsocketSuccess=!1;let n=()=>{i||(e.send([{type:"ping",data:"probe"}]),e.once("packet",b=>{if(!i)if(b.type==="pong"&&b.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Es.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(m(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{let y=new Error("probe error");y.transport=e.name,this.emitReserved("upgradeError",y)}}))};function o(){i||(i=!0,m(),e.close(),e=null)}let u=b=>{let y=new Error("probe error: "+b);y.transport=e.name,o(),this.emitReserved("upgradeError",y)};function l(){u("transport closed")}function c(){u("socket closed")}function h(b){e&&b.name!==e.name&&o()}let m=()=>{e.removeListener("open",n),e.removeListener("error",u),e.removeListener("close",l),this.off("close",c),this.off("upgrading",h)};e.once("open",n),e.once("error",u),e.once("close",l),this.once("close",c),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||e.open()},200):e.open()}onOpen(){if(this.readyState="open",Es.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0,e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let e=0;e<this.writeBuffer.length;e++){let i=this.writeBuffer[e].data;if(i&&(t+=vW(i)),e>0&&t>this.maxPayload)return this.writeBuffer.slice(0,e);t+=2}return this.writeBuffer}write(t,e,i){return this.sendPacket("message",t,e,i),this}send(t,e,i){return this.sendPacket("message",t,e,i),this}sendPacket(t,e,i,n){if(typeof e=="function"&&(n=e,e=void 0),typeof i=="function"&&(n=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let o={type:t,data:e,options:i};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}close(){let t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},i=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}onError(t){Es.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){let e=[],i=0,n=t.length;for(;i<n;i++)~this.transports.indexOf(t[i])&&e.push(t[i]);return e}};yb.protocol=UO;var ooe=yb.protocol;function kW(r,t="",e){let i=r;e=e||typeof location<"u"&&location,r==null&&(r=e.protocol+"//"+e.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=e.protocol+r:r=e.host+r),/^(https?|wss?):\/\//.test(r)||(typeof e<"u"?r=e.protocol+"//"+r:r="https://"+r),i=Qg(r)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";let n=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+n+":"+i.port+t,i.href=i.protocol+"://"+n+(e&&e.port===i.port?"":":"+i.port),i}K();K();var JO={};N2(JO,{Decoder:()=>HW,Encoder:()=>UW,PacketType:()=>Le,protocol:()=>WW});K();K();K();var NW=typeof ArrayBuffer=="function",FW=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,KO=Object.prototype.toString,DW=typeof Blob=="function"||typeof Blob<"u"&&KO.call(Blob)==="[object BlobConstructor]",qW=typeof File=="function"||typeof File<"u"&&KO.call(File)==="[object FileConstructor]";function _b(r){return NW&&(r instanceof ArrayBuffer||FW(r))||DW&&r instanceof Blob||qW&&r instanceof File}function Od(r,t){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let e=0,i=r.length;e<i;e++)if(Od(r[e]))return!0;return!1}if(_b(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return Od(r.toJSON(),!0);for(let e in r)if(Object.prototype.hasOwnProperty.call(r,e)&&Od(r[e]))return!0;return!1}function $W(r){let t=[],e=r.data,i=r;return i.data=eb(e,t),i.attachments=t.length,{packet:i,buffers:t}}function eb(r,t){if(!r)return r;if(_b(r)){let e={_placeholder:!0,num:t.length};return t.push(r),e}else if(Array.isArray(r)){let e=new Array(r.length);for(let i=0;i<r.length;i++)e[i]=eb(r[i],t);return e}else if(typeof r=="object"&&!(r instanceof Date)){let e={};for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=eb(r[i],t));return e}return r}function jW(r,t){return r.data=tb(r.data,t),delete r.attachments,r}function tb(r,t){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<t.length)return t[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let e=0;e<r.length;e++)r[e]=tb(r[e],t);else if(typeof r=="object")for(let e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e]=tb(r[e],t));return r}var BW=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],WW=5,Le;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(Le||(Le={}));var UW=class{constructor(r){this.replacer=r}encode(r){return(r.type===Le.EVENT||r.type===Le.ACK)&&Od(r)?this.encodeAsBinary({type:r.type===Le.EVENT?Le.BINARY_EVENT:Le.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let t=""+r.type;return(r.type===Le.BINARY_EVENT||r.type===Le.BINARY_ACK)&&(t+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(t+=r.nsp+","),r.id!=null&&(t+=r.id),r.data!=null&&(t+=JSON.stringify(r.data,this.replacer)),t}encodeAsBinary(r){let t=$W(r),e=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(e),i}};function xO(r){return Object.prototype.toString.call(r)==="[object Object]"}var HW=class YO extends ht{constructor(t){super(),this.reviver=t}add(t){let e;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);let i=e.type===Le.BINARY_EVENT;i||e.type===Le.BINARY_ACK?(e.type=i?Le.EVENT:Le.ACK,this.reconstructor=new zW(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(_b(t)||t.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let e=0,i={type:Number(t.charAt(0))};if(Le[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Le.BINARY_EVENT||i.type===Le.BINARY_ACK){let o=e+1;for(;t.charAt(++e)!=="-"&&e!=t.length;);let u=t.substring(o,e);if(u!=Number(u)||t.charAt(e)!=="-")throw new Error("Illegal attachments");i.attachments=Number(u)}if(t.charAt(e+1)==="/"){let o=e+1;for(;++e&&!(t.charAt(e)===","||e===t.length););i.nsp=t.substring(o,e)}else i.nsp="/";let n=t.charAt(e+1);if(n!==""&&Number(n)==n){let o=e+1;for(;++e;){let u=t.charAt(e);if(u==null||Number(u)!=u){--e;break}if(e===t.length)break}i.id=Number(t.substring(o,e+1))}if(t.charAt(++e)){let o=this.tryParse(t.substr(e));if(YO.isPayloadValid(i.type,o))i.data=o;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,e){switch(t){case Le.CONNECT:return xO(e);case Le.DISCONNECT:return e===void 0;case Le.CONNECT_ERROR:return typeof e=="string"||xO(e);case Le.EVENT:case Le.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&BW.indexOf(e[0])===-1);case Le.ACK:case Le.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},zW=class{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){let t=jW(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};K();function Dr(r,t,e){return r.on(t,e),function(){r.off(t,e)}}var VW=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),XO=class extends ht{constructor(r,t,e){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=t,e&&e.auth&&(this.auth=e.auth),this._opts=Object.assign({},e),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let r=this.io;this.subs=[Dr(r,"open",this.onopen.bind(this)),Dr(r,"packet",this.onpacket.bind(this)),Dr(r,"error",this.onerror.bind(this)),Dr(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...t){if(VW.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(t.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let e={type:Le.EVENT,data:t};if(e.options={},e.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let n=this.ids++,o=t.pop();this._registerAckCallback(n,o),e.id=n}let i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(e),this.packet(e)):this.sendBuffer.push(e)),this.flags={},this}_registerAckCallback(r,t){var e;let i=(e=this.flags.timeout)!==null&&e!==void 0?e:this._opts.ackTimeout;if(i===void 0){this.acks[r]=t;return}let n=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===r&&this.sendBuffer.splice(u,1);t.call(this,new Error("operation has timed out"))},i),o=(...u)=>{this.io.clearTimeoutFn(n),t.apply(this,u)};o.withError=!0,this.acks[r]=o}emitWithAck(r,...t){return new Promise((e,i)=>{let n=(o,u)=>o?i(o):e(u);n.withError=!0,t.push(n),this.emit(r,...t)})}_addToQueue(r){let t;typeof r[r.length-1]=="function"&&(t=r.pop());let e={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((i,...n)=>e!==this._queue[0]?void 0:(i!==null?e.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...n)),e.pending=!1,this._drainQueue())),this._queue.push(e),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!r||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:Le.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(t=>String(t.id)===r)){let t=this.acks[r];delete this.acks[r],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case Le.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Le.EVENT:case Le.BINARY_EVENT:this.onevent(r);break;case Le.ACK:case Le.BINARY_ACK:this.onack(r);break;case Le.DISCONNECT:this.ondisconnect();break;case Le.CONNECT_ERROR:this.destroy();let t=new Error(r.data.message);t.data=r.data.data,this.emitReserved("connect_error",t);break}}onevent(r){let t=r.data||[];r.id!=null&&t.push(this.ack(r.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let e of t)e.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){let t=this,e=!1;return function(...i){e||(e=!0,t.packet({type:Le.ACK,id:r,data:i}))}}onack(r){let t=this.acks[r.id];typeof t=="function"&&(delete this.acks[r.id],t.withError&&r.data.unshift(null),t.apply(this,r.data))}onconnect(r,t){this.id=r,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Le.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){let t=this._anyListeners;for(let e=0;e<t.length;e++)if(r===t[e])return t.splice(e,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){let t=this._anyOutgoingListeners;for(let e=0;e<t.length;e++)if(r===t[e])return t.splice(e,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let e of t)e.apply(this,r.data)}}};K();function Cs(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}Cs.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*r);r=Math.floor(t*10)&1?r+e:r-e}return Math.min(r,this.max)|0};Cs.prototype.reset=function(){this.attempts=0};Cs.prototype.setMin=function(r){this.ms=r};Cs.prototype.setMax=function(r){this.max=r};Cs.prototype.setJitter=function(r){this.jitter=r};var Md=class extends ht{constructor(r,t){var e;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(t=r,r=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Ud(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((e=t.randomizationFactor)!==null&&e!==void 0?e:.5),this.backoff=new Cs({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=r;let i=t.parser||JO;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var t;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(t=this.backoff)===null||t===void 0||t.setMin(r),this)}randomizationFactor(r){var t;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(t=this.backoff)===null||t===void 0||t.setJitter(r),this)}reconnectionDelayMax(r){var t;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(t=this.backoff)===null||t===void 0||t.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new yb(this.uri,this.opts);let t=this.engine,e=this;this._readyState="opening",this.skipReconnect=!1;let i=Dr(t,"open",function(){e.onopen(),r&&r()}),n=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),r?r(u):this.maybeReconnectOnOpen()},o=Dr(t,"error",n);if(this._timeout!==!1){let u=this._timeout,l=this.setTimeoutFn(()=>{i(),n(new Error("timeout")),t.close()},u);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(o),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let r=this.engine;this.subs.push(Dr(r,"ping",this.onping.bind(this)),Dr(r,"data",this.ondata.bind(this)),Dr(r,"error",this.onerror.bind(this)),Dr(r,"close",this.onclose.bind(this)),Dr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(t){this.onclose("parse error",t)}}ondecoded(r){bb(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,t){let e=this.nsps[r];return e?this._autoConnect&&!e.active&&e.connect():(e=new XO(this,r,t),this.nsps[r]=e),e}_destroy(r){let t=Object.keys(this.nsps);for(let e of t)if(this.nsps[e].active)return;this._close()}_packet(r){let t=this.encoder.encode(r);for(let e=0;e<t.length;e++)this.engine.write(t[e],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(r,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let e=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(i=>{i?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",i)):r.onreconnect()}))},t);this.opts.autoUnref&&e.unref(),this.subs.push(()=>{this.clearTimeoutFn(e)})}}onreconnect(){let r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}},wu={};function zg(r,t){typeof r=="object"&&(t=r,r=void 0),t=t||{};let e=kW(r,t.path||"/socket.io"),i=e.source,n=e.id,o=e.path,u=wu[n]&&o in wu[n].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||u,c;return l?c=new Md(i,t):(wu[n]||(wu[n]=new Md(i,t)),c=wu[n]),e.query&&!t.query&&(t.query=e.queryKey),c.socket(e.path,t)}Object.assign(zg,{Manager:Md,Socket:XO,io:zg,connect:zg});K();K();var Re;(function(r){r.assertEqual=n=>n;function t(n){}r.assertIs=t;function e(n){throw new Error}r.assertNever=e,r.arrayToEnum=n=>{let o={};for(let u of n)o[u]=u;return o},r.getValidEnumValues=n=>{let o=r.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),u={};for(let l of o)u[l]=n[l];return r.objectValues(u)},r.objectValues=n=>r.objectKeys(n).map(function(o){return n[o]}),r.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{let o=[];for(let u in n)Object.prototype.hasOwnProperty.call(n,u)&&o.push(u);return o},r.find=(n,o)=>{for(let u of n)if(o(u))return u},r.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function i(n,o=" | "){return n.map(u=>typeof u=="string"?`'${u}'`:u).join(o)}r.joinValues=i,r.jsonStringifyReplacer=(n,o)=>typeof o=="bigint"?o.toString():o})(Re||(Re={}));var rb;(function(r){r.mergeShapes=(t,e)=>F(F({},t),e)})(rb||(rb={}));var Z=Re.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tn=r=>{switch(typeof r){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return isNaN(r)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":return Array.isArray(r)?Z.array:r===null?Z.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?Z.promise:typeof Map<"u"&&r instanceof Map?Z.map:typeof Set<"u"&&r instanceof Set?Z.set:typeof Date<"u"&&r instanceof Date?Z.date:Z.object;default:return Z.unknown}},B=Re.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),GW=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),qr=class QO extends Error{constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};let e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){let e=t||function(o){return o.message},i={_errors:[]},n=o=>{for(let u of o.issues)if(u.code==="invalid_union")u.unionErrors.map(n);else if(u.code==="invalid_return_type")n(u.returnTypeError);else if(u.code==="invalid_arguments")n(u.argumentsError);else if(u.path.length===0)i._errors.push(e(u));else{let l=i,c=0;for(;c<u.path.length;){let h=u.path[c];c===u.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(e(u))):l[h]=l[h]||{_errors:[]},l=l[h],c++}}};return n(this),i}static assert(t){if(!(t instanceof QO))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Re.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=e=>e.message){let e={},i=[];for(let n of this.issues)n.path.length>0?(e[n.path[0]]=e[n.path[0]]||[],e[n.path[0]].push(t(n))):i.push(t(n));return{formErrors:i,fieldErrors:e}}get formErrors(){return this.flatten()}};qr.create=r=>new qr(r);var Ts=(r,t)=>{let e;switch(r.code){case B.invalid_type:r.received===Z.undefined?e="Required":e=`Expected ${r.expected}, received ${r.received}`;break;case B.invalid_literal:e=`Invalid literal value, expected ${JSON.stringify(r.expected,Re.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:e=`Unrecognized key(s) in object: ${Re.joinValues(r.keys,", ")}`;break;case B.invalid_union:e="Invalid input";break;case B.invalid_union_discriminator:e=`Invalid discriminator value. Expected ${Re.joinValues(r.options)}`;break;case B.invalid_enum_value:e=`Invalid enum value. Expected ${Re.joinValues(r.options)}, received '${r.received}'`;break;case B.invalid_arguments:e="Invalid function arguments";break;case B.invalid_return_type:e="Invalid function return type";break;case B.invalid_date:e="Invalid date";break;case B.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(e=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(e=`${e} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?e=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?e=`Invalid input: must end with "${r.validation.endsWith}"`:Re.assertNever(r.validation):r.validation!=="regex"?e=`Invalid ${r.validation}`:e="Invalid";break;case B.too_small:r.type==="array"?e=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?e=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?e=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?e=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:e="Invalid input";break;case B.too_big:r.type==="array"?e=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?e=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?e=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?e=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?e=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:e="Invalid input";break;case B.custom:e="Invalid input";break;case B.invalid_intersection_types:e="Intersection results could not be merged";break;case B.not_multiple_of:e=`Number must be a multiple of ${r.multipleOf}`;break;case B.not_finite:e="Number must be finite";break;default:e=t.defaultError,Re.assertNever(r)}return{message:e}},eT=Ts;function ZW(r){eT=r}function Id(){return eT}var Ld=r=>{let{data:t,path:e,errorMaps:i,issueData:n}=r,o=[...e,...n.path||[]],u=ce(F({},n),{path:o});if(n.message!==void 0)return ce(F({},n),{path:o,message:n.message});let l="",c=i.filter(h=>!!h).slice().reverse();for(let h of c)l=h(u,{data:t,defaultError:l}).message;return ce(F({},n),{path:o,message:l})},JW=[];function V(r,t){let e=Id(),i=Ld({issueData:t,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,e,e===Ts?void 0:Ts].filter(n=>!!n)});r.common.issues.push(i)}var Vt=class tT{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,e){let i=[];for(let n of e){if(n.status==="aborted")return de;n.status==="dirty"&&t.dirty(),i.push(n.value)}return{status:t.value,value:i}}static mergeObjectAsync(t,e){return xi(this,null,function*(){let i=[];for(let n of e){let o=yield n.key,u=yield n.value;i.push({key:o,value:u})}return tT.mergeObjectSync(t,i)})}static mergeObjectSync(t,e){let i={};for(let n of e){let{key:o,value:u}=n;if(o.status==="aborted"||u.status==="aborted")return de;o.status==="dirty"&&t.dirty(),u.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof u.value<"u"||n.alwaysSet)&&(i[o.value]=u.value)}return{status:t.value,value:i}}},de=Object.freeze({status:"aborted"}),Rd=r=>({status:"dirty",value:r}),$t=r=>({status:"valid",value:r}),ib=r=>r.status==="aborted",nb=r=>r.status==="dirty",Pu=r=>r.status==="valid",Au=r=>typeof Promise<"u"&&r instanceof Promise;function kd(r,t,e,i){if(e==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?i:e==="a"?i.call(r):i?i.value:t.get(r)}function rT(r,t,e,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(r,e):n?n.value=e:t.set(r,e),e}var re;(function(r){r.errToObj=t=>typeof t=="string"?{message:t}:t||{},r.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(re||(re={}));var Su,Ou,oi=class{constructor(r,t,e,i){this._cachedPath=[],this.parent=r,this.data=t,this._path=e,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},CO=(r,t)=>{if(Pu(t))return{success:!0,data:t.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let e=new qr(r.common.issues);return this._error=e,this._error}}};function be(r){if(!r)return{};let{errorMap:t,invalid_type_error:e,required_error:i,description:n}=r;if(t&&(e||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:n}:{errorMap:(o,u)=>{var l,c;let{message:h}=r;return o.code==="invalid_enum_value"?{message:h??u.defaultError}:typeof u.data>"u"?{message:(l=h??i)!==null&&l!==void 0?l:u.defaultError}:o.code!=="invalid_type"?{message:u.defaultError}:{message:(c=h??e)!==null&&c!==void 0?c:u.defaultError}},description:n}}var Te=class{constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(r){return tn(r.data)}_getOrReturnCtx(r,t){return t||{common:r.parent.common,data:r.data,parsedType:tn(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new Vt,ctx:{common:r.parent.common,data:r.data,parsedType:tn(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){let t=this._parse(r);if(Au(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(r){let t=this._parse(r);return Promise.resolve(t)}parse(r,t){let e=this.safeParse(r,t);if(e.success)return e.data;throw e.error}safeParse(r,t){var e;let i={common:{issues:[],async:(e=t==null?void 0:t.async)!==null&&e!==void 0?e:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:tn(r)},n=this._parseSync({data:r,path:i.path,parent:i});return CO(i,n)}parseAsync(r,t){return xi(this,null,function*(){let e=yield this.safeParseAsync(r,t);if(e.success)return e.data;throw e.error})}safeParseAsync(r,t){return xi(this,null,function*(){let e={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:tn(r)},i=this._parse({data:r,path:e.path,parent:e}),n=yield Au(i)?i:Promise.resolve(i);return CO(e,n)})}refine(r,t){let e=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,n)=>{let o=r(i),u=()=>n.addIssue(F({code:B.custom},e(i)));return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(u(),!1)):o?!0:(u(),!1)})}refinement(r,t){return this._refinement((e,i)=>r(e)?!0:(i.addIssue(typeof t=="function"?t(e,i):t),!1))}_refinement(r){return new $r({schema:this,typeName:ae.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}optional(){return ii.create(this,this._def)}nullable(){return nn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return no.create(this,this._def)}promise(){return xs.create(this,this._def)}or(r){return ku.create([this,r],this._def)}and(r){return Nu.create(this,r,this._def)}transform(r){return new $r(ce(F({},be(this._def)),{schema:this,typeName:ae.ZodEffects,effect:{type:"transform",transform:r}}))}default(r){let t=typeof r=="function"?r:()=>r;return new $u(ce(F({},be(this._def)),{innerType:this,defaultValue:t,typeName:ae.ZodDefault}))}brand(){return new wb(F({typeName:ae.ZodBranded,type:this},be(this._def)))}catch(r){let t=typeof r=="function"?r:()=>r;return new ju(ce(F({},be(this._def)),{innerType:this,catchValue:t,typeName:ae.ZodCatch}))}describe(r){let t=this.constructor;return new t(ce(F({},this._def),{description:r}))}pipe(r){return Eb.create(this,r)}readonly(){return Bu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},KW=/^c[^\s-]{8,}$/i,YW=/^[0-9a-z]+$/,XW=/^[0-9A-HJKMNP-TV-Z]{26}$/,QW=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eU=/^[a-z0-9_-]{21}$/i,tU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,iU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Vg,nU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,oU=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,sU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,iT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",aU=new RegExp(`^${iT}$`);function nT(r){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?t=`${t}\\.\\d{${r.precision}}`:r.precision==null&&(t=`${t}(\\.\\d+)?`),t}function uU(r){return new RegExp(`^${nT(r)}$`)}function oT(r){let t=`${iT}T${nT(r)}`,e=[];return e.push(r.local?"Z?":"Z"),r.offset&&e.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${e.join("|")})`,new RegExp(`^${t}$`)}function lU(r,t){return!!((t==="v4"||!t)&&nU.test(r)||(t==="v6"||!t)&&oU.test(r))}var Ps=class Tu extends Te{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Z.string){let n=this._getOrReturnCtx(t);return V(n,{code:B.invalid_type,expected:Z.string,received:n.parsedType}),de}let e=new Vt,i;for(let n of this._def.checks)if(n.kind==="min")t.data.length<n.value&&(i=this._getOrReturnCtx(t,i),V(i,{code:B.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),e.dirty());else if(n.kind==="max")t.data.length>n.value&&(i=this._getOrReturnCtx(t,i),V(i,{code:B.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),e.dirty());else if(n.kind==="length"){let o=t.data.length>n.value,u=t.data.length<n.value;(o||u)&&(i=this._getOrReturnCtx(t,i),o?V(i,{code:B.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):u&&V(i,{code:B.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),e.dirty())}else if(n.kind==="email")rU.test(t.data)||(i=this._getOrReturnCtx(t,i),V(i,{validation:"email",code:B.invalid_string,message:n.message}),e.dirty());else if(n.kind==="emoji")Vg||(Vg=new RegExp(iU,"u")),Vg.test(t.data)||(i=this._getOrReturnCtx(t,i),V(i,{validation:"emoji",code:B.invalid_string,message:n.message}),e.dirty());else if(n.kind==="uuid")QW.test(t.data)||(i=this._getOrReturnCtx(t,i),V(i,{validation:"uuid",code:B.invalid_string,message:n.message}),e.dirty());else if(n.kind==="nanoid")eU.test(t.data)||(i=this._getOrReturnCtx(t,i),V(i,{validation:"nanoid",code:B.invalid_string,message:n.message}),e.dirty());else if(n.kind==="cuid")KW.test(t.data)||(i=this._getOrReturnCtx(t,i),V(i,{validation:"cuid",code:B.invalid_string,message:n.message}),e.dirty());else if(n.kind==="cuid2")YW.test(t.data)||(i=this._getOrReturnCtx(t,i),V(i,{validation:"cuid2",code:B.invalid_string,message:n.message}),e.dirty());else if(n.kind==="ulid")XW.test(t.data)||(i=this._getOrReturnCtx(t,i),V(i,{validation:"ulid",code:B.invalid_string,message:n.message}),e.dirty());else if(n.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),V(i,{validation:"url",code:B.invalid_string,message:n.message}),e.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),V(i,{validation:"regex",code:B.invalid_string,message:n.message}),e.dirty())):n.kind==="trim"?t.data=t.data.trim():n.kind==="includes"?t.data.includes(n.value,n.position)||(i=this._getOrReturnCtx(t,i),V(i,{code:B.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),e.dirty()):n.kind==="toLowerCase"?t.data=t.data.toLowerCase():n.kind==="toUpperCase"?t.data=t.data.toUpperCase():n.kind==="startsWith"?t.data.startsWith(n.value)||(i=this._getOrReturnCtx(t,i),V(i,{code:B.invalid_string,validation:{startsWith:n.value},message:n.message}),e.dirty()):n.kind==="endsWith"?t.data.endsWith(n.value)||(i=this._getOrReturnCtx(t,i),V(i,{code:B.invalid_string,validation:{endsWith:n.value},message:n.message}),e.dirty()):n.kind==="datetime"?oT(n).test(t.data)||(i=this._getOrReturnCtx(t,i),V(i,{code:B.invalid_string,validation:"datetime",message:n.message}),e.dirty()):n.kind==="date"?aU.test(t.data)||(i=this._getOrReturnCtx(t,i),V(i,{code:B.invalid_string,validation:"date",message:n.message}),e.dirty()):n.kind==="time"?uU(n).test(t.data)||(i=this._getOrReturnCtx(t,i),V(i,{code:B.invalid_string,validation:"time",message:n.message}),e.dirty()):n.kind==="duration"?tU.test(t.data)||(i=this._getOrReturnCtx(t,i),V(i,{validation:"duration",code:B.invalid_string,message:n.message}),e.dirty()):n.kind==="ip"?lU(t.data,n.version)||(i=this._getOrReturnCtx(t,i),V(i,{validation:"ip",code:B.invalid_string,message:n.message}),e.dirty()):n.kind==="base64"?sU.test(t.data)||(i=this._getOrReturnCtx(t,i),V(i,{validation:"base64",code:B.invalid_string,message:n.message}),e.dirty()):Re.assertNever(n);return{status:e.value,value:t.data}}_regex(t,e,i){return this.refinement(n=>t.test(n),F({validation:e,code:B.invalid_string},re.errToObj(i)))}_addCheck(t){return new Tu(ce(F({},this._def),{checks:[...this._def.checks,t]}))}email(t){return this._addCheck(F({kind:"email"},re.errToObj(t)))}url(t){return this._addCheck(F({kind:"url"},re.errToObj(t)))}emoji(t){return this._addCheck(F({kind:"emoji"},re.errToObj(t)))}uuid(t){return this._addCheck(F({kind:"uuid"},re.errToObj(t)))}nanoid(t){return this._addCheck(F({kind:"nanoid"},re.errToObj(t)))}cuid(t){return this._addCheck(F({kind:"cuid"},re.errToObj(t)))}cuid2(t){return this._addCheck(F({kind:"cuid2"},re.errToObj(t)))}ulid(t){return this._addCheck(F({kind:"ulid"},re.errToObj(t)))}base64(t){return this._addCheck(F({kind:"base64"},re.errToObj(t)))}ip(t){return this._addCheck(F({kind:"ip"},re.errToObj(t)))}datetime(t){var e,i;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck(F({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(e=t==null?void 0:t.offset)!==null&&e!==void 0?e:!1,local:(i=t==null?void 0:t.local)!==null&&i!==void 0?i:!1},re.errToObj(t==null?void 0:t.message)))}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck(F({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision},re.errToObj(t==null?void 0:t.message)))}duration(t){return this._addCheck(F({kind:"duration"},re.errToObj(t)))}regex(t,e){return this._addCheck(F({kind:"regex",regex:t},re.errToObj(e)))}includes(t,e){return this._addCheck(F({kind:"includes",value:t,position:e==null?void 0:e.position},re.errToObj(e==null?void 0:e.message)))}startsWith(t,e){return this._addCheck(F({kind:"startsWith",value:t},re.errToObj(e)))}endsWith(t,e){return this._addCheck(F({kind:"endsWith",value:t},re.errToObj(e)))}min(t,e){return this._addCheck(F({kind:"min",value:t},re.errToObj(e)))}max(t,e){return this._addCheck(F({kind:"max",value:t},re.errToObj(e)))}length(t,e){return this._addCheck(F({kind:"length",value:t},re.errToObj(e)))}nonempty(t){return this.min(1,re.errToObj(t))}trim(){return new Tu(ce(F({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new Tu(ce(F({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new Tu(ce(F({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(let e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxLength(){let t=null;for(let e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}};Ps.create=r=>{var t;return new Ps(F({checks:[],typeName:ae.ZodString,coerce:(t=r==null?void 0:r.coerce)!==null&&t!==void 0?t:!1},be(r)))};function cU(r,t){let e=(r.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,n=e>i?e:i,o=parseInt(r.toFixed(n).replace(".","")),u=parseInt(t.toFixed(n).replace(".",""));return o%u/Math.pow(10,n)}var xu=class ob extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Z.number){let n=this._getOrReturnCtx(t);return V(n,{code:B.invalid_type,expected:Z.number,received:n.parsedType}),de}let e,i=new Vt;for(let n of this._def.checks)n.kind==="int"?Re.isInteger(t.data)||(e=this._getOrReturnCtx(t,e),V(e,{code:B.invalid_type,expected:"integer",received:"float",message:n.message}),i.dirty()):n.kind==="min"?(n.inclusive?t.data<n.value:t.data<=n.value)&&(e=this._getOrReturnCtx(t,e),V(e,{code:B.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),i.dirty()):n.kind==="max"?(n.inclusive?t.data>n.value:t.data>=n.value)&&(e=this._getOrReturnCtx(t,e),V(e,{code:B.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),i.dirty()):n.kind==="multipleOf"?cU(t.data,n.value)!==0&&(e=this._getOrReturnCtx(t,e),V(e,{code:B.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):n.kind==="finite"?Number.isFinite(t.data)||(e=this._getOrReturnCtx(t,e),V(e,{code:B.not_finite,message:n.message}),i.dirty()):Re.assertNever(n);return{status:i.value,value:t.data}}gte(t,e){return this.setLimit("min",t,!0,re.toString(e))}gt(t,e){return this.setLimit("min",t,!1,re.toString(e))}lte(t,e){return this.setLimit("max",t,!0,re.toString(e))}lt(t,e){return this.setLimit("max",t,!1,re.toString(e))}setLimit(t,e,i,n){return new ob(ce(F({},this._def),{checks:[...this._def.checks,{kind:t,value:e,inclusive:i,message:re.toString(n)}]}))}_addCheck(t){return new ob(ce(F({},this._def),{checks:[...this._def.checks,t]}))}int(t){return this._addCheck({kind:"int",message:re.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:re.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:re.toString(e)})}finite(t){return this._addCheck({kind:"finite",message:re.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:re.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:re.toString(t)})}get minValue(){let t=null;for(let e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(let e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Re.isInteger(t.value))}get isFinite(){let t=null,e=null;for(let i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(e===null||i.value>e)&&(e=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(e)&&Number.isFinite(t)}};xu.create=r=>new xu(F({checks:[],typeName:ae.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1},be(r)));var Cu=class sb extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Z.bigint){let n=this._getOrReturnCtx(t);return V(n,{code:B.invalid_type,expected:Z.bigint,received:n.parsedType}),de}let e,i=new Vt;for(let n of this._def.checks)n.kind==="min"?(n.inclusive?t.data<n.value:t.data<=n.value)&&(e=this._getOrReturnCtx(t,e),V(e,{code:B.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),i.dirty()):n.kind==="max"?(n.inclusive?t.data>n.value:t.data>=n.value)&&(e=this._getOrReturnCtx(t,e),V(e,{code:B.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),i.dirty()):n.kind==="multipleOf"?t.data%n.value!==BigInt(0)&&(e=this._getOrReturnCtx(t,e),V(e,{code:B.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):Re.assertNever(n);return{status:i.value,value:t.data}}gte(t,e){return this.setLimit("min",t,!0,re.toString(e))}gt(t,e){return this.setLimit("min",t,!1,re.toString(e))}lte(t,e){return this.setLimit("max",t,!0,re.toString(e))}lt(t,e){return this.setLimit("max",t,!1,re.toString(e))}setLimit(t,e,i,n){return new sb(ce(F({},this._def),{checks:[...this._def.checks,{kind:t,value:e,inclusive:i,message:re.toString(n)}]}))}_addCheck(t){return new sb(ce(F({},this._def),{checks:[...this._def.checks,t]}))}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:re.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:re.toString(e)})}get minValue(){let t=null;for(let e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(let e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}};Cu.create=r=>{var t;return new Cu(F({checks:[],typeName:ae.ZodBigInt,coerce:(t=r==null?void 0:r.coerce)!==null&&t!==void 0?t:!1},be(r)))};var Mu=class extends Te{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==Z.boolean){let t=this._getOrReturnCtx(r);return V(t,{code:B.invalid_type,expected:Z.boolean,received:t.parsedType}),de}return $t(r.data)}};Mu.create=r=>new Mu(F({typeName:ae.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1},be(r)));var Iu=class sT extends Te{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Z.date){let n=this._getOrReturnCtx(t);return V(n,{code:B.invalid_type,expected:Z.date,received:n.parsedType}),de}if(isNaN(t.data.getTime())){let n=this._getOrReturnCtx(t);return V(n,{code:B.invalid_date}),de}let e=new Vt,i;for(let n of this._def.checks)n.kind==="min"?t.data.getTime()<n.value&&(i=this._getOrReturnCtx(t,i),V(i,{code:B.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),e.dirty()):n.kind==="max"?t.data.getTime()>n.value&&(i=this._getOrReturnCtx(t,i),V(i,{code:B.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),e.dirty()):Re.assertNever(n);return{status:e.value,value:new Date(t.data.getTime())}}_addCheck(t){return new sT(ce(F({},this._def),{checks:[...this._def.checks,t]}))}min(t,e){return this._addCheck({kind:"min",value:t.getTime(),message:re.toString(e)})}max(t,e){return this._addCheck({kind:"max",value:t.getTime(),message:re.toString(e)})}get minDate(){let t=null;for(let e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t!=null?new Date(t):null}};Iu.create=r=>new Iu(F({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:ae.ZodDate},be(r)));var Nd=class extends Te{_parse(r){if(this._getType(r)!==Z.symbol){let t=this._getOrReturnCtx(r);return V(t,{code:B.invalid_type,expected:Z.symbol,received:t.parsedType}),de}return $t(r.data)}};Nd.create=r=>new Nd(F({typeName:ae.ZodSymbol},be(r)));var Lu=class extends Te{_parse(r){if(this._getType(r)!==Z.undefined){let t=this._getOrReturnCtx(r);return V(t,{code:B.invalid_type,expected:Z.undefined,received:t.parsedType}),de}return $t(r.data)}};Lu.create=r=>new Lu(F({typeName:ae.ZodUndefined},be(r)));var Ru=class extends Te{_parse(r){if(this._getType(r)!==Z.null){let t=this._getOrReturnCtx(r);return V(t,{code:B.invalid_type,expected:Z.null,received:t.parsedType}),de}return $t(r.data)}};Ru.create=r=>new Ru(F({typeName:ae.ZodNull},be(r)));var As=class extends Te{constructor(){super(...arguments),this._any=!0}_parse(r){return $t(r.data)}};As.create=r=>new As(F({typeName:ae.ZodAny},be(r)));var io=class extends Te{constructor(){super(...arguments),this._unknown=!0}_parse(r){return $t(r.data)}};io.create=r=>new io(F({typeName:ae.ZodUnknown},be(r)));var Ci=class extends Te{_parse(r){let t=this._getOrReturnCtx(r);return V(t,{code:B.invalid_type,expected:Z.never,received:t.parsedType}),de}};Ci.create=r=>new Ci(F({typeName:ae.ZodNever},be(r)));var Fd=class extends Te{_parse(r){if(this._getType(r)!==Z.undefined){let t=this._getOrReturnCtx(r);return V(t,{code:B.invalid_type,expected:Z.void,received:t.parsedType}),de}return $t(r.data)}};Fd.create=r=>new Fd(F({typeName:ae.ZodVoid},be(r)));var no=class Td extends Te{_parse(t){let{ctx:e,status:i}=this._processInputParams(t),n=this._def;if(e.parsedType!==Z.array)return V(e,{code:B.invalid_type,expected:Z.array,received:e.parsedType}),de;if(n.exactLength!==null){let u=e.data.length>n.exactLength.value,l=e.data.length<n.exactLength.value;(u||l)&&(V(e,{code:u?B.too_big:B.too_small,minimum:l?n.exactLength.value:void 0,maximum:u?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),i.dirty())}if(n.minLength!==null&&e.data.length<n.minLength.value&&(V(e,{code:B.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),i.dirty()),n.maxLength!==null&&e.data.length>n.maxLength.value&&(V(e,{code:B.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),i.dirty()),e.common.async)return Promise.all([...e.data].map((u,l)=>n.type._parseAsync(new oi(e,u,e.path,l)))).then(u=>Vt.mergeArray(i,u));let o=[...e.data].map((u,l)=>n.type._parseSync(new oi(e,u,e.path,l)));return Vt.mergeArray(i,o)}get element(){return this._def.type}min(t,e){return new Td(ce(F({},this._def),{minLength:{value:t,message:re.toString(e)}}))}max(t,e){return new Td(ce(F({},this._def),{maxLength:{value:t,message:re.toString(e)}}))}length(t,e){return new Td(ce(F({},this._def),{exactLength:{value:t,message:re.toString(e)}}))}nonempty(t){return this.min(1,t)}};no.create=(r,t)=>new no(F({type:r,minLength:null,maxLength:null,exactLength:null,typeName:ae.ZodArray},be(t)));function Ss(r){if(r instanceof wr){let t={};for(let e in r.shape){let i=r.shape[e];t[e]=ii.create(Ss(i))}return new wr(ce(F({},r._def),{shape:()=>t}))}else return r instanceof no?new no(ce(F({},r._def),{type:Ss(r.element)})):r instanceof ii?ii.create(Ss(r.unwrap())):r instanceof nn?nn.create(Ss(r.unwrap())):r instanceof rn?rn.create(r.items.map(t=>Ss(t))):r}var wr=class Nr extends Te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),e=Re.objectKeys(t);return this._cached={shape:t,keys:e}}_parse(t){if(this._getType(t)!==Z.object){let c=this._getOrReturnCtx(t);return V(c,{code:B.invalid_type,expected:Z.object,received:c.parsedType}),de}let{status:e,ctx:i}=this._processInputParams(t),{shape:n,keys:o}=this._getCached(),u=[];if(!(this._def.catchall instanceof Ci&&this._def.unknownKeys==="strip"))for(let c in i.data)o.includes(c)||u.push(c);let l=[];for(let c of o){let h=n[c],m=i.data[c];l.push({key:{status:"valid",value:c},value:h._parse(new oi(i,m,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Ci){let c=this._def.unknownKeys;if(c==="passthrough")for(let h of u)l.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(c==="strict")u.length>0&&(V(i,{code:B.unrecognized_keys,keys:u}),e.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let h of u){let m=i.data[h];l.push({key:{status:"valid",value:h},value:c._parse(new oi(i,m,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(()=>xi(this,null,function*(){let c=[];for(let h of l){let m=yield h.key,b=yield h.value;c.push({key:m,value:b,alwaysSet:h.alwaysSet})}return c})).then(c=>Vt.mergeObjectSync(e,c)):Vt.mergeObjectSync(e,l)}get shape(){return this._def.shape()}strict(t){return re.errToObj,new Nr(F(ce(F({},this._def),{unknownKeys:"strict"}),t!==void 0?{errorMap:(e,i)=>{var n,o,u,l;let c=(u=(o=(n=this._def).errorMap)===null||o===void 0?void 0:o.call(n,e,i).message)!==null&&u!==void 0?u:i.defaultError;return e.code==="unrecognized_keys"?{message:(l=re.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}))}strip(){return new Nr(ce(F({},this._def),{unknownKeys:"strip"}))}passthrough(){return new Nr(ce(F({},this._def),{unknownKeys:"passthrough"}))}extend(t){return new Nr(ce(F({},this._def),{shape:()=>F(F({},this._def.shape()),t)}))}merge(t){return new Nr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>F(F({},this._def.shape()),t._def.shape()),typeName:ae.ZodObject})}setKey(t,e){return this.augment({[t]:e})}catchall(t){return new Nr(ce(F({},this._def),{catchall:t}))}pick(t){let e={};return Re.objectKeys(t).forEach(i=>{t[i]&&this.shape[i]&&(e[i]=this.shape[i])}),new Nr(ce(F({},this._def),{shape:()=>e}))}omit(t){let e={};return Re.objectKeys(this.shape).forEach(i=>{t[i]||(e[i]=this.shape[i])}),new Nr(ce(F({},this._def),{shape:()=>e}))}deepPartial(){return Ss(this)}partial(t){let e={};return Re.objectKeys(this.shape).forEach(i=>{let n=this.shape[i];t&&!t[i]?e[i]=n:e[i]=n.optional()}),new Nr(ce(F({},this._def),{shape:()=>e}))}required(t){let e={};return Re.objectKeys(this.shape).forEach(i=>{if(t&&!t[i])e[i]=this.shape[i];else{let n=this.shape[i];for(;n instanceof ii;)n=n._def.innerType;e[i]=n}}),new Nr(ce(F({},this._def),{shape:()=>e}))}keyof(){return pT(Re.objectKeys(this.shape))}};wr.create=(r,t)=>new wr(F({shape:()=>r,unknownKeys:"strip",catchall:Ci.create(),typeName:ae.ZodObject},be(t)));wr.strictCreate=(r,t)=>new wr(F({shape:()=>r,unknownKeys:"strict",catchall:Ci.create(),typeName:ae.ZodObject},be(t)));wr.lazycreate=(r,t)=>new wr(F({shape:r,unknownKeys:"strip",catchall:Ci.create(),typeName:ae.ZodObject},be(t)));var ku=class extends Te{_parse(r){let{ctx:t}=this._processInputParams(r),e=this._def.options;function i(n){for(let u of n)if(u.result.status==="valid")return u.result;for(let u of n)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;let o=n.map(u=>new qr(u.ctx.common.issues));return V(t,{code:B.invalid_union,unionErrors:o}),de}if(t.common.async)return Promise.all(e.map(n=>xi(this,null,function*(){let o=ce(F({},t),{common:ce(F({},t.common),{issues:[]}),parent:null});return{result:yield n._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}}))).then(i);{let n,o=[];for(let l of e){let c=ce(F({},t),{common:ce(F({},t.common),{issues:[]}),parent:null}),h=l._parseSync({data:t.data,path:t.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!n&&(n={result:h,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(n)return t.common.issues.push(...n.ctx.common.issues),n.result;let u=o.map(l=>new qr(l));return V(t,{code:B.invalid_union,unionErrors:u}),de}}get options(){return this._def.options}};ku.create=(r,t)=>new ku(F({options:r,typeName:ae.ZodUnion},be(t)));var en=r=>r instanceof Fu?en(r.schema):r instanceof $r?en(r.innerType()):r instanceof Du?[r.value]:r instanceof Wu?r.options:r instanceof qu?Re.objectValues(r.enum):r instanceof $u?en(r._def.innerType):r instanceof Lu?[void 0]:r instanceof Ru?[null]:r instanceof ii?[void 0,...en(r.unwrap())]:r instanceof nn?[null,...en(r.unwrap())]:r instanceof wb||r instanceof Bu?en(r.unwrap()):r instanceof ju?en(r._def.innerType):[],aT=class uT extends Te{_parse(t){let{ctx:e}=this._processInputParams(t);if(e.parsedType!==Z.object)return V(e,{code:B.invalid_type,expected:Z.object,received:e.parsedType}),de;let i=this.discriminator,n=e.data[i],o=this.optionsMap.get(n);return o?e.common.async?o._parseAsync({data:e.data,path:e.path,parent:e}):o._parseSync({data:e.data,path:e.path,parent:e}):(V(e,{code:B.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),de)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,e,i){let n=new Map;for(let o of e){let u=en(o.shape[t]);if(!u.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let l of u){if(n.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);n.set(l,o)}}return new uT(F({typeName:ae.ZodDiscriminatedUnion,discriminator:t,options:e,optionsMap:n},be(i)))}};function ab(r,t){let e=tn(r),i=tn(t);if(r===t)return{valid:!0,data:r};if(e===Z.object&&i===Z.object){let n=Re.objectKeys(t),o=Re.objectKeys(r).filter(l=>n.indexOf(l)!==-1),u=F(F({},r),t);for(let l of o){let c=ab(r[l],t[l]);if(!c.valid)return{valid:!1};u[l]=c.data}return{valid:!0,data:u}}else if(e===Z.array&&i===Z.array){if(r.length!==t.length)return{valid:!1};let n=[];for(let o=0;o<r.length;o++){let u=r[o],l=t[o],c=ab(u,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return e===Z.date&&i===Z.date&&+r==+t?{valid:!0,data:r}:{valid:!1}}var Nu=class extends Te{_parse(r){let{status:t,ctx:e}=this._processInputParams(r),i=(n,o)=>{if(ib(n)||ib(o))return de;let u=ab(n.value,o.value);return u.valid?((nb(n)||nb(o))&&t.dirty(),{status:t.value,value:u.data}):(V(e,{code:B.invalid_intersection_types}),de)};return e.common.async?Promise.all([this._def.left._parseAsync({data:e.data,path:e.path,parent:e}),this._def.right._parseAsync({data:e.data,path:e.path,parent:e})]).then(([n,o])=>i(n,o)):i(this._def.left._parseSync({data:e.data,path:e.path,parent:e}),this._def.right._parseSync({data:e.data,path:e.path,parent:e}))}};Nu.create=(r,t,e)=>new Nu(F({left:r,right:t,typeName:ae.ZodIntersection},be(e)));var rn=class lT extends Te{_parse(t){let{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==Z.array)return V(i,{code:B.invalid_type,expected:Z.array,received:i.parsedType}),de;if(i.data.length<this._def.items.length)return V(i,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),de;!this._def.rest&&i.data.length>this._def.items.length&&(V(i,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e.dirty());let n=[...i.data].map((o,u)=>{let l=this._def.items[u]||this._def.rest;return l?l._parse(new oi(i,o,i.path,u)):null}).filter(o=>!!o);return i.common.async?Promise.all(n).then(o=>Vt.mergeArray(e,o)):Vt.mergeArray(e,n)}get items(){return this._def.items}rest(t){return new lT(ce(F({},this._def),{rest:t}))}};rn.create=(r,t)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new rn(F({items:r,typeName:ae.ZodTuple,rest:null},be(t)))};var cT=class ub extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==Z.object)return V(i,{code:B.invalid_type,expected:Z.object,received:i.parsedType}),de;let n=[],o=this._def.keyType,u=this._def.valueType;for(let l in i.data)n.push({key:o._parse(new oi(i,l,i.path,l)),value:u._parse(new oi(i,i.data[l],i.path,l)),alwaysSet:l in i.data});return i.common.async?Vt.mergeObjectAsync(e,n):Vt.mergeObjectSync(e,n)}get element(){return this._def.valueType}static create(t,e,i){return e instanceof Te?new ub(F({keyType:t,valueType:e,typeName:ae.ZodRecord},be(i))):new ub(F({keyType:Ps.create(),valueType:t,typeName:ae.ZodRecord},be(e)))}},Dd=class extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){let{status:t,ctx:e}=this._processInputParams(r);if(e.parsedType!==Z.map)return V(e,{code:B.invalid_type,expected:Z.map,received:e.parsedType}),de;let i=this._def.keyType,n=this._def.valueType,o=[...e.data.entries()].map(([u,l],c)=>({key:i._parse(new oi(e,u,e.path,[c,"key"])),value:n._parse(new oi(e,l,e.path,[c,"value"]))}));if(e.common.async){let u=new Map;return Promise.resolve().then(()=>xi(this,null,function*(){for(let l of o){let c=yield l.key,h=yield l.value;if(c.status==="aborted"||h.status==="aborted")return de;(c.status==="dirty"||h.status==="dirty")&&t.dirty(),u.set(c.value,h.value)}return{status:t.value,value:u}}))}else{let u=new Map;for(let l of o){let c=l.key,h=l.value;if(c.status==="aborted"||h.status==="aborted")return de;(c.status==="dirty"||h.status==="dirty")&&t.dirty(),u.set(c.value,h.value)}return{status:t.value,value:u}}}};Dd.create=(r,t,e)=>new Dd(F({valueType:t,keyType:r,typeName:ae.ZodMap},be(e)));var qd=class lb extends Te{_parse(t){let{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==Z.set)return V(i,{code:B.invalid_type,expected:Z.set,received:i.parsedType}),de;let n=this._def;n.minSize!==null&&i.data.size<n.minSize.value&&(V(i,{code:B.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),e.dirty()),n.maxSize!==null&&i.data.size>n.maxSize.value&&(V(i,{code:B.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),e.dirty());let o=this._def.valueType;function u(c){let h=new Set;for(let m of c){if(m.status==="aborted")return de;m.status==="dirty"&&e.dirty(),h.add(m.value)}return{status:e.value,value:h}}let l=[...i.data.values()].map((c,h)=>o._parse(new oi(i,c,i.path,h)));return i.common.async?Promise.all(l).then(c=>u(c)):u(l)}min(t,e){return new lb(ce(F({},this._def),{minSize:{value:t,message:re.toString(e)}}))}max(t,e){return new lb(ce(F({},this._def),{maxSize:{value:t,message:re.toString(e)}}))}size(t,e){return this.min(t,e).max(t,e)}nonempty(t){return this.min(1,t)}};qd.create=(r,t)=>new qd(F({valueType:r,minSize:null,maxSize:null,typeName:ae.ZodSet},be(t)));var dT=class Pd extends Te{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:e}=this._processInputParams(t);if(e.parsedType!==Z.function)return V(e,{code:B.invalid_type,expected:Z.function,received:e.parsedType}),de;function i(l,c){return Ld({data:l,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Id(),Ts].filter(h=>!!h),issueData:{code:B.invalid_arguments,argumentsError:c}})}function n(l,c){return Ld({data:l,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Id(),Ts].filter(h=>!!h),issueData:{code:B.invalid_return_type,returnTypeError:c}})}let o={errorMap:e.common.contextualErrorMap},u=e.data;if(this._def.returns instanceof xs){let l=this;return $t(function(...c){return xi(this,null,function*(){let h=new qr([]),m=yield l._def.args.parseAsync(c,o).catch(y=>{throw h.addIssue(i(c,y)),h}),b=yield Reflect.apply(u,this,m);return yield l._def.returns._def.type.parseAsync(b,o).catch(y=>{throw h.addIssue(n(b,y)),h})})})}else{let l=this;return $t(function(...c){let h=l._def.args.safeParse(c,o);if(!h.success)throw new qr([i(c,h.error)]);let m=Reflect.apply(u,this,h.data),b=l._def.returns.safeParse(m,o);if(!b.success)throw new qr([n(m,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Pd(ce(F({},this._def),{args:rn.create(t).rest(io.create())}))}returns(t){return new Pd(ce(F({},this._def),{returns:t}))}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,e,i){return new Pd(F({args:t||rn.create([]).rest(io.create()),returns:e||io.create(),typeName:ae.ZodFunction},be(i)))}},Fu=class extends Te{get schema(){return this._def.getter()}_parse(r){let{ctx:t}=this._processInputParams(r);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};Fu.create=(r,t)=>new Fu(F({getter:r,typeName:ae.ZodLazy},be(t)));var Du=class extends Te{_parse(r){if(r.data!==this._def.value){let t=this._getOrReturnCtx(r);return V(t,{received:t.data,code:B.invalid_literal,expected:this._def.value}),de}return{status:"valid",value:r.data}}get value(){return this._def.value}};Du.create=(r,t)=>new Du(F({value:r,typeName:ae.ZodLiteral},be(t)));function pT(r,t){return new Wu(F({values:r,typeName:ae.ZodEnum},be(t)))}var Wu=class cb extends Te{constructor(){super(...arguments),Su.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let e=this._getOrReturnCtx(t),i=this._def.values;return V(e,{expected:Re.joinValues(i),received:e.parsedType,code:B.invalid_type}),de}if(kd(this,Su,"f")||rT(this,Su,new Set(this._def.values),"f"),!kd(this,Su,"f").has(t.data)){let e=this._getOrReturnCtx(t),i=this._def.values;return V(e,{received:e.data,code:B.invalid_enum_value,options:i}),de}return $t(t.data)}get options(){return this._def.values}get enum(){let t={};for(let e of this._def.values)t[e]=e;return t}get Values(){let t={};for(let e of this._def.values)t[e]=e;return t}get Enum(){let t={};for(let e of this._def.values)t[e]=e;return t}extract(t,e=this._def){return cb.create(t,F(F({},this._def),e))}exclude(t,e=this._def){return cb.create(this.options.filter(i=>!t.includes(i)),F(F({},this._def),e))}};Su=new WeakMap;Wu.create=pT;var qu=class extends Te{constructor(){super(...arguments),Ou.set(this,void 0)}_parse(r){let t=Re.getValidEnumValues(this._def.values),e=this._getOrReturnCtx(r);if(e.parsedType!==Z.string&&e.parsedType!==Z.number){let i=Re.objectValues(t);return V(e,{expected:Re.joinValues(i),received:e.parsedType,code:B.invalid_type}),de}if(kd(this,Ou,"f")||rT(this,Ou,new Set(Re.getValidEnumValues(this._def.values)),"f"),!kd(this,Ou,"f").has(r.data)){let i=Re.objectValues(t);return V(e,{received:e.data,code:B.invalid_enum_value,options:i}),de}return $t(r.data)}get enum(){return this._def.values}};Ou=new WeakMap;qu.create=(r,t)=>new qu(F({values:r,typeName:ae.ZodNativeEnum},be(t)));var xs=class extends Te{unwrap(){return this._def.type}_parse(r){let{ctx:t}=this._processInputParams(r);if(t.parsedType!==Z.promise&&t.common.async===!1)return V(t,{code:B.invalid_type,expected:Z.promise,received:t.parsedType}),de;let e=t.parsedType===Z.promise?t.data:Promise.resolve(t.data);return $t(e.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}};xs.create=(r,t)=>new xs(F({type:r,typeName:ae.ZodPromise},be(t)));var $r=class extends Te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){let{status:t,ctx:e}=this._processInputParams(r),i=this._def.effect||null,n={addIssue:o=>{V(e,o),o.fatal?t.abort():t.dirty()},get path(){return e.path}};if(n.addIssue=n.addIssue.bind(n),i.type==="preprocess"){let o=i.transform(e.data,n);if(e.common.async)return Promise.resolve(o).then(u=>xi(this,null,function*(){if(t.value==="aborted")return de;let l=yield this._def.schema._parseAsync({data:u,path:e.path,parent:e});return l.status==="aborted"?de:l.status==="dirty"||t.value==="dirty"?Rd(l.value):l}));{if(t.value==="aborted")return de;let u=this._def.schema._parseSync({data:o,path:e.path,parent:e});return u.status==="aborted"?de:u.status==="dirty"||t.value==="dirty"?Rd(u.value):u}}if(i.type==="refinement"){let o=u=>{let l=i.refinement(u,n);if(e.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(e.common.async===!1){let u=this._def.schema._parseSync({data:e.data,path:e.path,parent:e});return u.status==="aborted"?de:(u.status==="dirty"&&t.dirty(),o(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:e.data,path:e.path,parent:e}).then(u=>u.status==="aborted"?de:(u.status==="dirty"&&t.dirty(),o(u.value).then(()=>({status:t.value,value:u.value}))))}if(i.type==="transform")if(e.common.async===!1){let o=this._def.schema._parseSync({data:e.data,path:e.path,parent:e});if(!Pu(o))return o;let u=i.transform(o.value,n);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:e.data,path:e.path,parent:e}).then(o=>Pu(o)?Promise.resolve(i.transform(o.value,n)).then(u=>({status:t.value,value:u})):o);Re.assertNever(i)}};$r.create=(r,t,e)=>new $r(F({schema:r,typeName:ae.ZodEffects,effect:t},be(e)));$r.createWithPreprocess=(r,t,e)=>new $r(F({schema:t,effect:{type:"preprocess",transform:r},typeName:ae.ZodEffects},be(e)));var ii=class extends Te{_parse(r){return this._getType(r)===Z.undefined?$t(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}};ii.create=(r,t)=>new ii(F({innerType:r,typeName:ae.ZodOptional},be(t)));var nn=class extends Te{_parse(r){return this._getType(r)===Z.null?$t(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}};nn.create=(r,t)=>new nn(F({innerType:r,typeName:ae.ZodNullable},be(t)));var $u=class extends Te{_parse(r){let{ctx:t}=this._processInputParams(r),e=t.data;return t.parsedType===Z.undefined&&(e=this._def.defaultValue()),this._def.innerType._parse({data:e,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};$u.create=(r,t)=>new $u(F({innerType:r,typeName:ae.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default},be(t)));var ju=class extends Te{_parse(r){let{ctx:t}=this._processInputParams(r),e=ce(F({},t),{common:ce(F({},t.common),{issues:[]})}),i=this._def.innerType._parse({data:e.data,path:e.path,parent:F({},e)});return Au(i)?i.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new qr(e.common.issues)},input:e.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new qr(e.common.issues)},input:e.data})}}removeCatch(){return this._def.innerType}};ju.create=(r,t)=>new ju(F({innerType:r,typeName:ae.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch},be(t)));var $d=class extends Te{_parse(r){if(this._getType(r)!==Z.nan){let t=this._getOrReturnCtx(r);return V(t,{code:B.invalid_type,expected:Z.nan,received:t.parsedType}),de}return{status:"valid",value:r.data}}};$d.create=r=>new $d(F({typeName:ae.ZodNaN},be(r)));var dU=Symbol("zod_brand"),wb=class extends Te{_parse(r){let{ctx:t}=this._processInputParams(r),e=t.data;return this._def.type._parse({data:e,path:t.path,parent:t})}unwrap(){return this._def.type}},Eb=class hT extends Te{_parse(t){let{status:e,ctx:i}=this._processInputParams(t);if(i.common.async)return xi(this,null,function*(){let n=yield this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return n.status==="aborted"?de:n.status==="dirty"?(e.dirty(),Rd(n.value)):this._def.out._parseAsync({data:n.value,path:i.path,parent:i})});{let n=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return n.status==="aborted"?de:n.status==="dirty"?(e.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:i.path,parent:i})}}static create(t,e){return new hT({in:t,out:e,typeName:ae.ZodPipeline})}},Bu=class extends Te{_parse(r){let t=this._def.innerType._parse(r),e=i=>(Pu(i)&&(i.value=Object.freeze(i.value)),i);return Au(t)?t.then(i=>e(i)):e(t)}unwrap(){return this._def.innerType}};Bu.create=(r,t)=>new Bu(F({innerType:r,typeName:ae.ZodReadonly},be(t)));function fT(r,t={},e){return r?As.create().superRefine((i,n)=>{var o,u;if(!r(i)){let l=typeof t=="function"?t(i):typeof t=="string"?{message:t}:t,c=(u=(o=l.fatal)!==null&&o!==void 0?o:e)!==null&&u!==void 0?u:!0,h=typeof l=="string"?{message:l}:l;n.addIssue(ce(F({code:"custom"},h),{fatal:c}))}}):As.create()}var pU={object:wr.lazycreate},ae;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(ae||(ae={}));var hU=(r,t={message:`Input not instance of ${r.name}`})=>fT(e=>e instanceof r,t),mT=Ps.create,vT=xu.create,fU=$d.create,mU=Cu.create,gT=Mu.create,vU=Iu.create,gU=Nd.create,bU=Lu.create,yU=Ru.create,_U=As.create,wU=io.create,EU=Ci.create,SU=Fd.create,OU=no.create,TU=wr.create,PU=wr.strictCreate,AU=ku.create,xU=aT.create,CU=Nu.create,MU=rn.create,IU=cT.create,LU=Dd.create,RU=qd.create,kU=dT.create,NU=Fu.create,FU=Du.create,DU=Wu.create,qU=qu.create,$U=xs.create,MO=$r.create,jU=ii.create,BU=nn.create,WU=$r.createWithPreprocess,UU=Eb.create,HU=()=>mT().optional(),zU=()=>vT().optional(),VU=()=>gT().optional(),GU={string:r=>Ps.create(ce(F({},r),{coerce:!0})),number:r=>xu.create(ce(F({},r),{coerce:!0})),boolean:r=>Mu.create(ce(F({},r),{coerce:!0})),bigint:r=>Cu.create(ce(F({},r),{coerce:!0})),date:r=>Iu.create(ce(F({},r),{coerce:!0}))},ZU=de,Fr=Object.freeze({__proto__:null,defaultErrorMap:Ts,setErrorMap:ZW,getErrorMap:Id,makeIssue:Ld,EMPTY_PATH:JW,addIssueToContext:V,ParseStatus:Vt,INVALID:de,DIRTY:Rd,OK:$t,isAborted:ib,isDirty:nb,isValid:Pu,isAsync:Au,get util(){return Re},get objectUtil(){return rb},ZodParsedType:Z,getParsedType:tn,ZodType:Te,datetimeRegex:oT,ZodString:Ps,ZodNumber:xu,ZodBigInt:Cu,ZodBoolean:Mu,ZodDate:Iu,ZodSymbol:Nd,ZodUndefined:Lu,ZodNull:Ru,ZodAny:As,ZodUnknown:io,ZodNever:Ci,ZodVoid:Fd,ZodArray:no,ZodObject:wr,ZodUnion:ku,ZodDiscriminatedUnion:aT,ZodIntersection:Nu,ZodTuple:rn,ZodRecord:cT,ZodMap:Dd,ZodSet:qd,ZodFunction:dT,ZodLazy:Fu,ZodLiteral:Du,ZodEnum:Wu,ZodNativeEnum:qu,ZodPromise:xs,ZodEffects:$r,ZodTransformer:$r,ZodOptional:ii,ZodNullable:nn,ZodDefault:$u,ZodCatch:ju,ZodNaN:$d,BRAND:dU,ZodBranded:wb,ZodPipeline:Eb,ZodReadonly:Bu,custom:fT,Schema:Te,ZodSchema:Te,late:pU,get ZodFirstPartyTypeKind(){return ae},coerce:GU,any:_U,array:OU,bigint:mU,boolean:gT,date:vU,discriminatedUnion:xU,effect:MO,enum:DU,function:kU,instanceof:hU,intersection:CU,lazy:NU,literal:FU,map:LU,nan:fU,nativeEnum:qU,never:EU,null:yU,nullable:BU,number:vT,object:TU,oboolean:VU,onumber:zU,optional:jU,ostring:HU,pipeline:UU,preprocess:WU,promise:$U,record:IU,set:RU,strictObject:PU,string:mT,symbol:gU,transformer:MO,tuple:MU,undefined:bU,union:AU,unknown:wU,void:SU,NEVER:ZU,ZodIssueCode:B,quotelessJson:GW,ZodError:qr}),JU=Fr.object({serverUrl:Fr.string()}),KU=JU.parse({serverUrl:"https://io.superviz.com"});K();var YU=class{constructor(r){this.socket=r,this.onConnect=()=>{this.logger.log("connection @ on connect","Connected to the socket"),this.changeState("CONNECTED")},this.onDisconnect=t=>{this.logger.log("connection @ on disconnect","Disconnected from the socket"),this.changeState("DISCONNECTED",t)},this.onConnectError=t=>{this.logger.log("connection @ on connect error","Connection error",t),this.changeState("CONNECTION_ERROR",t.message)},this.onConnectionError=t=>{this.logger.log("connection @ on connection error","Connection error",t),this.changeState("CONNECTION_ERROR",t.message)},this.onReconnect=()=>{this.logger.log("connection @ on reconnect","Reconnected to the socket"),this.changeState("CONNECTED")},this.onReconnectError=t=>{this.logger.log("connection @ on reconnect error","Reconnect error",t),this.changeState("RECONNECT_ERROR",t.message)},this.onReconnectFailed=()=>{this.logger.log("connection @ on reconnect failed","Failed to reconnect to the socket"),this.changeState("RECONNECT_ERROR")},this.onReconnecAttempt=t=>{this.logger.log("connection @ on reconnect attempt",`Reconnect attempt #${t}`),this.changeState("RECONNECTING",`Reconnect attempt #${t}`)},this.onCustomError=t=>{t.needsToDisconnect&&(this.socket.disconnect(),this.changeState("DISCONNECTED",t.errorType));let e=`[SuperViz] 
    - Error: ${t.errorType}
    - Message: ${t.message}
    `;if(t.level==="error"){console.error(e);return}console.warn(e)},this.logger=new fb("@superviz/socket-client/connection"),this.subscribeToManagerEvents(),this.stateObserver=new ri}on(r,t){this.stateObserver.closed&&(this.stateObserver=new ri),this.stateObserver.subscribe({next:r,error:t})}off(){this.stateObserver.closed||this.stateObserver.unsubscribe()}subscribeToManagerEvents(){this.socket.on("connect",this.onConnect),this.socket.on("disconnect",this.onDisconnect),this.socket.on("connect_error",this.onConnectError),this.socket.io.on("error",this.onConnectionError),this.socket.io.on("reconnect",this.onReconnect),this.socket.io.on("reconnect_attempt",this.onReconnecAttempt),this.socket.io.on("reconnect_error",this.onReconnectError),this.socket.io.on("reconnect_failed",this.onReconnectFailed),this.socket.on("socket-event.error",this.onCustomError)}changeState(r,t){this.state=r,!this.stateObserver.closed&&this.stateObserver.next({state:r,reason:t})}};K();var XU=class bT{constructor(t,e,i,n,o=100){this.io=t,this.user=e,this.roomId=i,this.apiKey=n,this.maxConnections=o,this.isJoined=!1,this.subscriptions=new Map,this.observers=new Map,this.onJoinedRoom=l=>{var c;this.roomId===((c=l==null?void 0:l.data)==null?void 0:c.name)&&(this.isJoined=!0,this.io.emit("room.joined",this.roomId,l.data),this.logger.log("room @ joined",l))},this.onHttpEvent=l=>{this.publishEventToClient(l.name,l)},this.logger=new fb("@superviz/socket-client/room");let u={name:i,user:e,maxConnections:o};this.presence=iW.register(t,e,i),this.io.emit("room.join",u),this.subscribeToRoomEvents()}static register(t,e,i,n,o){return new bT(t,e,i,n,o)}on(t,e){this.logger.log("room @ on",t);let i=this.observers.get(t);i||(i=new ri,this.observers.set(t,i),this.io.on(t,n=>{this.publishEventToClient(t,n)})),this.subscriptions.set(e,i.subscribe(e))}off(t,e){var i;if(this.logger.log("room @ off",t),!e){this.observers.delete(t),this.io.off(t);return}(i=this.subscriptions.get(e))==null||i.unsubscribe()}emit(t,e){if(!this.isJoined){this.logger.log("Cannot emit event. Not joined to room");return}let i={name:t,roomId:this.roomId,presence:this.user,connectionId:this.io.id,data:e,timestamp:Date.now()};this.io.emit("room.update",this.roomId,i),this.logger.log("room @ emit",t,e)}history(t,e){let i=new ri;i.subscribe({next:t,error:e});let n=o=>{this.logger.log("room @ history",o),this.io.off("room.get",n),i.next(o),i.complete(),i.unsubscribe()};this.io.on("room.get",n),this.io.emit("room.get",this.roomId)}disconnect(){this.logger.log("room @ disconnect","Leaving room...",this.roomId),this.io.emit("room.leave",this.roomId),this.subscriptions.forEach(t=>t.unsubscribe()),this.subscriptions.clear(),this.observers.forEach(t=>t.unsubscribe()),this.observers.clear(),this.presence.destroy()}publishEventToClient(t,e){let i=this.observers.get(t);!i||e.roomId!==this.roomId||i.next(e)}subscribeToRoomEvents(){this.io.on("room.joined",this.onJoinedRoom),this.io.on("room.error",t=>{this.logger.log("Error:",t.data)}),this.io.on(`http:${this.roomId}:${this.apiKey}`,this.onHttpEvent)}},yT=class{constructor(r,t,e){this.apiKey=r,this.environment=t,this.presence=e,this.manager=new Md(KU.serverUrl,{addTrailingSlash:!1,secure:!0,withCredentials:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:5,extraHeaders:{"sv-api-key":this.apiKey}});let{origin:i}=window.location;this.socket=this.manager.socket(`/${t}`,{auth:{apiKey:this.apiKey,origin:i,envirioment:this.environment}}),this.connection=new YU(this.socket)}get state(){return this.connection.state}connect(r,t){return XU.register(this.socket,this.presence,r,this.apiKey,t)}destroy(){this.socket.disconnect(),this.connection.off()}};K();var soe=Fr.object({name:Fr.string(),user:Fr.object({id:Fr.string(),name:Fr.string()}),maxConnections:Fr.union([Fr.number(),Fr.literal("unlimited"),Fr.undefined()])});var u1=qt(eo());Gt();ft();wo();kr();p();var ll=class{constructor(){this.observers=new Map;this.subscribe=(t,e)=>{this.logger.log("event bus service @ subscribe",{event:t,callback:e}),this.observers.has(t)||this.observers.set(t,new Ne),this.observers.get(t).subscribe(e)};this.unsubscribe=(t,e)=>{this.logger.log("event bus service @ unsubscribe",{event:t,callback:e}),this.observers.has(t)&&(this.observers.get(t).reset(),this.observers.delete(t))};this.publish=(t,e)=>{this.logger.log("event bus service @ publish",{event:t,data:e}),this.observers.has(t)&&this.observers.get(t).publish(e)};this.destroy=()=>{this.logger.log("event bus service @ destroy"),this.observers.forEach(t=>{t.reset(),t.destroy()}),this.observers.clear()};this.logger=new Ae("@superviz/sdk/event-bus"),this.logger.log("event bus created")}};p();var o1=qt(tm());kr();p();var om=class{constructor(t){this.participant=t;this.stateSubject=new o1.Subject;this.handleConnectionState=t=>{if(t.reason==="Unauthorized connection"){console.error("[Superviz] Unauthorized connection. Please check your API key and if your domain is white listed."),this.state={state:pb.DISCONNECTED,reason:"Unauthorized connection"},this.stateSubject.next("AUTH_ERROR");return}if(t.reason==="user-already-in-room"){this.state=t,this.stateSubject.next("SAME_ACCOUNT_ERROR");return}this.state=t,this.stateSubject.next(t.state)};this.createClient()}destroy(){this.stateSubject.complete(),this.client.destroy()}subscribeToDefaultEvents(){this.client.connection.on(this.handleConnectionState)}createClient(){let t=ee.get("environment");t=["dev","prod"].includes(t)?t:"dev",this.client=new yT(ee.get("apiKey"),t,{id:this.participant.id,name:this.participant.name}),this.subscribeToDefaultEvents()}createRoom(t,e=50){let i=ee.get("roomId");return this.client.connect(`${i}:${t}`,e)}};p();p();var zy=(u=>(u.comments="presence",u.presence3dMatterport="presence",u.presence3dAutodesk="presence",u.presence3dThreejs="presence",u.whoIsOnline="presence",u.formElements="presence",u))(zy||{});kr();var _a=class{static checkComponentLimit(t){let e=ee.get("limits"),i=zy[t]??t;return(e==null?void 0:e[i])??{canUse:!1,maxParticipants:50}}};p();var s1=qt(eo());ft();p();var Vee=1e3,sm=class{constructor(t,e){this.participants3DObservers=[];this.initializeParticipantsList=()=>{this.room.presence.get(t=>{t.forEach(e=>{this.unthrottledUpdatePresence3D(e.data)})})};this.onLocalParticipantJoined=t=>{var i;if(!t.slot||((i=t.slot)==null?void 0:i.index)===null){setTimeout(()=>{this.onLocalParticipantJoined(this.localParticipant)},2e3);return}if(!this.room.isJoined){setTimeout(()=>{this.onLocalParticipantJoined(t)},2e3);return}let{hasJoined3D:e}=this.useStore("presence-3d-store");e.publish(!0),this.room.emit("participant-joined",t),this.room.presence.update(t),this.initializeParticipantsList()};this.subscribeToRoomEvents=()=>{this.room.on("participant-joined",this.onJoinedRoom),this.room.presence.on(te.LEAVE,this.onLeaveRoom),this.room.presence.on(te.UPDATE,this.onParticipantUpdate),this.room.presence.on(te.JOINED_ROOM,this.onJoinedPresence)};this.unsubscribeFromRoomEvents=()=>{this.room.off("participant-joined",this.onJoinedRoom),this.room.presence.off(te.LEAVE),this.room.presence.off(te.UPDATE),this.room.presence.off(te.JOINED_ROOM)};this.onJoinedRoom=t=>{let{participants:e}=this.useStore("presence-3d-store"),i=e.value.find(n=>n.id===t.data.id);e.publish([...e.value.filter(n=>n.id!==t.data.id),{...i,...t.data}])};this.onLeaveRoom=t=>{if(t.id===this.localParticipant.id){this.unsubscribeFromRoomEvents(),this.useStore("presence-3d-store").destroy();return}let{participants:e}=this.useStore("presence-3d-store"),i=e.value.filter(n=>n.id!==t.id);e.publish(i)};this.unthrottledUpdatePresence3D=t=>{if(!(t!=null&&t.id))return;let{participants:e,hasJoined3D:i}=this.useStore("presence-3d-store"),n={...e.value.find(o=>o.id===t.id),...t};e.publish([...e.value.filter(o=>o.id!==t.id),n]),!(!i.value||n.id!==this.localParticipant.id)&&this.room.presence.update(n)};this.onJoinedPresence=t=>{t.id===this.localParticipant.id&&(this.logger.log("participant joined 3D room",t.id,this.localParticipant),this.onLocalParticipantJoined(this.localParticipant))};this.updatePresence3D=(0,s1.throttle)(t=>{this.unthrottledUpdatePresence3D(t)},Vee);this.onParticipantUpdate=t=>{if(t.id===this.localParticipant.id)return;let{participants:e}=this.useStore("presence-3d-store"),i={...e.value.filter(o=>o.id===t.id)[0],...t.data},n=e.value.map(o=>o.id===t.id?i:o);e.publish(n),this.participants3DObservers[t.id]&&this.participants3DObservers[t.id].publish(i)};this.setParticipantData=t=>{this.updatePresence3D(t)};this.room=t,this.logger=new Ae("@superviz/sdk/presence3D-manager"),this.useStore=e,this.subscribeToRoomEvents();let{localParticipant:i}=this.useStore("global-store");i.subscribe(n=>{this.room.presence.update(n);let{participants:o}=this.useStore("presence-3d-store"),u={...o.value.find(l=>l.id===n.id),...n};o.publish([...o.value.filter(l=>l.id!==n.id),u]),this.localParticipant=u})}subscribeToUpdates(t,e){this.participants3DObservers[t]||(this.participants3DObservers[t]=new Ne({logger:this.logger})),this.participants3DObservers[t].subscribe(e)}unsubscribeFromUpdates(t,e){this.participants3DObservers[t]&&this.participants3DObservers[t].unsubscribe(e)}get getParticipants(){return this.useStore("presence-3d-store").participants.value}};p();wa();p();var Eo=(i=>(i.HOST="host",i.GUEST="guest",i.AUDIENCE="audience",i))(Eo||{});ft();wo();var am=class{constructor(t,e){this.room=t;this.useStore=e;this.isAssigningSlot=!1;this.slot={index:null,color:wt.gray,textColor:"#fff",colorName:"gray",timestamp:Date.now()};this.onPresenceUpdate=async t=>{var i,n,o;let{localParticipant:e}=this.useStore("global-store");if(t.id===e.value.id){let u=await this.validateSlotType(t.data);e.publish({...e.value,slot:u});return}if(!(((i=t.data.slot)==null?void 0:i.index)===null||this.slot.index===null)&&((n=t.data.slot)==null?void 0:n.index)===((o=this.slot)==null?void 0:o.index)){let u=await this.assignSlot();e.publish({...e.value,slot:u}),console.debug(`[SuperViz] - Slot reassigned to ${e.value.id}, slot: ${u.colorName}`)}};this.participantNeedsSlot=t=>{var u;let i=["formElements","whoIsOnline","presence","presence3dAutodesk","presence3dMatterport","presence3dThreejs"].some(l=>{var c;return(c=t==null?void 0:t.activeComponents)==null?void 0:c.includes(l)}),n=((u=t==null?void 0:t.activeComponents)==null?void 0:u.includes("videoConference"))&&t.type!=="audience";return i||n};this.validateSlotType=async t=>{var i,n;if(this.isAssigningSlot)return this.slot;let e=this.participantNeedsSlot(t);if(((i=t.slot)==null?void 0:i.index)===null&&e){let o=await this.assignSlot();this.slot=o}return((n=t.slot)==null?void 0:n.index)!==null&&!e&&this.setDefaultSlot(),this.slot};this.room=t,this.room.presence.on(te.UPDATE,this.onPresenceUpdate)}async assignSlot(){if(this.isAssigningSlot)return this.slot;this.isAssigningSlot=!0;let t=Array.from({length:50},(o,u)=>u),e=Math.floor(Math.random()*50),{localParticipant:i,participants:n}=ot("global-store");try{await new Promise((c,h)=>{this.room.presence.get(m=>{if((!m||!m.length)&&c(!0),m.length>=50){t=[],h(new Error("[SuperViz] - No more slots available"));return}m.forEach(b=>{b.id!==i.value.id&&(t=t.filter(y=>{var w,O;return y!==((O=(w=b.data)==null?void 0:w.slot)==null?void 0:O.index)}))}),c(!0)})}),!t.includes(e)&&(e=t.shift());let u=Object.keys(wt)[e],l={index:e,color:wt[u],textColor:a1.includes(u)?"#fff":"#000",colorName:u,timestamp:Date.now()};return this.slot=l,i.publish({...i.value,slot:l}),n.publish({...n.value,[i.value.id]:{...n.value[i.value.id],slot:l}}),this.room.presence.update({slot:l}),this.isAssigningSlot=!1,l}catch(o){return console.error(o),null}}setDefaultSlot(){let{localParticipant:t,participants:e}=ot("global-store"),i={index:null,color:wt.gray,textColor:"#fff",colorName:"gray",timestamp:Date.now()};this.slot=i,t.publish({...t.value,slot:i}),e.publish({...e.value,[t.value.id]:{...e.value[t.value.id],slot:i}}),this.room.presence.update({slot:i})}};p();jy();var Vy=class extends Pi{constructor({participant:e,group:i}){super();this.isDestroyed=!1;this.activeComponents=[];this.componentsToAttachAfterJoin=[];this.activeComponentsInstances=[];this.eventBus=new ll;this.useStore=ot.bind(this);this.addComponent=async e=>{if(!this.canAddComponent(e))return;let{hasJoinedRoom:i,group:n,localParticipant:o}=ot("global-store");if(!i.value){this.logger.log("launcher service @ addComponent - not joined yet"),this.componentsToAttachAfterJoin.push(e);return}let u=_a.checkComponentLimit(e.name);e.attach({ioc:this.ioc,config:ee.configuration,eventBus:this.eventBus,useStore:ot,Presence3DManagerService:sm,connectionLimit:u.maxParticipants}),this.activeComponents.push(e.name),this.activeComponentsInstances.some(l=>l.name===e.name)?this.activeComponentsInstances=this.activeComponentsInstances.map(l=>l.name===e.name?e:l):this.activeComponentsInstances.push(e),o.publish({...o.value,activeComponents:this.activeComponents}),this.room.presence.update({...o.value,slot:this.slotService.slot,activeComponents:this.activeComponents}),Xe.sendActivity(this.participant.id,n.value.id,n.value.name,e.name)};this.attachComponentsAfterJoin=()=>{this.logger.log("launcher service @ attachComponentsAfterJoin"),this.componentsToAttachAfterJoin.forEach(e=>{this.logger.log("launcher service @ attachComponentsAfterJoin - attaching component",e.name),this.addComponent(e)}),this.componentsToAttachAfterJoin=[]};this.removeComponent=e=>{if(!this.activeComponents.includes(e.name)){let i=`[SuperViz] Component ${e.name} is not initialized yet.`;this.logger.log(i),console.error(i);return}e.detach(),this.activeComponentsInstances=this.activeComponentsInstances.filter(i=>i.name!==e.name),this.activeComponents.splice(this.activeComponents.indexOf(e.name),1),this.room.presence.update({...this.participant,activeComponents:this.activeComponents})};this.destroy=()=>{var e,i,n,o,u,l;this.logger.log("launcher service @ destroy"),this.activeComponentsInstances.forEach(c=>{this.logger.log("launcher service @ destroy - removing component",c.name),this.removeComponent(c)}),this.activeComponents=[],this.activeComponentsInstances=[],(e=_o())==null||e.destroy(),(i=this.eventBus)==null||i.destroy(),this.eventBus=void 0,(n=this.room)==null||n.presence.off(te.JOINED_ROOM),(o=this.room)==null||o.presence.off(te.LEAVE),(u=this.room)==null||u.presence.off(te.UPDATE),(l=this.ioc)==null||l.destroy(),this.isDestroyed=!0,typeof window<"u"&&(window.SUPERVIZ=void 0)};this.canAddComponent=e=>{var l;let i=ee.get(`features.${e.name}`),n=_a.checkComponentLimit(e.name),o=(l=this.activeComponents)==null?void 0:l.includes(e.name),u=[{isValid:i,message:`[SuperViz] Component ${e.name} is not enabled in the room`},{isValid:!this.isDestroyed,message:"[SuperViz] Component can not be added because the superviz room is destroyed. Initialize a new room to add and use components."},{isValid:!o,message:`[SuperViz] Component ${e.name} is already active. Please remove it first`},{isValid:n.canUse,message:`[SuperViz] You reached the limit usage of ${e.name}`}];for(let c=0;c<u.length;c++){let{isValid:h,message:m}=u[c];if(!h)return this.logger.log(m),console.error(m),!1}return!0};this.onAuthentication=e=>{e||(this.destroy(),console.error("[SuperViz] Room cannot be initialized because this website's domain is not whitelisted. If you are the developer, please add your domain in https://dashboard.superviz.com/developer"))};this.onLocalParticipantUpdateOnStore=e=>{this.participant=e,this.activeComponents=e.activeComponents||[]};this.onLocalParticipantUpdateOnCore=e=>{this.room&&this.room.presence.update(e)};this.onParticipantsListUpdateOnCore=e=>{let{participants:i}=this.useStore("global-store");i.publish(e)};this.onSameAccount=()=>{this.publish("participant.same-account-error"),this.destroy()};this.startIOC=()=>{this.logger.log("launcher service @ startIOC");let{participants:e}=ot("global-store");this.ioc.stateSubject.subscribe(this.onConnectionStateChange),this.room.presence.get(i=>{let n={};i.forEach(o=>{n[o.id]={...o.data,name:o.name,id:o.id,timestamp:o.timestamp}}),n[this.participant.id]={...n[this.participant.id],...this.participant},e.publish(n)}),this.room.presence.on(te.JOINED_ROOM,this.onParticipantJoinedIOC),this.room.presence.on(te.LEAVE,this.onParticipantLeaveIOC),this.room.presence.on(te.UPDATE,this.onParticipantUpdatedIOC)};this.onConnectionStateChange=e=>{if(e==="AUTH_ERROR"){this.onAuthentication(!1);return}if(e==="SAME_ACCOUNT_ERROR"){this.onSameAccount();return}};this.onParticipantJoinedIOC=async e=>{if(e.id!==this.participant.id)return;this.room.presence.update(this.participant),this.logger.log("launcher service @ onParticipantJoined - local participant joined");let{hasJoinedRoom:i}=ot("global-store");i.publish(!0),this.attachComponentsAfterJoin(),this.publish("participant.local-joined",this.participant),this.publish("participant.joined",this.participant)};this.onParticipantLeaveIOC=e=>{let{participants:i,localParticipant:n}=ot("global-store"),o={...i.value};delete o[e.id],i.publish(o),e.id===n.value.id&&(this.logger.log("launcher service @ onParticipantLeave - local participant left"),this.publish("participant.local-left",e.data)),this.logger.log("launcher service @ onParticipantLeave - participant left",e.data),this.publish("participant.left",e.data),this.publish("participant.list-updated",Object.values(o))};this.onParticipantUpdatedIOC=e=>{let{localParticipant:i}=ot("global-store");i.value&&e.id===i.value.id&&(i.publish({...i.value,...e.data,timestamp:e.timestamp}),this.publish("participant.updated",{...i.value,...e.data}),this.logger.log("Publishing ParticipantEvent.UPDATED",e.data));let{participants:n}=ot("global-store"),o={id:e.id,name:e.name,timestamp:e.timestamp,...e.data};n.value[e.id]||this.publish("participant.joined",o);let u=Object.assign({},n.value);if(u[e.id]=o,(0,u1.isEqual)(u,n.value))return;n.publish(u);let l=Object.values(n.value);this.logger.log("Publishing ParticipantEvent.LIST_UPDATED",n.value),this.publish("participant.list-updated",l)};this.logger=new Ae("@superviz/sdk/launcher");let{localParticipant:n,group:o,isDomainWhitelisted:u}=this.useStore("global-store"),{localParticipant:l,participants:c}=this.useStore("core-store");n.publish({...e}),u.subscribe(this.onAuthentication),n.subscribe(this.onLocalParticipantUpdateOnStore),l.subscribe(this.onLocalParticipantUpdateOnCore),c.subscribe(this.onParticipantsListUpdateOnCore),o.publish(i),this.ioc=new om(n.value),this.room=this.ioc.createRoom("launcher","unlimited"),this.slotService=new am(this.room,this.useStore),n.publish({...n.value,slot:this.slotService.slot,activeComponents:[]}),this.participant=n.value,this.eventBus=new ll,this.logger.log("launcher created"),this.startIOC()}},l1=r=>{if(typeof window<"u"&&window.SUPERVIZ)return console.warn("[SUPERVIZ] Room already initialized"),{destroy:window.SUPERVIZ.destroy,subscribe:window.SUPERVIZ.subscribe,unsubscribe:window.SUPERVIZ.unsubscribe,addComponent:window.SUPERVIZ.addComponent,removeComponent:window.SUPERVIZ.removeComponent};let t=new Vy(r);return typeof window<"u"&&(window.SUPERVIZ=t),{destroy:t.destroy,subscribe:t.subscribe,unsubscribe:t.unsubscribe,addComponent:t.addComponent,removeComponent:t.removeComponent}};function c1(r){let t=/^.{2,64}$/,e=/^[-_&@+=,(){}\[\]\/«».:|'"#a-zA-Z0-9À-ÿ\s]*$/;return!(!t.test(r)||!e.test(r))}function Gee(r){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(r)}var Zee=({group:r,participant:t,roomId:e,customColors:i})=>{if(i&&Jee(i),!r||!r.name||!r.id)throw new Error("[SuperViz] Group fields is required");if(!t||!t.id)throw new Error("[SuperViz] Participant id is required");if(!e)throw new Error("[SuperViz] Room id is required");if(!c1(e))throw new Error(`[SuperViz] Room id is invalid, it should be between 2 and 64 characters and only accept letters, numbers and special characters: -_&@+=,(){}[]/\xAB\xBB.:|'"`);if(!c1(t.id))throw new Error(`[SuperViz] Participant id is invalid, it should be between 2 and 64 characters and only accept letters, numbers and special characters: -_&@+=,(){}[]/\xAB\xBB.:|'"`);if(t.email&&!Gee(t.email))throw new Error("[SuperViz] Participant email is invalid")},Jee=r=>{Object.entries(r).forEach(([t,e])=>{if(!Object.values(Rg).includes(t))throw new Error(`[SuperViz] Color ${t} is not a valid color variable name. Please check the documentation for more information.`);if(!/^(\d{1,3}\s){2}\d{1,3}$/.test(e))throw new Error(`[SuperViz] Color ${t} is not a valid color variable value. Please check the documentation for more information.`)})},Kee=r=>{r&&Object.entries(r).forEach(([t,e])=>{let i=e.replace(/\s/g,", ");document.documentElement.style.setProperty(`--${t}`,i)})},Yee=async(r,t)=>{var w;if(!(r&&r.trim()))throw new Error("API key is required");if(!t)throw new Error("Options is required");Zee(t),t.debug?Gy.debug.enable("*"):Gy.debug.disable();let[{apiUrl:i,conferenceLayerUrl:n},o]=await Promise.all([to.getRemoteConfig(t.environment),to.getFeatures(r)]);if(!await aO(i,r))throw new Error("Failed to validate API key");let[l,c]=await Promise.all([Xe.fetchWaterMark(i,r),Xe.fetchLimits(i,r)]).catch(()=>{throw new Error("[SuperViz] Failed to load configuration from server")}),{participant:h,roomId:m,customColors:b}=t;ee.setConfig({apiUrl:i,apiKey:r,conferenceLayerUrl:n,environment:t.environment??"prod",roomId:m,debug:t.debug,limits:c,waterMark:l,colors:b,features:o}),Kee(b);let y=await Xe.fetchParticipant(h.id).catch(()=>null);if(!y&&!h.name)throw new Error("[SuperViz] - Participant does not exist, create the user in the API or add the name in the initialization to initialize the SuperViz room.");return y||await Xe.createParticipant({participantId:h.id,name:h==null?void 0:h.name,avatar:(w=h.avatar)==null?void 0:w.imageUrl,email:h==null?void 0:h.email}),l1({...t,participant:{id:h.id,name:h.name??(y==null?void 0:y.name),avatar:h.avatar??(y==null?void 0:y.avatar),email:h.email??(y==null?void 0:y.email)}})},Zy=Yee;p();typeof window<"u"&&typeof HTMLElement<"u"&&(Promise.resolve().then(()=>pM()),Promise.resolve().then(()=>bM()),Promise.resolve().then(()=>OM()),Promise.resolve().then(()=>MM()),Promise.resolve().then(()=>VM()),Promise.resolve().then(()=>ZM()),Promise.resolve().then(()=>iI()),Promise.resolve().then(()=>yL()),Promise.resolve().then(()=>PL()),Promise.resolve().then(()=>CL()),Promise.resolve().then(()=>LL()),Promise.resolve().then(()=>NL()),Promise.resolve().then(()=>qL()),Promise.resolve().then(()=>BL()),Promise.resolve().then(()=>HL()),Promise.resolve().then(()=>GL()),Promise.resolve().then(()=>oR()),Promise.resolve().then(()=>(aR(),sR)));p();p();function uR(r){if(typeof document<"u"){let t=document.createElement("style");t.id="superviz-style";let e=document.createTextNode(r);t.appendChild(e),document.head.appendChild(t)}}var lR=`@import"https://unpkg.com/@superviz/sv-icons@0.8.13/css/style.css";@import"https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap";:root{--sv-primary: 98, 16, 204}html,body{width:100%;height:100%;overflow:hidden}#sv-video-wrapper iframe{position:fixed;border:none;margin:0;padding:0;overflow:hidden;z-index:1000}#sv-video-wrapper iframe.sv-video-frame--right{top:var(--superviz-offset-top);right:var(--superviz-offset-right)}#sv-video-wrapper iframe.sv-video-frame--left{top:var(--superviz-offset-top);left:var(--superviz-offset-left)}#sv-video-wrapper iframe.sv-video-frame--bottom{bottom:var(--superviz-offset-bottom);right:var(--superviz-offset-right);width:100%}#sv-video-wrapper iframe.sv-video-frame--top{top:var(--superviz-offset-top);right:var(--superviz-offset-right);width:100%}#sv-video-wrapper iframe.sv-video-frame--no-overlay{display:none}.pointer-mouse{display:flex;height:15px;width:16px;background-image:url(https://production.cdn.superviz.com/static/pointers/0.svg);background-repeat:no-repeat}.mouse-user-name{display:block;position:absolute;border-radius:30px;padding:2px 8px;font-weight:700;font-size:14px;font-family:Roboto,sans-serif;line-height:22px;margin-left:10px;margin-top:-6px;background:#ff0;white-space:nowrap}.mouse-follower{position:absolute;display:block;z-index:2;transition:all .15s linear,opacity 100s ease-in}
`;uR(lR);Gt();p();var Ba=(i=>(i.RIGHT="right",i.CENTER="center",i.LEFT="left",i))(Ba||{}),sc=(e=>(e.GRID="grid",e.LIST="list",e))(sc||{}),ac=(n=>(n.RIGHT="right",n.LEFT="left",n.TOP="top",n.BOTTOM="bottom",n))(ac||{});p();var uc=(e=>(e.STARTED="STARTED",e.STOPPED="STOPPED",e))(uc||{});var lc=(t=>(t.REALTIME_STATE_CHANGED="realtime-component.state-changed",t))(lc||{});ft();p();var cc=(n=>(n.BLUR="field.blur",n.FOCUS="field.focus",n.CONTENT_CHANGE="field.content-change",n.INTERACTION="field.interaction",n))(cc||{});Hr();p();p();Gt();ft();kr();p();Gt();ft();wo();kr();var kt=class extends Pi{constructor(){super(...arguments);this.isAttached=!1;this.unsubscribeFrom=[];this.useStore=ot.bind(this);this.attach=e=>{if(Object.values(e).includes(null)||Object.values(e).includes(void 0)){let c=`${this.name} @ attach - params are required`;throw this.logger.log(c),new Error(c)}let{config:i,eventBus:n,ioc:o}=e,{isDomainWhitelisted:u,hasJoinedRoom:l}=this.useStore("global-store");if(!u.value){let c=`Component ${this.name} can't be used because this website's domain is not whitelisted. Please add your domain in https://dashboard.superviz.com/developer`;this.logger.log(c);return}if(ee.setConfig(i),this.eventBus=n,this.isAttached=!0,this.ioc=o,this.connectionLimit=e.connectionLimit??50,this.room=o.createRoom(this.name,this.connectionLimit),!l.value){this.logger.log(`${this.name} @ attach - not joined yet`),setTimeout(()=>{this.logger.log(`${this.name} @ attach - retrying`),this.attach(e)},1e3);return}this.logger.log(`${this.name} @ attached`),this.start(),this.publish("mount")};this.detach=()=>{if(!this.isAttached){this.logger.log(`${this.name} @ detach - component is not attached`);return}this.logger.log("detached"),this.publish("unmount"),this.destroy(),this.room.disconnect(),this.room=void 0,this.unsubscribeFrom.forEach(e=>e(this)),Object.values(this.observers).forEach(e=>{e.reset(),e.destroy()}),this.observers=void 0,this.isAttached=!1}}};E_();var Wa=class extends kt{constructor(e,i){super();this.sidebarOpen=!1;this.layoutOptions={};this.openThreads=()=>{var e;this.sidebarOpen||((e=this.element)==null||e.setAttribute("open",""),this.sidebarOpen=!0,document.body.dispatchEvent(new CustomEvent("toggle-annotation-sidebar",{detail:{open:this.sidebarOpen},composed:!0,bubbles:!0})))};this.closeThreads=()=>{var e;this.sidebarOpen&&((e=this.element)==null||e.removeAttribute("open"),this.sidebarOpen=!1,document.body.dispatchEvent(new CustomEvent("toggle-annotation-sidebar",{detail:{open:this.sidebarOpen},composed:!0,bubbles:!0})))};this.togglePinActive=()=>{if(this.pinActive){this.disable();return}this.enable()};this.onPinFixed=e=>{this.coordinates=e};this.toggleAnnotationSidebar=()=>{this.element.toggleAttribute("open"),this.sidebarOpen=this.element.hasAttribute("open"),document.body.dispatchEvent(new CustomEvent("prepare-to-create-annotation",{detail:void 0,composed:!0,bubbles:!0})),document.body.dispatchEvent(new CustomEvent("toggle-annotation-sidebar",{detail:{open:this.sidebarOpen},composed:!0,bubbles:!0}))};this.onSelectAnnotation=e=>{this.sidebarOpen||this.toggleAnnotationSidebar()};this.positionFloatingButton=()=>{var c,h;this.button=document.createElement("superviz-comments-button");let e=(c=this.layoutOptions)==null?void 0:c.buttonLocation,i=(h=this.layoutOptions)==null?void 0:h.position;if(!e){document.body.appendChild(this.button),this.button.commentsPosition=i;return}let n="",o=Object.values(w_),u=!1,l=!o.includes(e.toLocaleLowerCase());if(l){let m=window.document.body.querySelector(`#${e}`);m?(m.appendChild(this.button),n="position: relative"):(u=!0,e="top-left")}if(!l||u){document.body.appendChild(this.button);let[m,b]=e.split("-");n=`${m}: 20px; ${b}: 20px;`}this.button.positionStyles=n,this.button.commentsPosition=i};this.positionComments=()=>{var n;this.element=document.createElement("superviz-comments"),this.element.setAttribute("comments",JSON.stringify([])),this.element.side="left",this.element.offset=this.offset,document.body.appendChild(this.element);let e=(n=this.layoutOptions)==null?void 0:n.position;if(!e)return;let i=e.toUpperCase();Sl[i]&&(this.element.side=Sl[i])};this.createAnnotation=async({detail:e})=>{try{let{text:i,mentions:n}=e,{url:o}=this,u={...this.coordinates},l=await Xe.createAnnotations(ee.get("apiUrl"),ee.get("apiKey"),{roomId:ee.get("roomId"),position:JSON.stringify(u),url:o,userId:this.localParticipantId}),c=await this.createComment(l.uuid,i,n);this.addAnnotation({...l,comments:[c]}),this.pinAdapter.removeAnnotationPin("temporary-pin"),document.body.dispatchEvent(new CustomEvent("select-annotation",{detail:{uuid:l.uuid,haltGoToPin:!0,newPin:!0},composed:!0,bubbles:!0}))}catch(i){this.logger.log("error when creating annotation",i)}};this.deleteAnnotation=async({detail:e})=>{try{let{uuid:i}=e;await Xe.deleteAnnotation(ee.get("apiUrl"),ee.get("apiKey"),i);let n=this.annotations.filter(o=>o.uuid!==i);this.updateAnnotationList(n),this.pinAdapter.removeAnnotationPin(i),this.element.updateAnnotations(this.annotations)}catch(i){this.logger.log("error when deleting annotation",i)}};this.updateComment=async({detail:e})=>{try{let{uuid:i,text:n,mentions:o}=e,u=await Xe.updateComment(ee.get("apiUrl"),ee.get("apiKey"),i,n);await Xe.createMentions({commentsId:u.uuid,participants:o.map(c=>({id:c.userId}))});let l=this.annotations.map(c=>Object.assign({},c,{comments:c.comments.map(h=>h.uuid===i?Object.assign({},h,{text:n,mentions:o}):h)}));this.updateAnnotationList(l)}catch(i){this.logger.log("error when updating comment",i)}};this.resolveAnnotation=async({detail:e})=>{try{let{uuid:i}=e,{resolved:n}=await Xe.resolveAnnotation(ee.get("apiUrl"),ee.get("apiKey"),i),o=this.annotations.map(u=>u.uuid===i?Object.assign({},u,{resolved:n}):u);if(this.updateAnnotationList(o),n){this.pinAdapter.removeAnnotationPin(i);return}this.pinAdapter.updateAnnotations(this.annotations)}catch(i){this.logger.log("error when resolve annotation",i)}};this.deleteComment=async({detail:e})=>{try{let{uuid:i,annotationId:n}=e;if(!i||!n)return;await Xe.deleteComment(ee.get("apiUrl"),ee.get("apiKey"),i);let o=this.annotations.find(l=>l.uuid===n);o.comments=o.comments.filter(l=>l.uuid!==i);let u=this.annotations.map(l=>l.uuid===n?o:l);this.element.updateAnnotations(u),this.updateAnnotationList(u)}catch(i){this.logger.log("error when deleting comment",i)}};this.onAnnotationListUpdate=e=>{let{data:i,clientId:n}=e;this.localParticipantId!==n&&(this.annotations=i,this.element.updateAnnotations(this.annotations),this.pinAdapter.updateAnnotations(this.annotations))};this.name="comments",this.logger=new Ae("@superviz/sdk/comments-component"),this.annotations=[],this.layoutOptions={buttonLocation:(i==null?void 0:i.buttonLocation)??"top-left",position:(i==null?void 0:i.position)??"left"},this.hideDefaultButton=(i==null?void 0:i.hideDefaultButton)??!1,this.setStyles(i==null?void 0:i.styles),this.offset=i==null?void 0:i.offset,setTimeout(()=>{var u;e.setCommentsMetadata(((u=this.layoutOptions)==null?void 0:u.position)??"left")}),this.pinAdapter=e;let{group:n,localParticipant:o}=this.useStore("global-store");n.subscribe(),o.subscribe(u=>{this.localParticipantId=u.id})}enable(){this.pinAdapter.setActive(!0),this.pinActive=!0,this.publish("pin-mode.active"),document.body.dispatchEvent(new CustomEvent("toggle-pin-active",{detail:{isActive:!0}}))}disable(){this.pinAdapter.setActive(!1),this.pinActive=!1,this.publish("pin-mode.inactive"),document.body.dispatchEvent(new CustomEvent("toggle-pin-active",{detail:{isActive:!1}}))}get url(){let e=new URL(this.clientUrl);return e.search="",e.toString()}start(){typeof window>"u"||(this.clientUrl=window.location.href,this.positionComments(),this.hideDefaultButton||this.positionFloatingButton(),this.fetchAnnotations(),this.waterMarkState(),this.participantsList(),this.addListeners(),this.pinAdapter.setPinsVisibility(!0))}destroy(){var e;this.logger.log("comments component @ destroy"),this.destroyListeners(),(e=this.button)==null||e.remove(),this.element.remove(),this.element=void 0,this.pinAdapter.destroy()}addListeners(){var e;(e=this.button)==null||e.addEventListener("toggle",this.togglePinActive),this.element.addEventListener("close-threads",this.closeThreads),document.body.addEventListener("create-annotation",this.createAnnotation),this.element.addEventListener("resolve-annotation",this.resolveAnnotation),this.element.addEventListener("delete-annotation",this.deleteAnnotation),this.element.addEventListener("create-comment",({detail:i})=>{this.createComment(i.uuid,i.text,i.mentions,!0)}),this.element.addEventListener("update-comment",this.updateComment),this.element.addEventListener("delete-comment",this.deleteComment),document.body.addEventListener("select-annotation",this.onSelectAnnotation),this.room.on("update-comments",this.onAnnotationListUpdate),this.pinAdapter.onPinFixedObserver.subscribe(this.onPinFixed)}destroyListeners(){var e;(e=this.button)==null||e.removeEventListener("toggle",this.togglePinActive),this.element.removeEventListener("close-threads",this.closeThreads),this.element.removeEventListener("resolve-annotation",this.resolveAnnotation),this.element.removeEventListener("create-comment",({detail:i})=>{this.createComment(i.uuid,i.text,i.mentions,!0)}),this.element.removeEventListener("update-comment",this.updateComment),this.element.removeEventListener("delete-comment",this.deleteComment),document.body.removeEventListener("select-annotation",this.onSelectAnnotation),document.body.removeEventListener("create-annotation",this.createAnnotation),this.room.off("update-comments",this.onAnnotationListUpdate),this.pinAdapter.onPinFixedObserver.unsubscribe(this.onPinFixed)}setStyles(e=""){if(!e)return;let i=document.createElement("style");i.textContent=e,i.id="superviz-comments-styles",document.head.appendChild(i)}async createComment(e,i,n=[],o=!1){try{let u=await Xe.createComment(ee.get("apiUrl"),ee.get("apiKey"),{annotationId:e,userId:this.localParticipantId,text:i});return await Xe.createMentions({commentsId:u.uuid,participants:n.map(l=>({id:l.userId,readed:0}))}),u.mentions=n,o&&this.addComment(e,u),u}catch(u){this.logger.log("error when creating comment",u)}}addAnnotation(e){let i=[e,...this.annotations];this.element.updateAnnotations(i),this.pinAdapter.updateAnnotations(i),this.updateAnnotationList(i)}updateAnnotationList(e){this.annotations=e,this.room.emit("update-comments",e)}addComment(e,i){let n=this.annotations.find(u=>u.uuid===e);n.comments.push(i);let o=this.annotations.map(u=>u.uuid===e?n:u);this.updateAnnotationList(o),this.element.updateAnnotations(o)}async fetchAnnotations(){try{let e=await Xe.fetchAnnotation(ee.get("apiUrl"),ee.get("apiKey"),{roomId:ee.get("roomId"),url:this.url});this.annotations=e,this.element.updateAnnotations(this.annotations),this.pinAdapter.updateAnnotations(this.annotations)}catch(e){this.logger.log("error when fetching annotations",e)}}async waterMarkState(){try{let e=await Xe.fetchWaterMark(ee.get("apiUrl"),ee.get("apiKey"));this.element.waterMarkStatus(e)}catch(e){this.logger.log("error when fetching waterMark",e)}}async participantsList(){try{let i=(await Xe.fetchParticipantsByGroup(this.group.id)).data;this.pinAdapter.participantsList=i,this.element.participantsList=i}catch(e){this.logger.log("error when fetching participantsList",e)}}};p();Hr();var Ua=class{constructor(t,e){this.isPinsVisible=!0;this.selectedPin=null;this.temporaryPinCoordinates=null;this.commentsSide="left";this.setCommentsMetadata=t=>{this.commentsSide=t};this.resetPins=t=>{t&&(t==null?void 0:t.key)!=="Escape"||(this.resetSelectedPin(),this.removeAnnotationPin("temporary-pin"),this.temporaryPinCoordinates=null)};this.animate=()=>{(this.isActive||this.isPinsVisible)&&(this.renderAnnotationsPins(),this.divWrapper=this.renderDivWrapper()),this.temporaryPinCoordinates&&this.renderTemporaryPin(),this.animateFrame=requestAnimationFrame(this.animate)};this.setMouseDownCoordinates=({x:t,y:e})=>{this.mouseDownCoordinates={x:t,y:e}};this.annotationSelected=({detail:{uuid:t,haltGoToPin:e,newPin:i}})=>{var u;if(!t)return;i&&this.pins.get(t).setAttribute("newPin","");let n=JSON.parse(((u=this.selectedPin)==null?void 0:u.getAttribute("annotation"))??"{}");if(this.resetPins(),(n==null?void 0:n.uuid)===t)return;document.body.dispatchEvent(new CustomEvent("close-temporary-annotation"));let o=this.pins.get(t);o&&(o.setAttribute("active",""),this.selectedPin=o,!e&&this.goToPin(t))};this.onClick=t=>{if(!this.isActive)return;let e=this.canvas.getBoundingClientRect(),{x:i,y:n}=this.mouseDownCoordinates,o=i-e.x,u=n-e.y,l=t.clientX-e.left,c=t.clientY-e.top;if(Math.hypot(l-o,c-u)>10)return;let y=this.canvas.getContext("2d").getTransform().inverse(),w=new DOMPoint(l,c-31).matrixTransform(y);this.onPinFixedObserver.publish({x:w.x,y:w.y,type:"canvas"}),this.resetSelectedPin(),this.temporaryPinCoordinates={x:w.x,y:w.y},this.renderTemporaryPin();let O=document.getElementById("superviz-temporary-pin");this.movedTemporaryPin=!this.movedTemporaryPin,O.setAttribute("movedPosition",String(this.movedTemporaryPin)),!this.selectedPin&&document.body.dispatchEvent(new CustomEvent("unselect-annotation"))};this.onToggleAnnotationSidebar=({detail:t})=>{let{open:e}=t;e||(this.pins.forEach(i=>{i.removeAttribute("active")}),this.pins.has("temporary-pin")&&this.removeAnnotationPin("temporary-pin"))};this.hideTemporaryPin=t=>{var b;let e=t.target,i=e.contains(this.canvas),{x:n,y:o}=t,{left:u,top:l,right:c,bottom:h}=this.canvas.getBoundingClientRect(),m=n>u&&n<c&&o>l&&o<h;this.canvas.contains(e)||(b=this.pins.get("temporary-pin"))!=null&&b.contains(e)||i&&m||(this.removeAnnotationPin("temporary-pin"),this.temporaryPinCoordinates=null)};if(this.logger=new Ae("@superviz/sdk/comments-component/canvas-pin-adapter"),this.canvas=document.getElementById(t),this.isActive=!1,this.pins=new Map,this.goToPinCallback=e==null?void 0:e.onGoToPin,!this.canvas){let i=`Canvas with id ${t} not found`;throw this.logger.log(i),new Error(i)}this.canvasSides=this.canvas.getBoundingClientRect(),document.body.style.position="relative",this.onPinFixedObserver=new Ne({logger:this.logger}),this.divWrapper=this.renderDivWrapper(),this.annotations=[],this.renderAnnotationsPins(),this.animateFrame=requestAnimationFrame(this.animate),document.body.addEventListener("select-annotation",this.annotationSelected),document.body.addEventListener("keyup",this.resetPins)}destroy(){this.isActive=!1,this.removeListeners(),this.removeAnnotationsPins(),this.pins=new Map,this.divWrapper.remove(),this.divWrapper=null,this.onPinFixedObserver.destroy(),this.onPinFixedObserver=null,this.canvas.style.cursor="default",this.annotations=[],cancelAnimationFrame(this.animateFrame),document.body.removeEventListener("select-annotation",this.annotationSelected),document.body.removeEventListener("keyup",this.resetPins)}setPinsVisibility(t){if(this.isPinsVisible=t,this.isPinsVisible){this.renderAnnotationsPins();return}this.removeAnnotationsPins()}setActive(t){if(this.isActive!==t){if(this.isActive=t,this.isActive){this.originalCanvasCursor=this.canvas.style.cursor,this.canvas.style.cursor='url("https://production.cdn.superviz.com/static/pin-html.png") 0 100, pointer',this.addListeners();return}this.resetPins(),this.removeListeners(),this.canvas.style.cursor=this.originalCanvasCursor}}updateAnnotations(t){this.logger.log("updateAnnotations",t),this.annotations=t,!(!this.isActive&&!this.isPinsVisible)&&(this.removeAnnotationsPins(),this.renderAnnotationsPins())}removeAnnotationPin(t){let e=this.pins.get(t);e&&(e.remove(),this.pins.delete(t),t!=="temporary-pin"&&(this.annotations=this.annotations.filter(i=>i.uuid!==t)))}renderTemporaryPin(){let t=document.getElementById("superviz-temporary-pin");t||(t=document.createElement("superviz-comments-annotation-pin"),t.id="superviz-temporary-pin",t.setAttribute("type","add"),t.setAttribute("showInput",""),t.setAttribute("containerSides",JSON.stringify(this.canvasSides)),t.setAttribute("commentsSide",this.commentsSide),t.setAttribute("position",JSON.stringify(this.temporaryPinCoordinates)),t.setAttribute("annotation",JSON.stringify({})),t.setAttribute("participantsList",JSON.stringify(this.participants)),t.setAttributeNode(document.createAttribute("active")),this.divWrapper.appendChild(t));let{x:e,y:i}=this.temporaryPinCoordinates,o=this.canvas.getContext("2d").getTransform(),u=o.e,l=o.f,c=o.a,h=o.d,m=e*c+u,b=i*h+l;t.setAttribute("position",JSON.stringify({x:m,y:b})),this.pins.set("temporary-pin",t)}addListeners(){this.canvas.addEventListener("click",this.onClick),this.canvas.addEventListener("mousedown",this.setMouseDownCoordinates),document.body.addEventListener("toggle-annotation-sidebar",this.onToggleAnnotationSidebar),document.body.addEventListener("click",this.hideTemporaryPin)}removeListeners(){this.canvas.removeEventListener("click",this.onClick),this.canvas.removeEventListener("mousedown",this.setMouseDownCoordinates),document.body.removeEventListener("toggle-annotation-sidebar",this.onToggleAnnotationSidebar),document.body.addEventListener("click",this.hideTemporaryPin)}resetSelectedPin(){this.selectedPin&&(this.selectedPin.removeAttribute("active"),this.selectedPin=null)}renderDivWrapper(){let t=this.canvas.getBoundingClientRect(),e=this.divWrapper;return e||(e=document.createElement("div"),e.id="superviz-canvas-wrapper",["","static"].includes(this.canvas.parentElement.style.position)&&(this.canvas.parentElement.style.position="relative")),e.style.position="absolute",e.style.top=`${this.canvas.offsetTop}px`,e.style.left=`${this.canvas.offsetLeft}px`,e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.pointerEvents="none",e.style.overflow="hidden",document.getElementById("superviz-canvas-wrapper")||this.canvas.parentElement.appendChild(e),e}renderAnnotationsPins(){if((!this.annotations.length||this.canvas.style.display==="none")&&!this.pins.get("temporary-pin")){this.removeAnnotationsPins();return}this.annotations.forEach(t=>{if(t.resolved)return;let e=JSON.parse(t.position);if((e==null?void 0:e.type)!=="canvas")return;let{x:i,y:n}=e,u=this.canvas.getContext("2d").getTransform(),l=u.e,c=u.f,h=u.a,m=u.d,b=i*h+l,y=n*m+c;if(this.pins.has(t.uuid)){let O=this.pins.get(t.uuid);if(this.divWrapper.clientWidth>b&&this.divWrapper.clientHeight>y){O.setAttribute("style","opacity: 1"),this.pins.get(t.uuid).setAttribute("position",JSON.stringify({x:b,y}));return}O.setAttribute("style","opacity: 0");return}let w=document.createElement("superviz-comments-annotation-pin");w.setAttribute("type","show"),w.setAttribute("participantsList",JSON.stringify(this.participants)),w.setAttribute("annotation",JSON.stringify(t)),w.setAttribute("position",JSON.stringify({x:b,y})),w.id=t.uuid,this.divWrapper.appendChild(w),this.pins.set(t.uuid,w)})}removeAnnotationsPins(){this.pins.forEach(t=>{t.remove()}),this.pins.clear()}set participantsList(t){this.participants=t}goToPin(t){let e=this.annotations.find(w=>w.uuid===t);if(!e)return;let i=JSON.parse(e.position);if((i==null?void 0:i.type)!=="canvas")return;let n=this.canvas.getBoundingClientRect(),{width:o,height:u}=n,{x:l,y:c}=i,h=o/2,m=u/2,b=h-l,y=m-c;this.goToPinCallback&&this.goToPinCallback({x:b,y})}};p();var cR=qt(eo());Hr();var Ha=class{constructor(t,e={}){this.isPinsVisible=!0;this.selectedPin=null;this.dataAttribute="data-superviz-id";this.commentsSide="left";this.temporaryPinCoordinates={};this.elementsWithDataId={};this.divWrappers=new Map;this.voidElementsWrappers=new Map;this.VOID_ELEMENTS=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","svg","rect","ellipse"];this.animate=()=>{this.voidElementsWrappers&&(this.updatePinsPositions(),this.animateFrame=requestAnimationFrame(this.animate))};this.setCommentsMetadata=t=>{this.commentsSide=t};this.hideTemporaryPin=t=>{var u;let e=t.target,i=this.divWrappers.get(this.temporaryPinCoordinates.elementId);if(!i)return;let n=i.contains(e),o=(u=this.pins.get("temporary-pin"))==null?void 0:u.contains(e);n||o||(this.removeAnnotationPin("temporary-pin"),this.temporaryPinCoordinates={})};this.resetPins=t=>{t&&(t==null?void 0:t.key)!=="Escape"||(this.resetSelectedPin(),this.resetHoveredWrapper(),this.temporaryPinCoordinates.elementId&&(this.removeAnnotationPin("temporary-pin"),this.temporaryPinCoordinates={}))};this.annotationSelected=({detail:{uuid:t,newPin:e}})=>{if(!t)return;e&&this.pins.get(t).setAttribute("newPin","");let i=this.annotations.find(u=>{var l;return u.uuid===((l=this.selectedPin)==null?void 0:l.id)});if(this.resetPins(),(i==null?void 0:i.uuid)===t)return;document.body.dispatchEvent(new CustomEvent("close-temporary-annotation"));let n=this.pins.get(t);if(!n)return;n.setAttribute("active",""),this.selectedPin=n;let o=this.annotations.find(u=>u.uuid===t);this.selectedPin.setAttribute("elementId",JSON.parse(o.position).elementId)};this.onClick=t=>{if(!this.isActive||t.target===this.pins.get("temporary-pin"))return;let e=t.target,i=t.currentTarget;if(e!==i&&this.pins.has(e.id))return;let n=i.getAttribute("data-wrapper-id"),o=i.getBoundingClientRect(),{x:u,y:l}=this.mouseDownCoordinates,c=t.clientX-o.left,h=t.clientY-o.top,m=u-o.x,b=l-o.y;if(Math.hypot(c-m,h-b)>10)return;let{width:w,height:O}=i.getBoundingClientRect(),x=32,R=i.getBoundingClientRect().width/i.offsetWidth||1;c=c*100/w,h=(h-x*R)*100/O,this.onPinFixedObserver.publish({x:c,y:h,type:"html",elementId:n}),this.resetSelectedPin(),this.temporaryPinCoordinates={...this.temporaryPinCoordinates,x:c,y:h},this.renderTemporaryPin(n);let L=this.pins.get("temporary-pin");this.movedTemporaryPin=!this.movedTemporaryPin,L.setAttribute("movedPosition",String(this.movedTemporaryPin)),document.body.dispatchEvent(new CustomEvent("unselect-annotation"))};this.onMouseDown=({x:t,y:e})=>{this.mouseDownCoordinates={x:t,y:e}};this.handleMutationObserverChanges=t=>{t.forEach(e=>{var h;let{target:i,oldValue:n}=e,o=i.getAttribute(this.dataAttribute);if(!o&&!n||o===n)return;let u=this.dataAttributeValueFilters.some(m=>n.match(m));if(!o&&n&&!u){this.removeAnnotationPin("temporary-pin"),this.clearElement(n),((h=this.selectedPin)==null?void 0:h.getAttribute("elementId"))===n&&(document.body.dispatchEvent(new CustomEvent("unselect-annotation")),this.selectedPin=null);return}let c=this.dataAttributeValueFilters.some(m=>o.match(m));(n&&this.elementsWithDataId[n]||c)&&this.clearElement(n),!c&&(this.setElementReadyToPin(i,o),this.renderAnnotationsPins())})};this.onToggleAnnotationSidebar=({detail:t})=>{let{open:e}=t;e||(this.resetSelectedPin(),this.pins.has("temporary-pin")&&(this.removeAnnotationPin("temporary-pin"),this.temporaryPinCoordinates.elementId=void 0))};this.onMouseEnter=t=>{var o;let e=t.target;if(this.hoveredWrapper=e,!((o=e.getAttribute("data-wrapper-type"))==null?void 0:o.includes("ellipse"))){this.hoveredWrapper.style.setProperty("outline","1px solid rgb(var(--sv-primary))");return}let n=e.querySelector("ellipse");n.setAttribute("stroke","rgb(var(--sv-primary))"),n.setAttribute("stroke-width","1")};this.onMouseLeave=t=>{var o;let e=t.target;if(this.hoveredWrapper=e,!((o=e.getAttribute("data-wrapper-type"))==null?void 0:o.includes("ellipse"))){this.hoveredWrapper.style.setProperty("outline","");return}let n=e.querySelector("ellipse");n.removeAttribute("stroke"),n.removeAttribute("stroke-width")};if(this.logger=new Ae("@superviz/sdk/comments-component/container-pin-adapter"),this.container=document.getElementById(t),!this.container){let o=`Element with id ${t} not found`;throw this.logger.log(o),new Error(o)}if(typeof e!="object")throw new Error("Second argument of the HTMLPin constructor must be an object");let{dataAttributeName:i,dataAttributeValueFilters:n}=e;if(i==="")throw new Error("dataAttributeName must be a non-empty string");if(i===null)throw new Error("dataAttributeName cannot be null");if(i!==void 0&&typeof i!="string")throw new Error("dataAttributeName must be a non-empty string");this.dataAttribute=i||this.dataAttribute,this.dataAttributeValueFilters=n||[],this.isActive=!1,this.prepareElements(),this.mutationObserver=new MutationObserver(this.handleMutationObserverChanges),this.observeContainer(),this.pins=new Map,this.onPinFixedObserver=new Ne({logger:this.logger}),this.annotations=[],document.body.addEventListener("select-annotation",this.annotationSelected),document.body.addEventListener("keyup",this.resetPins),this.voidElementsWrappers.size&&(this.animateFrame=requestAnimationFrame(this.animate))}destroy(){var t;this.logger.log("Destroying HTML Pin Adapter for Comments"),this.removeListeners(),this.removeObservers(),this.divWrappers.forEach(e=>e.remove()),this.divWrappers.clear(),this.pins.forEach(e=>e.remove()),this.pins.clear(),this.divWrappers=void 0,this.pins=void 0,this.elementsWithDataId=void 0,this.logger=void 0,this.onPinFixedObserver.destroy(),this.onPinFixedObserver=void 0,this.container=void 0,this.voidElementsWrappers.clear(),this.voidElementsWrappers=void 0,this.annotations=[],(t=this.svgWrappers)==null||t.remove(),this.svgWrappers=void 0,document.body.removeEventListener("select-annotation",this.annotationSelected),document.body.removeEventListener("toggle-annotation-sidebar",this.onToggleAnnotationSidebar),cancelAnimationFrame(this.animateFrame)}addElementListeners(t){this.divWrappers.get(t).addEventListener("click",this.onClick,!0),this.divWrappers.get(t).addEventListener("mousedown",this.onMouseDown),this.divWrappers.get(t).addEventListener("mouseenter",this.onMouseEnter),this.divWrappers.get(t).addEventListener("mouseleave",this.onMouseLeave)}removeElementListeners(t){this.divWrappers.get(t).removeEventListener("click",this.onClick,!0),this.divWrappers.get(t).removeEventListener("mousedown",this.onMouseDown),this.divWrappers.get(t).removeEventListener("mouseenter",this.onMouseEnter),this.divWrappers.get(t).removeEventListener("mouseleave",this.onMouseLeave)}set participantsList(t){this.participants=t}removeObservers(){this.mutationObserver.disconnect(),this.mutationObserver=void 0}addListeners(){this.divWrappers.forEach((t,e)=>this.addElementListeners(e)),document.body.addEventListener("toggle-annotation-sidebar",this.onToggleAnnotationSidebar),document.body.addEventListener("click",this.hideTemporaryPin)}removeListeners(){this.divWrappers.forEach((t,e)=>this.removeElementListeners(e)),document.body.removeEventListener("keyup",this.resetPins),document.body.removeEventListener("click",this.hideTemporaryPin)}observeContainer(){this.mutationObserver.observe(this.container,{subtree:!0,attributes:!0,attributeFilter:[this.dataAttribute],attributeOldValue:!0})}prepareElements(){this.container.querySelectorAll(`[${this.dataAttribute}]`).forEach(e=>{let i=e.getAttribute(this.dataAttribute);this.dataAttributeValueFilters.some(o=>i.match(o))||this.setElementReadyToPin(e,i)})}addAllCursors(){this.divWrappers.forEach((t,e)=>{this.addCursor(t,e)})}removeAddCursor(){this.divWrappers.forEach((t,e)=>{let i=t,n=t.getAttribute("data-wrapper-type");if(n){let o=n.split("-")[1];i=this.divWrappers.get(e).querySelector(o)}i.style.setProperty("cursor","default"),i.style.setProperty("pointer-events","none")})}setPinsVisibility(t){this.isPinsVisible=t,this.isPinsVisible&&this.renderAnnotationsPins(),this.removeAnnotationsPins()}removeAnnotationPin(t){let e=this.pins.get(t);!e&&t==="temporary-pin"||(e&&(e.remove(),this.pins.delete(t)),t!=="temporary-pin"&&(this.annotations=this.annotations.filter(i=>i.uuid!==t)))}updateAnnotations(t){this.logger.log("updateAnnotations",t),this.annotations=t,this.isPinsVisible&&(this.removeAnnotationsPins(),this.renderAnnotationsPins())}setActive(t){if(this.isActive!==t){if(this.isActive=t,this.isActive){this.addListeners(),this.addAllCursors(),this.prepareElements();return}this.resetPins(),this.removeListeners(),this.removeAddCursor()}}renderTemporaryPin(t){var o;this.temporaryPinCoordinates.elementId||=t;let e=this.pins.get("temporary-pin");if(t&&t!==this.temporaryPinCoordinates.elementId&&(this.pins.get("temporary-pin").remove(),this.pins.delete("temporary-pin"),this.temporaryPinCoordinates.elementId=t,e=null),!e){let u=(o=this.elementsWithDataId[t])==null?void 0:o.getBoundingClientRect();e=document.createElement("superviz-comments-annotation-pin"),e.id="superviz-temporary-pin",e.setAttribute("type","add"),e.setAttribute("showInput",""),e.setAttribute("containerSides",JSON.stringify(u)),e.setAttribute("commentsSide",this.commentsSide),e.setAttribute("position",JSON.stringify(this.temporaryPinCoordinates)),e.setAttribute("annotation",JSON.stringify({})),e.setAttribute("participantsList",JSON.stringify(this.participants)),e.setAttribute("keepPositionRatio",""),e.setAttributeNode(document.createAttribute("active")),this.addTemporaryPinToElement(t,e)}let{x:i,y:n}=this.temporaryPinCoordinates;e.setAttribute("position",JSON.stringify({x:i,y:n})),this.pins.set("temporary-pin",e)}renderAnnotationsPins(){if(!this.annotations.length){this.removeAnnotationsPins();return}this.annotations.forEach(t=>{if(t.resolved)return;let{x:e,y:i,elementId:n,type:o}=JSON.parse(t.position);if(o!=="html"||this.pins.has(t.uuid)||!this.elementsWithDataId[n])return;let l=this.divWrappers.get(n);if(!l)return;let c=this.createPin(t,e,i);l.appendChild(c),this.pins.set(t.uuid,c)})}updatePinsPositions(){this.voidElementsWrappers.forEach((t,e)=>{let i=JSON.stringify(t.getBoundingClientRect()),n=this.elementsWithDataId[e].getBoundingClientRect();this.elementsWithDataId[e].tagName.toLowerCase()==="ellipse"&&(n=this.elementsWithDataId[e].viewportElement.getBoundingClientRect()),!(0,cR.isEqual)(JSON.stringify(n),i)&&(t.style.setProperty("top",`${n.top}px`),t.style.setProperty("left",`${n.left}px`),t.style.setProperty("width",`${n.width}px`),t.style.setProperty("height",`${n.height}px`))})}clearElement(t){if(!this.elementsWithDataId[t])return;let i=this.divWrappers.get(t);if(i){let n=i.children,{length:o}=n;for(let u=0;u<o;++u){let l=n.item(u);this.pins.delete(l.id)}i.remove()}this.voidElementsWrappers.delete(t),this.removeElementListeners(t),this.divWrappers.delete(t),this.elementsWithDataId[t]=void 0,this.voidElementsWrappers.size||(cancelAnimationFrame(this.animateFrame),this.animateFrame=void 0)}resetSelectedPin(){this.selectedPin&&(this.selectedPin.removeAttribute("active"),this.selectedPin=null)}resetHoveredWrapper(){this.hoveredWrapper&&this.onMouseLeave({target:this.hoveredWrapper})}removeAnnotationsPins(){this.pins.forEach(t=>{t.remove()}),this.pins.clear()}setElementReadyToPin(t,e){if(!this.elementsWithDataId[e]){if(this.elementsWithDataId[e]=t,!this.divWrappers.get(e)){let i=this.createWrapper(t,e);this.divWrappers.set(e,i)}!this.isActive||!this.isPinsVisible||(this.addCursor(this.divWrappers.get(e),e),this.addElementListeners(e))}}handleSvgElement(t,e){let i=t.viewportElement;if(i===void 0)return;if(t.tagName.toLowerCase()==="svg"){let L=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");return L.setAttribute("height","100%"),L.setAttribute("width","100%"),L.style.setProperty("overflow","visible"),L.appendChild(e),t.appendChild(L),t.style.setProperty("overflow","visible"),e}let u=t.tagName.toLowerCase(),l=u==="ellipse",c=u==="rect";if(!l&&!c)return;let h=document.createElementNS("http://www.w3.org/2000/svg","svg"),m=document.createElementNS("http://www.w3.org/2000/svg",u),b,y,w,O,x,R;if(c){let L=t;b=L.getAttribute("x"),y=L.getAttribute("y"),w=L.getAttribute("width"),O=L.getAttribute("height"),x=L.getAttribute("rx"),R=L.getAttribute("ry"),m.setAttribute("fill","transparent"),m.setAttribute("stroke","transparent"),m.setAttribute("x","0"),m.setAttribute("y","0"),m.setAttribute("rx",x),m.setAttribute("ry",R)}if(l){let L=t.getAttribute("cx"),W=t.getAttribute("cy");x=t.getAttribute("rx"),R=t.getAttribute("ry"),b=Number(L)-Number(x),y=Number(W)-Number(R);let{width:Y,height:he}=i.getBoundingClientRect();w=`${Y}px`,O=`${he}px`,m.setAttribute("fill","transparent"),m.setAttribute("stroke","transparent"),m.setAttribute("cx",L),m.setAttribute("cy",W),m.setAttribute("rx",x),m.setAttribute("ry",R)}return m.setAttribute("height",O),m.setAttribute("width",w),h.setAttribute("height",O),h.setAttribute("width",w),h.appendChild(m),e.appendChild(h),t.style.setProperty("overflow","visible"),e.setAttribute("data-wrapper-type",`svg-${u}`),e}addTemporaryPinToElement(t,e){if(!this.elementsWithDataId[t])return;let n=this.divWrappers.get(t);n&&n.appendChild(e)}createPin(t,e,i){let n=document.createElement("superviz-comments-annotation-pin");return n.setAttribute("type","show"),n.setAttribute("annotation",JSON.stringify(t)),n.setAttribute("position",JSON.stringify({x:e,y:i})),n.setAttribute("keepPositionRatio",""),n.setAttribute("participantsList",JSON.stringify(this.participants)),n.id=t.uuid,n}addCursor(t,e){let i=t,n=t.getAttribute("data-wrapper-type");if(n){let o=n.split("-")[1];i=this.divWrappers.get(e).querySelector(o)}i.style.setProperty("cursor",'url("https://production.cdn.superviz.com/static/pin-html.png") 0 100, pointer'),i.style.setProperty("pointer-events","auto")}createWrapper(t,e){let i=`superviz-id-${e}`;if(this.divWrappers.get(e))return;let n=t.getBoundingClientRect(),o=document.createElement("div");o.setAttribute("data-wrapper-id",e),o.id=i,o.style.position="absolute",o.style.pointerEvents="none",o.style.transform="translateX(0) translateY(0) scale(1)",o.style.cursor="default",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.pointerEvents="none";let u=window.getComputedStyle(t).getPropertyValue("border-radius");if(o.style.borderRadius=u,!this.VOID_ELEMENTS.includes(this.elementsWithDataId[e].tagName.toLowerCase()))return this.elementsWithDataId[e].appendChild(o),this.setPositionNotStatic(this.elementsWithDataId[e]),o;o=this.handleSvgElement(t,o)??o,o.style.position="fixed",o.style.top=`${n.top}px`,o.style.left=`${n.left}px`,o.style.width=`${n.width}px`,o.style.height=`${n.height}px`;let l=this.elementsWithDataId[e].parentElement;return(!l||t.viewportElement)&&(l=document.body),this.setPositionNotStatic(l),l.appendChild(o),this.voidElementsWrappers.set(e,o),this.animateFrame||(this.animateFrame=requestAnimationFrame(this.animate)),o}setPositionNotStatic(t){let{position:e}=window.getComputedStyle(t);e==="static"&&t.style.setProperty("position","relative")}};p();Gt();ft();p();var mi=qt(dR()),Km=class{constructor(){this.browser=mi.default.getParser(navigator.userAgent)}get clientStats(){return this.browser.getResult()}get isFirefox(){return this.browser.isBrowser(mi.default.BROWSER_MAP.firefox)}get isSafari(){return this.browser.isBrowser(mi.default.BROWSER_MAP.safari)}get isChrome(){return this.browser.isBrowser(mi.default.BROWSER_MAP.chrome)}get isIE(){return this.browser.isBrowser(mi.default.BROWSER_MAP.ie)}get isEdge(){return this.browser.isBrowser(mi.default.BROWSER_MAP.edge)}get isMobileDevice(){return(this.browser.is(mi.default.PLATFORMS_MAP.mobile)||this.browser.is(mi.default.PLATFORMS_MAP.tablet))&&!navigator.userAgent.match(/iPad/i)}get isTabletDevice(){return this.browser.is(mi.default.PLATFORMS_MAP.tablet)}get isAndroid(){return this.isMobileDevice&&!!navigator.userAgent.match(/Android/i)}get isIpad(){return!!navigator.userAgent.match(/iPad/i)}get isIphone(){return this.isMobileDevice&&!!navigator.userAgent.match(/iPhone/i)}get isAppleMobileDevice(){return this.isIpad||this.isIphone}};kr();p();Gt();var Ym=class{constructor(){this.updateMeetingConnectionStatus=t=>{this.oldConnectionStatus=this.connectionStatus,this.connectionStatus=t,this.connectionStatusObserver.publish(t),this.logger.log("CONNECTION STATUS CHANGE",t)};this.onUpdateBrowserOnlineStatus=t=>{let{type:e}=t;if(e==="online"){this.updateMeetingConnectionStatus(1);return}this.updateMeetingConnectionStatus(4)};this.logger=new Ae("@superviz/sdk/connection-service"),this.connectionStatus=0,this.connectionStatusObserver=new Ne({logger:this.logger})}addListeners(){typeof window<"u"&&(window.addEventListener("online",this.onUpdateBrowserOnlineStatus),window.addEventListener("offline",this.onUpdateBrowserOnlineStatus))}removeListeners(){typeof window<"u"&&(window.removeEventListener("online",this.onUpdateBrowserOnlineStatus),window.removeEventListener("offline",this.onUpdateBrowserOnlineStatus))}};p();Gt();Wy();ft();wo();p();var Xm=class{constructor(t,e,i){this.myParticipant={};this.localRoomProperties=null;this.drawingData=null;this.state=0;this.MESSAGE_SIZE_LIMIT=6e4;this.useStore=ot.bind(this);this.join=()=>{this.room.presence.on(te.LEAVE,this.onParticipantLeave),this.room.presence.on(te.JOINED_ROOM,this.onPresenceEnter),this.enableSync&&(this.room.on("update",this.updateLocalRoomState),this.drawingRoom.presence.on(te.UPDATE,this.updateDrawing))};this.updateMyProperties=t=>{let e=t??{};this.isMessageTooBig(e)||this.left||!this.enableSync||this.isSyncFrozen||(e.avatar===void 0&&delete e.avatar,this.myParticipant={...this.myParticipant,...e},this.room.presence.update(this.myParticipant),this.logger.log("REALTIME","updating my properties",this.myParticipant))};this.isMessageTooBig=(t,e=this.MESSAGE_SIZE_LIMIT)=>{let i=JSON.stringify(t);return new TextEncoder().encode(i).length>e?(this.logger.log("Message too long, the message limit size is 60kb."),!0):!1};this.updateRoomProperties=t=>{if(this.isMessageTooBig(t)||this.isSyncFrozen||this.left)return;let e={...this.localRoomProperties,...t};this.localRoomProperties=e,this.room.emit("update",e)};this.updateDrawingProperties=t=>{this.isMessageTooBig(t)||this.isSyncFrozen||this.left||(this.drawingData={...this.drawingData,...t},this.drawingRoom.presence.update(this.drawingData))};this.setHost=t=>{this.updateRoomProperties({hostClientId:t})};this.setKickParticipant=t=>{if(!t)return;let{participants:e}=ot("global-store"),i=e.value[t];this.updateRoomProperties({kickParticipant:i})};this.initializeRoomProperties=()=>{let t={isGridModeEnabled:!1,hostClientId:null,followParticipantId:null,gather:!1,transcript:"transcript.stop",kickParticipant:null};this.localRoomProperties=t,this.updateRoomProperties(t)};this.onParticipantLeave=t=>{var i;t.id===this.myParticipant.id&&(this.left=!0),t.id===((i=this.localRoomProperties)==null?void 0:i.followParticipantId)&&this.setFollowParticipant()};this.start=async()=>{this.started||(this.started=!0,this.room.isJoined||(this.logger.log("room state service - not joined room yet"),setTimeout(()=>{this.logger.log("room state service - retrying"),this.start()},2e3)),this.localRoomProperties=await this.fetchRoomProperties(),this.localRoomProperties?this.updateLocalRoomState({data:this.localRoomProperties}):this.initializeRoomProperties(),this.publishStateUpdate(4),this.logger.log("REALTIME","Joined realtime room"))};this.onPresenceEnter=()=>{this.updateMyProperties()};this.updateLocalRoomState=async({data:t})=>{this.logger.log("REALTIME","Room update received",t),this.localRoomProperties=Object.assign({},this.localRoomProperties,t);let{followParticipantId:e,gather:i,hostId:n,isGridModeEnabled:o,transcript:u}=this.useStore("video-store");e.publish(t.followParticipantId),i.publish(t.gather),n.publish(t.hostClientId),o.publish(t.isGridModeEnabled),u.publish(t.transcript),t.kickParticipant&&t.kickParticipant.id===this.myParticipant.id&&(this.updateRoomProperties({kickParticipant:null}),this.kickParticipantObserver.publish(this.myParticipant.id))};this.updateDrawing=t=>{if(t.id===this.myParticipant.id)return;let{drawing:e}=this.useStore("video-store");e.publish(t.data)};this.freezeSync=t=>{if(this.isSyncFrozen=t,t){this.destroy();return}this.join()};this.room=t,this.drawingRoom=e,this.logger=i,this.kickParticipantObserver=new Ne({logger:this.logger});let{localParticipant:n,participants:o}=this.useStore("global-store");n.subscribe(u=>{this.enableSync=u.type!=="audience",this.myParticipant={...this.myParticipant,...u}}),o.subscribe(),this.join()}setGridMode(t){this.updateRoomProperties({isGridModeEnabled:t})}setDrawing(t){this.updateDrawingProperties(t)}setTranscript(t){this.updateRoomProperties({transcript:t})}async fetchRoomProperties(){if(await new Promise(o=>{this.room.presence.get(u=>{u||o(0),o(u.length)})})<=1)return null;let e=await new Promise((o,u)=>{this.room.history(l=>{l||u(l),l.events.length||o(null);let c=l.events.pop();o(c)})}),i=1e3*60*60,n=(e==null?void 0:e.timestamp)<Date.now()-i;return!(e!=null&&e.data)||n?null:e.data}publishStateUpdate(t){if(this.state===t)return;this.state=t,this.logger.log("REALTIME",`Realtime state did change. New state: ${nm[this.state]}`);let{meetingState:e}=this.useStore("video-store");e.publish(this.state)}setFollowParticipant(t){this.updateRoomProperties({followParticipantId:t})}setGather(t){this.updateRoomProperties({gather:t})}destroy(){this.room.presence.off(te.LEAVE),this.room.presence.off(te.JOINED_ROOM),this.drawingRoom.presence.off(te.UPDATE),this.room.off("update",this.updateLocalRoomState)}};p();Gt();kr();p();var Qm=class{build(t,e,i,n={},o={}){let u=document.querySelector(`#${t}`),l=new URL(e);if(this.wrapperId||this.element)throw new Error("Tried to initialize two frames with the same FrameBricklayer instance");this.element=document.createElement("iframe"),Object.entries(n).forEach(([c,h])=>{l.searchParams.set(c,h)}),Object.entries(o).forEach(([c,h])=>{this.element.setAttribute(c,h)}),this.element.src=l.toString(),this.element.id=i,u.appendChild(this.element),this.wrapperId=t}destroy(){if(!this.wrapperId)throw new Error("Tried to destroy a frame before it was initialized");let t=document.querySelector(`#${this.wrapperId}`);t&&t.querySelector(`#${this.element.id}`)&&t.removeChild(this.element),this.wrapperId=null,this.element=null}};p();var ev=class{constructor(t){this.observers={};this.sourceBlockList=["vue-devtools-proxy","vue-devtools-backend"];this.originBlockList=["https://sketchfab.com"];this.publish=(t,e={})=>{this.logger.log("MessageBridge","Posting message to frame",t,e),this.contentWindow.postMessage({type:t,data:e},this.allowedOrigins)};this.listen=(t,e)=>{this.observers[t]||(this.observers[t]=new Ne({logger:this.logger})),this.observers[t].subscribe(e)};this.onReceiveMessage=t=>{let{type:e,data:i,source:n}=t.data;if(this.sourceBlockList.includes(n)||this.originBlockList.includes(t.origin))return;let o=!!e,u=!this.domains.length||this.domains.includes(t.origin),l=this.observers.hasOwnProperty(e);if(this.logger.log("MessageBridge",`Message received -
        TYPE: ${t.type}
        ORIGIN: ${t.origin}
        DATA: ${JSON.stringify(t.data)} `),!o||!u||!l){this.logger.log("MessageBridge","Message discarded");return}this.observers[e].publish(i)};let{contentWindow:e,domains:i=[],allowedOrigins:n="*",sourceBlockList:o=[],logger:u}=t;if(this.logger=u,this.domains=i,this.allowedOrigins=n,this.sourceBlockList.push(...o),typeof window>"u")throw new Error("MessageBridge: window is undefined");this.contentWindow=e,window.addEventListener("message",this.onReceiveMessage)}destroy(){Object.entries(this.observers).forEach(([t,e])=>{e.reset(),delete this.observers[t]}),typeof window<"u"&&window.removeEventListener("message",this.onReceiveMessage),delete this.logger,delete this.allowedOrigins,delete this.contentWindow,delete this.domains,delete this.observers,delete this.sourceBlockList}};var pR="sv-video-frame",pc=class{constructor(t){this.logger=new Ae("@superviz/sdk/video-conference-manager");this.frameStateObserver=new Ne({logger:this.logger});this.frameSizeObserver=new Ne({logger:this.logger});this.waitingForHostObserver=new Ne({logger:this.logger});this.realtimeEventsObserver=new Ne({logger:this.logger});this.sameAccountErrorObserver=new Ne({logger:this.logger});this.devicesObserver=new Ne({logger:this.logger});this.meetingStateObserver=new Ne({logger:this.logger});this.meetingConnectionObserver=new Ne({logger:this.logger});this.participantJoinedObserver=new Ne({logger:this.logger});this.participantLeftObserver=new Ne({logger:this.logger});this.participantListObserver=new Ne({logger:this.logger});this.frameState=0;this.layoutModalsAndCamerasConfig=(t,e)=>{let i=t,n=e,o=["left","right","bottom","top"].includes(n),u=["left","right","center"].includes(i);return o||(n="right"),u||(i="right"),this.browserService.isMobileDevice?(n="bottom",{layoutPosition:i,camerasPosition:n}):(i==="left"&&n==="right"&&(i="right"),i==="right"&&n==="left"&&(i="left"),{layoutPosition:i,camerasPosition:n})};this.onFrameLoad=()=>{this.messageBridge=new ev({logger:this.logger,contentWindow:this.bricklayer.element.contentWindow}),this.addMessagesListeners(),this.updateFrameState(2),this.updateFrameLocale(),this.updateMeetingAvatars(),this.onWindowResize(),this.setCustomColors(),this.setCallbacks()};this.setFrameOffset=t=>{let e=t??{};["top","bottom","left","right"].forEach(i=>{Object.keys(e).includes(i)||(e[i]=0)}),this.frameOffset=e};this.setCustomColors=()=>{this.customColors&&this.messageBridge.publish("frame.color-list-update",this.customColors),this.styles&&this.messageBridge.publish("frame.styles-update",this.styles)};this.setCallbacks=()=>{if(!this.callbacks)return;let t={onToggleMicrophone:!!this.callbacks.onToggleMicrophone,onToggleCam:!!this.callbacks.onToggleCam,onToggleRecording:!!this.callbacks.onToggleRecording,onToggleChat:!!this.callbacks.onToggleChat,onToggleScreenShare:!!this.callbacks.onToggleScreenShare,onClickHangup:!!this.callbacks.onClickHangup,onToggleMeetingSetup:!!this.callbacks.onToggleMeetingSetup};this.messageBridge.listen("callback-called",e=>{var i,n;(n=(i=this.callbacks)[e])==null||n.call(i)}),this.messageBridge.publish("frame.callbacks-update",JSON.stringify(t))};this.setFrameStyle=t=>{let e=document.createElement("style"),{bottom:i,left:n,right:o,top:u}=this.frameOffset;if(e.innerHTML=`
      :root {
        --superviz-offset-top: ${u}px;
        --superviz-offset-right: ${o}px;
        --superviz-offset-left: ${n}px;
        --superviz-offset-bottom: ${i}px;
      }     
    `,document.head.appendChild(e),this.browserService.isMobileDevice){this.bricklayer.element.classList.add("sv-video-frame--bottom");return}this.bricklayer.element.classList.add(`sv-video-frame--${t}`)};this.onFrameDimensionsUpdate=({width:t,height:e})=>{if(typeof window>"u")return;let i=document.getElementById(pR),{bottom:n,right:o,left:u,top:l}=this.frameOffset,c=this.isWaterMarkEnabled?40:0,h=`${t}px`,m=`${e+c}px`;(t>=window.innerWidth||this.isHorizontalCameraEnabled)&&(h=`calc(100% - ${o}px - ${u}px)`),e>=window.innerHeight&&(m=`calc(100% - ${l}px - ${n}px)`),i.style.width=h,i.style.height=m,this.frameSizeObserver.publish({width:i.offsetWidth,height:i.offsetHeight})};this.onWindowResize=()=>{let{top:t,bottom:e,right:i,left:n}=this.frameOffset,{innerHeight:o,innerWidth:u}=window,l=o-t-e,c=u-i-n;this.messageBridge&&this.messageBridge.publish("frame.parent-window-size-update",{height:l,width:c})};this.updateFrameLocale=()=>{var o,u;if(!this.frameLocale||!((o=this.frameLocale)!=null&&o.language)&&((u=this.frameLocale)!=null&&u.locales))return;let{language:t,locales:e}=this.frameLocale,n=["en",...e.map(l=>l==null?void 0:l.language)];if(t&&!n.includes(t))throw new Error("The default language is not available in the language listing.");this.messageBridge.publish("frame.locales-update",this.frameLocale)};this.updateMeetingAvatars=()=>{this.messageBridge.publish("frame.avatar-list-update",this.meetingAvatars)};this.onParticipantJoined=t=>{this.participantJoinedObserver.publish(t)};this.onParticipantLeft=t=>{this.participantLeftObserver.publish(t)};this.onMeetingHostChange=t=>{this.realtimeEventsObserver.publish({event:"realtime.host-change",data:t})};this.onMeetingKickParticipant=t=>{this.realtimeEventsObserver.publish({event:"meeting.kick-participant",data:t})};this.onFollowParticipantDidChange=t=>{this.realtimeEventsObserver.publish({event:"realtime.follow-participant",data:t})};this.onGoToDidChange=t=>{this.realtimeEventsObserver.publish({event:"realtime.go-to-participant",data:t})};this.onGather=()=>{this.realtimeEventsObserver.publish({event:"realtime.gather",data:!0})};this.onGridModeChange=t=>{this.realtimeEventsObserver.publish({event:"realtime.grid-mode-change",data:t})};this.onDrawingChange=t=>{this.realtimeEventsObserver.publish({event:"realtime.drawing-change",data:t})};this.onTranscriptChange=t=>{this.realtimeEventsObserver.publish({event:"realtime.transcript-change",data:t})};this.onSameAccountError=t=>{this.sameAccountErrorObserver.publish(t)};this.onDevicesChange=t=>{this.devicesObserver.publish(t)};this.meetingStateUpdate=t=>{this.meetingStateObserver.publish(t)};this.onConnectionStatusChange=t=>{this.meetingConnectionObserver.publish(t)};this.onWaitingForHostDidChange=t=>{this.waitingForHostObserver.publish(t)};this.onParticipantListUpdate=t=>{this.participantListObserver.publish(t)};let{language:e,canUseCams:i,canUseChat:n,canUseScreenshare:o,canUseDefaultAvatars:u,canUseFollow:l,canUseGoTo:c,canUseGather:h,canShowAudienceList:m,canUseDefaultToolbar:b,canUseRecording:y,browserService:w,offset:O,locales:x,avatars:R,customColors:L,styles:W,waterMark:Y,layoutPosition:he,camerasPosition:we,skipMeetingSettings:U,devices:xe,layoutMode:Ke,collaborationMode:Ve,callbacks:dt}=t;this.browserService=w;let cr=this.layoutModalsAndCamerasConfig(he,we),Kr=document.createElement("div");this.frameConfig={apiKey:ee.get("apiKey"),apiUrl:ee.get("apiUrl"),debug:ee.get("debug"),roomId:ee.get("roomId"),limits:ee.get("limits"),collaborationMode:Ve,canUseFollow:l,canUseGoTo:c,canUseCams:i,canUseChat:n,canUseGather:h,canUseScreenshare:o,canUseDefaultAvatars:u,canUseRecording:y,canShowAudienceList:m,camerasPosition:cr.camerasPosition??"right",canUseDefaultToolbar:b,devices:{audioInput:(xe==null?void 0:xe.audioInput)??!0,audioOutput:(xe==null?void 0:xe.audioOutput)??!0,videoInput:(xe==null?void 0:xe.videoInput)??!0},waterMark:Y,layoutMode:Ke,skipMeetingSettings:U,layoutPosition:cr.layoutPosition,transcriptLangs:ee.get("features.transcriptLangs")},this.customColors=L,this.callbacks=dt,this.styles=W,Kr.classList.add("sv_video_wrapper"),Kr.id="sv-video-wrapper",document.body.appendChild(Kr),this.updateFrameState(1),this.bricklayer=new Qm,this.bricklayer.build(Kr.id,ee.get("conferenceLayerUrl"),pR,void 0,{allow:"camera *;microphone *; display-capture *;"}),this.setFrameOffset(O),this.setFrameStyle(cr.camerasPosition),this.bricklayer.element.addEventListener("load",this.onFrameLoad),this.frameLocale={language:e,locales:x},this.meetingAvatars=R,typeof window<"u"&&(window.addEventListener("resize",this.onWindowResize),window.addEventListener("orientationchange",this.onWindowResize))}get isWaterMarkEnabled(){return this.browserService.isMobileDevice?!1:this.frameConfig.waterMark}get isHorizontalCameraEnabled(){return this.browserService.isMobileDevice?!1:["top","bottom"].includes(this.frameConfig.camerasPosition)}addMessagesListeners(){this.messageBridge.listen("meeting.waiting-for-host",this.onWaitingForHostDidChange),this.messageBridge.listen("meeting.participant-joined",this.onParticipantJoined),this.messageBridge.listen("meeting.participant-list-update",this.onParticipantListUpdate),this.messageBridge.listen("meeting.participant-left",this.onParticipantLeft),this.messageBridge.listen("meeting.host-change",this.onMeetingHostChange),this.messageBridge.listen("meeting.kick-participant",this.onMeetingKickParticipant),this.messageBridge.listen("meeting.same-participant-error",this.onSameAccountError),this.messageBridge.listen("meeting.state-update",this.meetingStateUpdate),this.messageBridge.listen("meeting.connection-status-change",this.onConnectionStatusChange),this.messageBridge.listen("meeting.devices-change",this.onDevicesChange),this.messageBridge.listen("realtime.grid-mode-change",this.onGridModeChange),this.messageBridge.listen("realtime.drawing-change",this.onDrawingChange),this.messageBridge.listen("realtime.transcript-change",this.onTranscriptChange),this.messageBridge.listen("frame.dimensions-update",this.onFrameDimensionsUpdate),this.messageBridge.listen("realtime.follow-participant",this.onFollowParticipantDidChange),this.messageBridge.listen("realtime.go-to-participant",this.onGoToDidChange),this.messageBridge.listen("realtime.gather",this.onGather)}updateFrameState(t){t!==this.frameState&&(this.frameState=t,this.frameStateObserver.publish(this.frameState));let e={1:6,2:7,0:8};this.meetingStateUpdate(e[t])}start(t){this.messageBridge.publish("meeting.start",{...t,config:this.frameConfig})}leave(){this.messageBridge.publish("meeting.leave"),this.destroy()}destroy(){var t,e,i,n,o,u,l,c,h,m;(t=this.messageBridge)==null||t.destroy(),(e=this.bricklayer)==null||e.destroy(),(i=this.frameSizeObserver)==null||i.destroy(),(n=this.realtimeEventsObserver)==null||n.destroy(),(o=this.sameAccountErrorObserver)==null||o.destroy(),(u=this.devicesObserver)==null||u.destroy(),(l=this.meetingStateObserver)==null||l.destroy(),(c=this.meetingConnectionObserver)==null||c.destroy(),(h=this.participantJoinedObserver)==null||h.destroy(),(m=this.participantLeftObserver)==null||m.destroy(),this.bricklayer=null,this.frameState=null,typeof window<"u"&&(window.removeEventListener("resize",this.onWindowResize),window.removeEventListener("orientationchange",this.onWindowResize))}publishMessageToFrame(t,e){this.messageBridge&&this.messageBridge.publish(t,e)}};wa();p();ft();wo();var kw=class{constructor(){this.logger=new Ae("@superviz/sdk/core-bridge"),this.logger.log("CoreBridge initialized")}updateLocalParticipant(t){this.logger.log("updateLocalParticipant",t);let{localParticipant:e}=ot("core-store");e.publish(t)}updateParticipantsList(t){this.logger.log("updateParticipantsList",t);let{participants:e}=ot("core-store");e.publish(t)}},hc=new kw;var Sie=1e3*60,Un=null,za=class extends kt{constructor(e){super();this.participantsOnMeeting=[];this.kickParticipantsOnHostLeave=!1;this.startVideo=()=>{var i,n,o,u,l,c,h,m,b,y,w,O,x,R,L,W,Y,he,we,U,xe,Ke,Ve,dt,cr,Kr,mc,vc,Yr,Ar,gc;let e=((i=this.params)==null?void 0:i.userType)!=="audience"&&((n=this.params)==null?void 0:n.defaultAvatars)===!0;this.videoConfig={language:(o=this.params)==null?void 0:o.language,canUseRecording:!!((u=this.params)!=null&&u.enableRecording),canShowAudienceList:((l=this.params)==null?void 0:l.showAudienceList)??!0,canUseChat:!((c=this.params)!=null&&c.chatOff),canUseCams:!((h=this.params)!=null&&h.camsOff),canUseScreenshare:!((m=this.params)!=null&&m.screenshareOff),canUseDefaultAvatars:e&&!((y=(b=this.localParticipant)==null?void 0:b.avatar)!=null&&y.model3DUrl),canUseGather:!!((w=this.params)!=null&&w.enableGather),canUseFollow:!!((O=this.params)!=null&&O.enableFollow),canUseGoTo:!!((x=this.params)!=null&&x.enableGoTo),canUseDefaultToolbar:((R=this.params)==null?void 0:R.defaultToolbar)??!0,camerasPosition:(W=(L=this.params)==null?void 0:L.collaborationMode)==null?void 0:W.position,devices:(Y=this.params)==null?void 0:Y.devices,skipMeetingSettings:(he=this.params)==null?void 0:he.skipMeetingSettings,browserService:this.browserService,offset:(we=this.params)==null?void 0:we.offset,locales:((U=this.params)==null?void 0:U.locales)??[],avatars:((xe=this.params)==null?void 0:xe.avatars)??[],customColors:ee.get("colors"),waterMark:ee.get("waterMark"),styles:(Ke=this.params)==null?void 0:Ke.styles,collaborationMode:((dt=(Ve=this.params)==null?void 0:Ve.collaborationMode)==null?void 0:dt.enabled)??!0,layoutPosition:((Kr=(cr=this.params)==null?void 0:cr.collaborationMode)==null?void 0:Kr.enabled)===!1?"center":((vc=(mc=this.params)==null?void 0:mc.collaborationMode)==null?void 0:vc.modalPosition)??"center",layoutMode:((Ar=(Yr=this.params)==null?void 0:Yr.collaborationMode)==null?void 0:Ar.initialView)??"list",callbacks:(gc=this.params)==null?void 0:gc.callbacks},this.logger.log("video conference @ start video",this.videoConfig),this.videoManager=new pc(this.videoConfig),this.subscribeToVideoEvents()};this.subscribeToVideoEvents=()=>{this.logger.log("video conference @ subscribe to video events"),this.videoManager.meetingConnectionObserver.subscribe(this.connectionService.updateMeetingConnectionStatus),this.videoManager.participantListObserver.subscribe(this.onParticipantListUpdate),this.videoManager.waitingForHostObserver.subscribe(this.onWaitingForHost),this.videoManager.frameSizeObserver.subscribe(this.onFrameSizeDidChange),this.videoManager.meetingStateObserver.subscribe(this.onMeetingStateChange),this.videoManager.frameStateObserver.subscribe(this.onFrameStateChange),this.videoManager.realtimeEventsObserver.subscribe(this.onRealtimeEventFromFrame),this.videoManager.participantJoinedObserver.subscribe(this.onParticipantJoined),this.videoManager.participantLeftObserver.subscribe(this.onParticipantLeft),this.videoManager.sameAccountErrorObserver.subscribe(this.onSameAccountError),this.videoManager.devicesObserver.subscribe(this.onDevicesChange)};this.unsubscribeFromVideoEvents=()=>{this.videoManager&&(this.logger.log("video conference @ unsubscribe from video events"),this.videoManager.meetingConnectionObserver.unsubscribe(this.connectionService.updateMeetingConnectionStatus),this.videoManager.participantListObserver.unsubscribe(this.onParticipantListUpdate),this.videoManager.waitingForHostObserver.unsubscribe(this.onWaitingForHost),this.videoManager.frameSizeObserver.unsubscribe(this.onFrameSizeDidChange),this.videoManager.meetingStateObserver.unsubscribe(this.onMeetingStateChange),this.videoManager.frameStateObserver.unsubscribe(this.onFrameStateChange),this.videoManager.realtimeEventsObserver.unsubscribe(this.onRealtimeEventFromFrame),this.videoManager.participantJoinedObserver.unsubscribe(this.onParticipantJoined),this.videoManager.participantLeftObserver.unsubscribe(this.onParticipantLeft),this.videoManager.sameAccountErrorObserver.unsubscribe(this.onSameAccountError),this.videoManager.devicesObserver.unsubscribe(this.onDevicesChange))};this.suscribeToRealtimeEvents=()=>{this.logger.log("video conference @ subscribe to realtime events"),this.room.presence.on(te.UPDATE,this.onParticipantUpdateOnRealtime),this.room.presence.on(te.JOINED_ROOM,this.onParticipantJoinedOnRealtime),this.room.presence.on(te.LEAVE,this.onParticipantLeftOnRealtime)};this.unsubscribeFromRealtimeEvents=()=>{var e;this.logger.log("video conference @ unsubscribe from realtime events"),this.room.presence.off(te.UPDATE),this.room.presence.off(te.LEAVE),this.room.presence.off(te.JOINED_ROOM),(e=this.roomState)==null||e.kickParticipantObserver.unsubscribe(this.onKickLocalParticipant)};this.subscribeToStoreUpdates=()=>{let{localParticipant:e,group:i,participants:n}=this.useStore("global-store");n.subscribe(b=>{let y=Object.values(b);this.onRealtimeParticipantsDidChange(y)});let{drawing:o,hostId:u,isGridModeEnabled:l,transcript:c,followParticipantId:h,gather:m}=this.useStore("video-store");e.subscribe(b=>{this.localParticipant={...this.localParticipant,...b,type:this.params.userType}}),o.subscribe(this.setDrawing),u.subscribe(this.setHost),l.subscribe(this.setGridMode),c.subscribe(this.setTranscript),h.subscribe(this.setFollowParticipant),m.subscribe(this.setGather),i.subscribe()};this.createParticipantFromPresence=e=>{var i;return{participantId:e.id,id:e.id,color:((i=e.data.slot)==null?void 0:i.color)||wt.gray,avatar:e.data.avatar,type:e.data.type,name:e.data.name,isHost:e.data.isHost,timestamp:e.timestamp,slot:e.data.slot}};this.onFrameSizeDidChange=e=>{this.publish("frame.dimensions-update",e)};this.onWaitingForHost=e=>{this.publish("meeting.waiting-for-host",e)};this.onConnectionStatusChange=e=>{this.logger.log("video conference @ on connection status change",e);let i=[2,4,3,6];i.includes(e)&&this.roomState.freezeSync(!0),i.includes(this.connectionService.oldConnectionStatus)&&!i.includes(e)&&this.roomState.freezeSync(!1),this.publish("meeting.connection-status-change",e)};this.onMeetingStateChange=e=>{this.logger.log("video conference @ on meeting state change",e),this.publish("meeting.state-update",e)};this.onSameAccountError=e=>{this.publish("meeting.same-participant-error",e),this.detach()};this.onDevicesChange=e=>{this.publish("meeting.devices-change",e)};this.onFrameStateChange=e=>{this.logger.log("video conference @ on frame state change",e),e===2&&(this.roomState=new Xm(this.room,this.drawingRoom,this.logger),this.roomState.kickParticipantObserver.subscribe(this.onKickLocalParticipant),this.roomState.start(),this.params.userType!=="guest"&&(this.localParticipant=Object.assign(this.localParticipant,{type:this.params.userType}),this.roomState.updateMyProperties({...this.localParticipant})),this.videoManager.start({group:this.group,participant:this.localParticipant,roomId:ee.get("roomId")}),this.publish("meeting.start"))};this.onRealtimeEventFromFrame=({event:e,data:i})=>{this.logger.log("video conference @ on realtime event from frame",e,i);let n={"realtime.host-change":o=>this.roomState.setHost(o),"realtime.gather":o=>this.roomState.setGather(o),"realtime.grid-mode-change":o=>this.roomState.setGridMode(o),"realtime.drawing-change":o=>{this.roomState.setDrawing(o)},"realtime.follow-participant":o=>{this.roomState.setFollowParticipant(o)},"meeting.kick-participant":o=>{this.roomState.setKickParticipant(o)},"realtime.transcript-change":o=>{this.roomState.setTranscript(o)},"realtime.go-to-participant":o=>{this.eventBus.publish("realtime.go-to-participant",o)}}[e](i);this.publish(e,i)};this.onParticipantJoined=e=>{var u;this.logger.log("video conference @ on participant joined",e),this.publish("meeting.participant-joined",e),this.publish("my-participant.joined",e),this.kickParticipantsOnHostLeave=!((u=this.params)!=null&&u.allowGuests);let{localParticipant:i,participants:n}=this.useStore("global-store"),o=e.name.trim();if(this.videoConfig.canUseDefaultAvatars){this.roomState.updateMyProperties({avatar:e.avatar,name:e.name,type:e.type,joinedMeeting:!0}),hc.updateLocalParticipant({...i.value,avatar:e.avatar,name:e.name,type:this.params.userType}),hc.updateParticipantsList({...n.value,[e.id]:{...n.value[e.id],avatar:e.avatar,name:e.name}});return}hc.updateLocalParticipant({...i.value,name:o,type:this.params.userType}),hc.updateParticipantsList({...n.value,[e.id]:{...n.value[e.id],name:o,type:this.params.userType}}),this.roomState.updateMyProperties({name:e.name,type:e.type,joinedMeeting:!0})};this.onParticipantLeft=e=>{var o,u;this.logger.log("video conference @ on participant left",this.localParticipant);let{localParticipant:i,participants:n}=this.useStore("global-store");i.publish({...i.value,activeComponents:(o=i.value.activeComponents)==null?void 0:o.filter(l=>l!=="videoConference")}),n.publish({...n.value,[this.localParticipant.id]:{...i.value,activeComponents:(u=i.value.activeComponents)==null?void 0:u.filter(l=>l!=="videoConference")}}),this.connectionService.removeListeners(),this.publish("my-participant.left",this.localParticipant),this.unsubscribeFromVideoEvents(),this.videoManager.leave(),this.videoManager=void 0,this.connectionService=void 0,this.detach()};this.onParticipantListUpdate=e=>{this.logger.log("video conference @ on participant list update",e);let i=Object.values(e).map(n=>{var o;return{id:n.id,slot:n.slot,avatar:n.avatar,name:n.name,type:n.type,isHost:n.isHost??!1,timestamp:n.timestamp,color:((o=n.slot)==null?void 0:o.color)||wt.gray}});this.publish("meeting.participant-list-update",i),this.participantsOnMeeting.length!==i.length&&this.publish("meeting.amount-of-participants-update",i.length),this.participantsOnMeeting=i,this.validateIfInTheRoomHasHost()};this.onKickLocalParticipant=()=>{this.logger.log("video conference @ on kick local participant"),this.publish("meeting.kick-participant",this.localParticipant),this.detach()};this.setDrawing=e=>{var i;(i=this.videoManager)==null||i.publishMessageToFrame("realtime.drawing-change",e)};this.setHost=e=>{var i;(i=this.videoManager)==null||i.publishMessageToFrame("realtime.host-change",e),this.onHostParticipantDidChange(e)};this.setGridMode=e=>{var i;(i=this.videoManager)==null||i.publishMessageToFrame("realtime.grid-mode-change",e)};this.setTranscript=e=>{var i;(i=this.videoManager)==null||i.publishMessageToFrame("realtime.transcript-change",e)};this.setFollowParticipant=e=>{var i;(i=this.videoManager)==null||i.publishMessageToFrame("realtime.follow-participant",e),this.eventBus.publish("realtime.follow-participant",e)};this.setGather=e=>{if(!this.videoManager||!e)return;let{hostId:i,gather:n}=this.useStore("video-store");if(n.publish(!1),i.value!==this.localParticipant.id){this.eventBus.publish("realtime.go-to-participant",i.value);return}this.videoManager.publishMessageToFrame("realtime.gather",e)};this.onRealtimeParticipantsDidChange=e=>{var n;this.logger.log("video conference @ on participants did change",e);let i=e.map(o=>{var u;return{id:o.id,timestamp:o.timestamp,participantId:o.id,color:((u=o.slot)==null?void 0:u.color)||wt.gray,name:o.name,isHost:o.isHost??!1,avatar:o.avatar,type:o.type,slot:o.slot}});(n=this.videoManager)==null||n.publishMessageToFrame("realtime.participant-list-update",i)};this.onHostParticipantDidChange=e=>{var u,l;this.logger.log("video conference @ on host participant did change",e),(u=this.videoManager)==null||u.publishMessageToFrame("realtime.host-change",e);let{participants:i}=this.useStore("global-store"),n=Object.values(i.value).find(c=>c.id===e),o=n?{id:n.id,color:((l=n.slot)==null?void 0:l.color)||wt.gray,avatar:n.avatar,type:n.type,name:n.name,isHost:n.id===e}:null;Un&&o&&(this.logger.log("video conference @ on host participant did change - clear kick all participants timeout"),clearTimeout(Un),Un=null),this.publish("meeting.host-change",o)};this.onHostAvailabilityChange=e=>{if(this.logger.log("launcher service @ onHostAvailabilityChange"),e){this.publish("meeting.host-available");return}this.publish("meeting.no-host-available")};this.onParticipantJoinedOnRealtime=e=>{this.logger.log("video conference @ on participant joined on realtime",e),this.publish("meeting.participant-joined",this.createParticipantFromPresence(e)),e.id===this.localParticipant.id&&this.room.presence.update(this.localParticipant)};this.onParticipantLeftOnRealtime=e=>{this.logger.log("video conference @ on participant left on realtime",e),this.publish("meeting.participant-left",this.createParticipantFromPresence(e))};this.onParticipantUpdateOnRealtime=e=>{this.logger.log("video conference @ on participant update on realtime",e);let{localParticipant:i,participants:n}=this.useStore("global-store");e.data.id===this.localParticipant.id&&this.publish("my-participant.update",this.createParticipantFromPresence(e)),n.publish({...n.value,[e.data.id]:{...i.value,...e.data}})};this.validateIfInTheRoomHasHost=()=>{var c,h;if(!this.roomState)return;let{hostId:e}=this.useStore("video-store"),{participants:i}=this.useStore("global-store"),n=Object.values(i.value),o=n.filter(m=>m.type==="host"&&this.participantsOnMeeting.some(b=>b.id===m.id));!o.length&&this.kickParticipantsOnHostLeave&&((c=this.localParticipant)==null?void 0:c.type)!=="host"&&!Un&&(this.logger.log("video conference @ validate if in the room has host - init kick all participants timeout"),Un=setTimeout(()=>{this.logger.log("video conference @ validate if in the room has host - kick all participants"),this.onKickLocalParticipant()},Sie)),o.length&&Un&&(this.logger.log("video conference @ validade if in the room has host - clear kick all participants timeout"),clearTimeout(Un),Un=null),this.onHostAvailabilityChange(!!o.length);let u=n.find(m=>(m==null?void 0:m.id)===(e==null?void 0:e.value));if(!o.length||u)return;let l=o.reduce((m,b)=>(this.logger.log("video conference @ validate if in the room has host - reducing participants",{previous:m,current:b}),!m||(b==null?void 0:b.id)===e.value?b:(b==null?void 0:b.timestamp)>m.timestamp?m:b),null);this.room.presence.update({...this.localParticipant,isHost:l.id===this.localParticipant.id}),!(!l||l.id!==((h=this.localParticipant)==null?void 0:h.id))&&(this.logger.log("video conference @ validate if in the room has host - set host",l),e.publish(l.id),this.roomState.setHost(l.id))};this.params={...e,userType:(e==null?void 0:e.participantType)??(e==null?void 0:e.userType)??"guest"},this.name="videoConference",this.logger=new Ae("@superviz/sdk/videoConference"),this.browserService=new Km,this.connectionService=new Ym,this.connectionService.addListeners(),this.connectionService.connectionStatusObserver.subscribe(this.onConnectionStatusChange)}toggleMeetingSetup(){var e;return(e=this.videoManager)==null?void 0:e.publishMessageToFrame("meeting-controls.toggle-setup")}toggleMicrophone(){var e;if(this.localParticipant.type==="audience"){console.warn("[SuperViz] Audience cannot toggle microphone");return}return(e=this.videoManager)==null?void 0:e.publishMessageToFrame("meeting-controls.toggle-microphone")}toggleCam(){var e;if(this.localParticipant.type==="audience"){console.warn("[SuperViz] Audience cannot toggle camera");return}(e=this.videoManager)==null||e.publishMessageToFrame("meeting-controls.toggle-cam")}toggleScreenShare(){var e;if(this.localParticipant.type==="audience"){console.warn("[SuperViz] Audience cannot toggle screen share");return}return(e=this.videoManager)==null?void 0:e.publishMessageToFrame("meeting-controls.toggle-screenshare")}toggleChat(){var e;return(e=this.videoManager)==null?void 0:e.publishMessageToFrame("meeting-controls.toggle-chat")}toggleRecording(){var e;if(this.localParticipant.isHost){console.warn("[SuperViz] Only host can toggle recording");return}return(e=this.videoManager)==null?void 0:e.publishMessageToFrame("meeting-controls.toggle-recording")}hangUp(){var e;(e=this.videoManager)==null||e.publishMessageToFrame("hang-up")}start(){this.logger.log("video conference @ start"),this.drawingRoom=this.ioc.createRoom("drawing"),this.subscribeToStoreUpdates(),this.suscribeToRealtimeEvents(),this.startVideo()}destroy(){var i,n,o;this.logger.log("video conference @ destroy");let{destroy:e}=this.useStore("video-store");e(),(i=this.roomState)==null||i.destroy(),this.drawingRoom.disconnect(),this.kickParticipantsOnHostLeave=!1,this.publish("destroy"),this.unsubscribeFromRealtimeEvents(),this.unsubscribeFromVideoEvents(),(n=this.videoManager)==null||n.leave(),(o=this.connectionService)==null||o.removeListeners()}};p();p();var hR=qt(eo());Gt();ft();wa();var tv=class extends kt{constructor(e,i){var o;super();this.camera={x:0,y:0,screen:{width:0,height:0},scale:1};this.subscribeToRealtimeEvents=()=>{this.logger.log("presence-mouse component @ subscribe to realtime events"),this.room.presence.on(te.JOINED_ROOM,this.onPresenceJoinedRoom),this.room.presence.on(te.LEAVE,this.onPresenceLeftRoom),this.room.presence.on(te.UPDATE,this.onPresenceUpdate)};this.unsubscribeFromRealtimeEvents=()=>{this.logger.log("presence-mouse component @ unsubscribe from realtime events"),this.room.presence.off(te.JOINED_ROOM),this.room.presence.off(te.LEAVE),this.room.presence.off(te.UPDATE)};this.setParticipantPrivate=e=>{this.isPrivate=e,this.room.presence.update({visible:!e})};this.onPresenceJoinedRoom=e=>{e.id===this.localParticipant.id&&this.room.presence.update(this.localParticipant)};this.onPresenceLeftRoom=e=>{this.removePresenceMouseParticipant(e.id)};this.onPresenceUpdate=e=>{if(this.following&&this.presences.get(this.following)&&this.goToMouse(this.following),e.id===this.localParticipant.id)return;let i=e.data;if(this.following&&i.id!==this.following&&this.presences.has(i.id)){this.removePresenceMouseParticipant(i.id);return}this.presences.set(i.id,i)};this.animate=()=>{this.getCamera(),this.renderDivWrapper(),this.updateParticipantsMouses(),requestAnimationFrame(this.animate)};this.goToMouse=e=>{let i=this.presences.get(e);if(!(i!=null&&i.camera))return;let n=i.camera.x,o=i.camera.y,u=this.divWrapper.clientHeight/i.camera.screen.height,l=Math.min(u,1),c=this.divWrapper.clientWidth/i.camera.screen.width,h=Math.min(c,1);this.goToMouseCallback&&this.goToMouseCallback({x:n,y:o,scaleX:l,scaleY:h})};this.onMyParticipantMouseMove=(0,hR.throttle)(e=>{let i=this.canvas.getContext("2d"),n=this.canvas.getBoundingClientRect(),o=e.x-n.left,u=e.y-n.top,c=(i==null?void 0:i.getTransform()).inverse(),h=new DOMPoint(o,u).matrixTransform(c),m={x:h.x,y:h.y};this.room.presence.update({...this.localParticipant,...m,visible:!this.isPrivate,camera:this.camera})},30);this.onMyParticipantMouseOut=e=>{let{x:i,y:n,width:o,height:u}=this.canvas.getBoundingClientRect();e.x>0&&e.y>0&&e.x<i+o&&e.y<n+u||this.room.presence.update({visible:!1})};this.updateParticipantsMouses=()=>{this.presences.forEach(e=>{if(!(e!=null&&e.visible)||this.following&&this.following!==e.id){this.removePresenceMouseParticipant(e.id);return}this.renderPresenceMouses(e)})};this.getCamera=()=>{var l;let e=(l=this.canvas)==null?void 0:l.getContext("2d"),i=e==null?void 0:e.getTransform(),n=i==null?void 0:i.e,o=i==null?void 0:i.f,u=i==null?void 0:i.a;this.camera={screen:{width:this.divWrapper.clientHeight,height:this.divWrapper.clientWidth},x:n,y:o,scale:u}};this.renderPresenceMouses=e=>{var he,we,U;let n=document.getElementById(`mouse-${e.id}`);n||(n=this.createMouseElement(e));let o=document.getElementById(`mouse-${e.id}`),u=document.getElementById(`mouse-${e.id}`);if(!o||!u)return;let l=o.getElementsByClassName("mouse-user-name")[0],c=u.getElementsByClassName("pointer-mouse")[0];c&&(c.style.backgroundImage=`url(https://production.cdn.superviz.com/static/mouse-pointers/${(he=e.slot)==null?void 0:he.colorName}.svg)`),l&&(l.style.color=((we=e.slot)==null?void 0:we.textColor)??"#fff",l.style.backgroundColor=((U=e.slot)==null?void 0:U.color)??wt.gray,l.innerHTML=e.name);let{x:h,y:m}=e,b=this.canvas.getContext("2d"),y=b==null?void 0:b.getTransform(),w=y==null?void 0:y.e,O=y==null?void 0:y.f,x=y.a,R=y.d,L=h*x+w,W=m*R+O,Y=this.divWrapper.clientWidth>L&&this.divWrapper.clientHeight>W&&e.visible;n.style.opacity=Y?"1":"0",n.style.left=`${L}px`,n.style.top=`${W}px`};this.followMouse=e=>{this.following=e,this.goToMouse(e)};if(this.name="presence",this.logger=new Ae("@superviz/sdk/presence"),this.canvas=document.getElementById(e),this.presences=new Map,!this.canvas){let u=`Canvas with id ${e} not found`;throw this.logger.log(u),new Error(u)}this.divWrapper=this.renderDivWrapper(),this.animateFrame=requestAnimationFrame(this.animate),this.goToMouseCallback=(o=i==null?void 0:i.callbacks)==null?void 0:o.onGoToPresence;let{localParticipant:n}=this.useStore("global-store");n.subscribe(),this.getCamera()}start(){this.logger.log("presence-mouse component @ start"),this.canvas.addEventListener("mousemove",this.onMyParticipantMouseMove),this.canvas.addEventListener("mouseout",this.onMyParticipantMouseOut),this.eventBus.subscribe("realtime.go-to-participant",this.goToMouse),this.eventBus.subscribe("realtime.local-follow-participant",this.followMouse),this.eventBus.subscribe("realtime.private-mode",this.setParticipantPrivate),this.subscribeToRealtimeEvents()}destroy(){this.logger.log("presence-mouse component @ destroy"),this.eventBus.unsubscribe("realtime.go-to-participant",this.goToMouse),this.eventBus.unsubscribe("realtime.local-follow-participant",this.followMouse),this.eventBus.unsubscribe("realtime.private-mode",this.setParticipantPrivate),this.unsubscribeFromRealtimeEvents(),cancelAnimationFrame(this.animateFrame),this.canvas.removeEventListener("mousemove",this.onMyParticipantMouseMove),this.canvas.removeEventListener("mouseout",this.onMyParticipantMouseOut),this.divWrapper.remove()}renderDivWrapper(){let e=this.canvas.getBoundingClientRect(),i=document.getElementById("superviz-presence-mouse-wrapper");return i||(i=document.createElement("div"),i.id="superviz-presence-mouse-wrapper",this.canvas.parentElement.style.position="relative",this.canvas.parentElement.appendChild(i)),i.style.position="fixed",i.style.top=`${e.top}px`,i.style.left=`${e.left}px`,i.style.width=`${e.width}px`,i.style.height=`${e.height}px`,i.style.pointerEvents="none",i.style.overflow="hidden",i.style.zIndex="2",i}removePresenceMouseParticipant(e){let i=document.getElementById(`mouse-${e}`);i&&(i.remove(),this.presences.delete(e))}createMouseElement(e){let i=document.createElement("div");i.setAttribute("id",`mouse-${e.id}`),i.setAttribute("class","mouse-follower");let n=document.createElement("div");n.setAttribute("class","pointer-mouse");let o=document.createElement("div");return o.setAttribute("class","mouse-user-name"),o.innerHTML=e.name,i.appendChild(n),i.appendChild(o),i.style.left="0px",i.style.top="0px",this.divWrapper.appendChild(i),i}transform(e){console.warn("[SuperViz] - transform method not available when container is a canvas element.")}};p();var fR=qt(eo()),ov=qt(tm());Gt();ft();p();var rv=(O=>(O.AREA="area",O.BASE="base",O.BR="br",O.COL="col",O.EMBED="embed",O.HR="hr",O.IMG="img",O.INPUT="input",O.LINK="link",O.META="meta",O.PARAM="param",O.SOURCE="source",O.TRACK="track",O.WBR="wbr",O))(rv||{}),iv=(i=>(i.RECT="rect",i.ELLIPSE="ellipse",i.SVG="svg",i))(iv||{});wa();var nv=class extends kt{constructor(e,i){var o;super();this.presences=new Map;this.mouses=new Map;this.transformation={translate:{x:0,y:0},scale:1};this.onMyParticipantMouseMove=e=>{if(this.isPrivate)return;let i=e.currentTarget,{left:n,top:o}=i.getBoundingClientRect(),u=(e.x-n-this.transformation.translate.x)/this.transformation.scale,l=(e.y-o-this.transformation.translate.y)/this.transformation.scale;this.room.presence.update({...this.localParticipant,x:u,y:l,visible:!0,camera:this.camera})};this.onMyParticipantMouseLeave=e=>{if(typeof window>"u")return;let{left:i,top:n,right:o,bottom:u}=this.container.getBoundingClientRect(),l=e.x>i&&e.y>n&&e.x<o&&e.y<u,c=e.x>0&&e.y>0&&e.x<window.innerWidth&&e.y<window.innerHeight;l&&c||this.room.presence.update({visible:!1})};this.goToMouse=e=>{let i=this.mouses.get(e),n=this.presences.get(e);if(n){if(this.goToPresenceCallback){let o=this.camera.screen.width/n.camera.screen.width,u=this.camera.screen.height/n.camera.screen.height,l=n.camera.x*o,c=n.camera.y*u,h=n.camera.scale*o,m=n.camera.scale*u;this.goToPresenceCallback({x:l,y:c,scaleX:h,scaleY:m});return}i&&i.scrollIntoView({block:"center",inline:"center",behavior:"smooth"})}};this.followMouse=e=>{this.userBeingFollowedId=e,this.goToMouse(e)};this.setParticipantPrivate=e=>{this.isPrivate=e,this.room.presence.update({visible:!e})};this.onPresenceJoinedRoom=e=>{e.id===this.localParticipant.id&&this.room.presence.update(this.localParticipant)};this.onPresenceLeftRoom=e=>{this.removePresenceMouseParticipant(e.id)};this.onPresenceUpdate=e=>{if(e.id===this.localParticipant.id)return;let i=e.data;if(this.userBeingFollowedId&&i.id!==this.userBeingFollowedId&&this.presences.has(i.id)){this.removePresenceMouseParticipant(i.id);return}this.presences.set(i.id,i),this.animate(),this.updateParticipantsMouses()};this.animate=()=>{rv[this.containerTagname]&&this.updateVoidElementWrapper(),iv[this.containerTagname]&&this.updateSVGElementWrapper(),this.animationFrame=requestAnimationFrame(this.animate)};this.updateParticipantsMouses=e=>{if(this.presences.forEach(n=>{if(n.id!==this.localParticipant.id){if(!(n!=null&&n.visible)){this.removePresenceMouseParticipant(n.id);return}this.renderPresenceMouses(n)}}),e)return;this.presences.has(this.userBeingFollowedId)&&this.goToMouse(this.userBeingFollowedId)};this.renderPresenceMouses=e=>{var b,y,w;if(e.id===this.localParticipant.id)return;let i=document.getElementById(`mouse-${e.id}`);if(i||(i=this.createMouseElement(e)),!i)return;let n=i.getElementsByClassName("mouse-user-name")[0],o=i.getElementsByClassName("pointer-mouse")[0];o&&(o.style.backgroundImage=`url(https://production.cdn.superviz.com/static/mouse-pointers/${(b=e.slot)==null?void 0:b.colorName}.svg)`),n&&(n.style.color=((y=e.slot)==null?void 0:y.textColor)??wt.gray,n.style.backgroundColor=((w=e.slot)==null?void 0:w.color)??"#fff",n.innerHTML=e.name);let{x:u,y:l}=e,{translate:{x:c,y:h},scale:m}=this.transformation;i.style.left=`${c+u*m}px`,i.style.top=`${h+l*m}px`};this.renderVoidElementWrapper=()=>{let e=document.createElement("div"),{width:i,height:n,left:o,top:u}=this.container.getBoundingClientRect();e.style.position="absolute",e.style.width=`${i}px`,e.style.height=`${n}px`,e.style.top=`${u}px`,e.style.left=`${o}px`,e.style.overflow="visible",e.style.pointerEvents="none",this.container.parentElement.appendChild(e),this.wrapper=e};this.renderSVGElementWrapper=()=>{let e=this.containerTagname.toLowerCase();if(e==="svg"){this.createSVGWrapper();return}if(e==="rect"){this.createRectWrapper();return}e==="ellipse"&&this.createEllipseWrapper()};if(this.container=document.getElementById(e),this.logger=new Ae("@superviz/sdk/presence"),!this.container){let u=`Element with id ${e} not found`;throw this.logger.log(u),new Error(u)}this.camera={x:0,y:0,scale:1,screen:{width:this.container.clientWidth,height:this.container.clientHeight}},this.name="presence";let{localParticipant:n}=this.useStore("global-store");n.subscribe(),this.containerTagname=this.container.tagName.toUpperCase(),this.goToPresenceCallback=(o=i==null?void 0:i.callbacks)==null?void 0:o.onGoToPresence}start(){this.logger.log("presence-mouse component @ start"),this.renderWrapper(),this.addListeners(),this.subscribeToRealtimeEvents(),this.eventBus.subscribe("realtime.private-mode",this.setParticipantPrivate),this.animationFrame=requestAnimationFrame(this.animate),this.eventBus.subscribe("realtime.go-to-participant",this.goToMouse),this.eventBus.subscribe("realtime.local-follow-participant",this.followMouse)}destroy(){cancelAnimationFrame(this.animationFrame),this.logger.log("presence-mouse component @ destroy"),this.removeListeners(),this.wrapper.remove(),this.presences.clear(),this.presences=void 0,this.container=void 0,this.wrapper=void 0,this.unsubscribeFromRealtimeEvents(),this.eventBus.unsubscribe("realtime.private-mode",this.setParticipantPrivate),this.eventBus.unsubscribe("realtime.go-to-participant",this.goToMouse),this.eventBus.unsubscribe("realtime.local-follow-participant",this.followMouse),this.logger=void 0}subscribeToRealtimeEvents(){this.logger.log("presence-mouse component @ subscribe to realtime events"),this.room.presence.on(te.JOINED_ROOM,this.onPresenceJoinedRoom),this.room.presence.on(te.LEAVE,this.onPresenceLeftRoom),this.room.presence.on(te.UPDATE,this.onPresenceUpdate)}unsubscribeFromRealtimeEvents(){this.logger.log("presence-mouse component @ unsubscribe from realtime events"),this.room.presence.off(te.JOINED_ROOM),this.room.presence.off(te.LEAVE),this.room.presence.off(te.UPDATE)}addListeners(){this.pointerMoveObserver=(0,ov.fromEvent)(this.container,"pointermove").pipe((0,ov.throttleTime)(30)).subscribe(this.onMyParticipantMouseMove),this.container.addEventListener("pointerleave",this.onMyParticipantMouseLeave)}removeListeners(){var e;(e=this.pointerMoveObserver)==null||e.unsubscribe(),this.container.removeEventListener("pointerleave",this.onMyParticipantMouseLeave)}setPositionNotStatic(){let{position:e}=window.getComputedStyle(this.container);e==="static"&&this.container.style.setProperty("position","relative")}createMouseElement(e){if(!this.wrapper)return;let i=document.createElement("div");i.setAttribute("id",`mouse-${e.id}`),i.setAttribute("class","mouse-follower");let n=document.createElement("div");n.setAttribute("class","pointer-mouse");let o=document.createElement("div");return o.setAttribute("class","mouse-user-name"),o.innerHTML=e.name,i.appendChild(n),i.appendChild(o),i.style.left="0px",i.style.top="0px",this.wrapper.appendChild(i),this.mouses.set(e.id,i),i}updateSVGPosition(){let e=this.container.parentElement.getBoundingClientRect(),i=this.container.getBoundingClientRect(),n=i.left-e.left,o=i.top-e.top,{width:u,height:l}=this.container.getBoundingClientRect();this.wrapper.style.setProperty("width",`${u}px`),this.wrapper.style.setProperty("height",`${l}px`),this.wrapper.style.setProperty("top",`${o}px`),this.wrapper.style.setProperty("left",`${n}px`)}createSVGWrapper(){let e=document.createElement("div"),i=this.container.parentElement.getBoundingClientRect(),n=this.container.getBoundingClientRect(),o=n.left-i.left,u=n.top-i.top,{width:l,height:c}=this.container.getBoundingClientRect();e.style.position="fixed",e.style.width=`${l}px`,e.style.height=`${c}px`,e.style.top=`${u}px`,e.style.left=`${o}px`,e.style.overflow="visible",e.style.pointerEvents="none",e.id="superviz-svg-wrapper",this.container.parentElement.appendChild(e),this.wrapper=e}createRectWrapper(){let e=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=document.createElementNS("http://www.w3.org/2000/svg","rect"),n=document.createElement("div"),o=this.container.getAttribute("width"),u=this.container.getAttribute("height"),l=this.container.getAttribute("rx"),c=this.container.getAttribute("ry");i.setAttribute("fill","transparent"),i.setAttribute("stroke","transparent"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("rx",l),i.setAttribute("ry",c),i.setAttribute("height",u),i.setAttribute("width",o),e.setAttribute("height",u),e.setAttribute("width",o),e.appendChild(i),n.appendChild(e);let h=this.container.getBoundingClientRect();n.style.position="fixed",n.style.top=`${h.top}px`,n.style.left=`${h.left}px`,n.style.width=`${h.width}px`,n.style.height=`${h.height}px`,n.style.overflow="visible",n.style.pointerEvents="none",n.id="superviz-rect-wrapper";let m=this.container.viewportElement;for(;m.viewportElement;)m=m.viewportElement;m.parentElement.appendChild(n),this.wrapper=n}createEllipseWrapper(){let e=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),n=document.createElement("div"),o=this.container.getAttribute("cx"),u=this.container.getAttribute("cy"),l=this.container.getAttribute("rx"),c=this.container.getAttribute("ry"),h=Number(o)-Number(l),m=Number(u)-Number(c),b=String(2*Number(o)),y=String(2*Number(u));i.setAttribute("fill","transparent"),i.setAttribute("stroke","transparent"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("rx",l),i.setAttribute("ry",c),i.setAttribute("cx",`${Number(o)-h}`),i.setAttribute("cy",`${Number(u)-m}`),i.setAttribute("height",y),i.setAttribute("width",b),e.setAttribute("height",y),e.setAttribute("width",b),e.appendChild(i),n.appendChild(e);let w=this.container.getBoundingClientRect();n.style.position="fixed",n.style.top=`${w.top}px`,n.style.left=`${w.left}px`,n.style.width=`${w.width}px`,n.style.height=`${w.height}px`,n.style.overflow="visible",n.style.pointerEvents="none",n.id="superviz-ellipse-wrapper";let O=this.container.viewportElement;for(;O.viewportElement;)O=O.viewportElement;O.parentElement.appendChild(n),this.wrapper=n}transform(e){var i,n;this.transformation=e,this.camera={x:e.translate.x,y:e.translate.y,scale:e.scale,screen:{width:((i=this.wrapper)==null?void 0:i.clientWidth)||1,height:((n=this.wrapper)==null?void 0:n.clientHeight)||1}},this.updateParticipantsMouses(!0)}updateVoidElementWrapper(){let e=this.container.getBoundingClientRect(),i=this.wrapper.getBoundingClientRect(),n=this.container;if((0,fR.isEqual)(e,i))return;let o=n.offsetLeft,u=n.offsetTop;this.wrapper.style.setProperty("width",`${e.width}px`),this.wrapper.style.setProperty("height",`${e.height}px`),this.wrapper.style.setProperty("top",`${u}px`),this.wrapper.style.setProperty("left",`${o}px`),this.wrapper.id="superviz-void-wrapper"}updateSVGElementWrapper(){let{left:e,top:i,width:n,height:o}=this.container.getBoundingClientRect(),{left:u,top:l,width:c,height:h}=this.wrapper.getBoundingClientRect();if(!(e===u&&i===l&&n===c&&o===h)){if(this.containerTagname.toLowerCase()==="svg"){this.updateSVGPosition();return}this.wrapper.style.setProperty("width",`${n}px`),this.wrapper.style.setProperty("height",`${o}px`),this.wrapper.style.setProperty("top",`${i}px`),this.wrapper.style.setProperty("left",`${e}px`)}}renderWrapper(){if(!this.wrapper){if(rv[this.containerTagname]){this.renderVoidElementWrapper();return}if(iv[this.containerTagname]){this.renderSVGElementWrapper();return}this.renderElementWrapper()}}removePresenceMouseParticipant(e){let i=document.getElementById(`mouse-${e}`);i&&(i.remove(),this.presences.delete(e),this.mouses.delete(e))}renderElementWrapper(){let e=document.createElement("div");e.style.position="absolute",e.style.width="100%",e.style.height="100%",e.style.top="0",e.style.left="0",e.style.overflow="visible",e.style.pointerEvents="none",this.setPositionNotStatic(),this.container.appendChild(e),this.wrapper=e}};var Va=class{constructor(t,e){let i=document.getElementById(t);if(!i)throw new Error(`[Superviz] Container with id ${t} not found`);return i.tagName.toLowerCase()==="canvas"?new tv(t,e):new nv(t,e)}transform(t){}};p();Gt();ft();p();var mR=qt(Dg());p();var sv=class{constructor(t){this.room=t;this.logger=new Ae("@superviz/sdk/realtime-presence")}update(t){this.logger.log("Realtime Presence @ update presence",t),this.room.presence.update(t)}subscribe(t,e){this.logger.log("Realtime Presence @ subscribe",t),this.room.presence.on(t,e)}unsubscribe(t){this.logger.log("Realtime Presence @ unsubscribe",t),this.room.presence.off(t)}async getAll(){return this.logger.log("Realtime Presence @ get all"),new Promise((t,e)=>{this.room.presence.get(i=>t(i),i=>{let n=`[SuperViz] ${i.name} - ${i.message}`;this.logger.log(i),console.error(n),e(i)})})}};var fc=class extends Pi{constructor(e,i,n,o){super();this.state="DISCONNECTED";this.callbacksToSubscribeWhenJoined=[];this.publish=(0,mR.default)((e,i)=>{if(this.state!=="CONNECTED"){let n=`Realtime channel ${this.name} is not started yet. You can't publish event ${e} before start`;this.logger.log(n),console.warn(`[SuperViz] ${n}`);return}this.channel.emit(`message:${this.name}`,{name:e,payload:i})},30);this.subscribe=(e,i)=>{if(this.state!=="CONNECTED"){this.callbacksToSubscribeWhenJoined.push({event:e,callback:i});return}this.observers[e]||(this.observers[e]=new Ne),this.observers[e].subscribe(i)};this.unsubscribe=(e,i)=>{var n;(n=this.observers[e])==null||n.unsubscribe(i)};this.fetchHistory=async e=>{if(this.state!=="CONNECTED"){let n="Realtime component is not started yet. You can't retrieve history before start";return this.logger.log(n),console.warn(`[SuperViz] ${n}`),null}return await new Promise((n,o)=>{let u=l=>{var h;(h=l.events)!=null&&h.length||n(null);let c=l.events.reduce((m,b)=>{var y;return m[b.data.name]||(m[b.data.name]=[]),m[b.data.name].push({data:b.data.payload,connectionId:b.connectionId,name:b.data.name,participantId:(y=b.presence)==null?void 0:y.id,timestamp:b.timestamp}),m},{});e&&!c[e]&&o(new Error(`Event ${e} not found in the history`)),e&&n(c[e]),n(c)};this.channel.history(u)})};this.publishEventToClient=(e,i)=>{var n;this.logger.log("realtime channel @ publishEventToClient",{event:e,data:i}),(n=this.observers[e])==null||n.publish(i)};this.name=e,this.ioc=i,this.logger=new Ae("@superviz/sdk/realtime-channel"),this.channel=this.ioc.createRoom(`realtime:${this.name}`,o),this.localParticipant=n,this.subscribeToRealtimeEvents(),this.logger.log("started"),this.participant=new sv(this.channel)}async disconnect(){if(this.state==="DISCONNECTED"){this.logger.log("Realtime channel is already disconnected");return}this.logger.log("destroyed"),this.changeState("DISCONNECTED"),this.channel.disconnect()}changeState(e){this.logger.log("realtime component @ changeState - state changed",e),this.state=e,this.publishEventToClient("realtime-channel.state-changed",this.state)}subscribeToRealtimeEvents(){this.channel.presence.on(te.JOINED_ROOM,e=>{e.id===this.localParticipant.id&&(this.changeState("CONNECTED"),this.callbacksToSubscribeWhenJoined.forEach(({event:i,callback:n})=>{this.subscribe(i,n)}),this.logger.log("joined room"),this.changeState("CONNECTED"))}),this.channel.on(`message:${this.name}`,e=>{var i;this.logger.log("message received",e),this.publishEventToClient(e.data.name,{data:e.data.payload,participantId:((i=e==null?void 0:e.presence)==null?void 0:i.id)??null,name:e.data.name,timestamp:e.timestamp,connectionId:e.connectionId})})}};var Ga=class extends kt{constructor(){super();this.state="STOPPED";this.channels=new Map;this.callbacksToSubscribeWhenJoined=[];this.subscribe=(e,i)=>{if(!this.channel){this.callbacksToSubscribeWhenJoined.push({event:e,callback:i});return}this.channel.subscribe(e,i)};this.publish=(e,i)=>{var n;if(so[e.toUpperCase()]){this.channel.publishEventToClient(e,i);return}(n=this.channel)==null||n.publish(e,i)};this.unsubscribe=(e,i)=>{var n;(n=this.channel)==null||n.unsubscribe(e,i)};this.name="realtime",this.logger=new Ae("@superviz/sdk/realtime-component");let{localParticipant:e}=this.useStore("global-store");e.subscribe()}connect(e){if(!this.channel)return new Promise(n=>{let{localParticipant:o}=_o();o.subscribe("connect-after-init",u=>{u.activeComponents.includes("realtime")&&(o.unsubscribe("connect-after-init"),n(this.connect(e)))})});let i=this.channels.get(e);return i||(i=new fc(e,this.ioc,this.localParticipant,this.connectionLimit),this.channels.set(e,i),this.state==="STARTED")?i:new Promise(n=>{this.subscribe("realtime-component.state-changed",o=>{o==="STARTED"&&n(i)})})}start(){this.logger.log("started"),this.channel=new fc("default",this.ioc,this.localParticipant,this.connectionLimit),this.channel.subscribe("realtime-channel.state-changed",e=>{e==="CONNECTED"&&(this.callbacksToSubscribeWhenJoined.forEach(({event:i,callback:n})=>{this.channel.subscribe(i,n)}),this.changeState("STARTED"),this.callbacksToSubscribeWhenJoined=[],this.channel.unsubscribe("realtime-channel.state-changed"),this.participant=this.channel.participant,this.channels.set("default",this.channel))})}destroy(){this.logger.log("destroyed"),this.changeState("STOPPED"),this.disconnectFromAllChannels()}disconnectFromAllChannels(){this.channels.forEach(e=>e.disconnect())}changeState(e){var i;this.logger.log("realtime component @ changeState - state changed",e),this.state=e,(i=this.channel)==null||i.publishEventToClient("realtime-component.state-changed",this.state)}};p();Gt();ft();xw();var Za=class extends kt{constructor(e){super();this.onParticipantListUpdate=e=>{if(this.localParticipantId===void 0||this.localParticipantId==="")return;if(!this.initialized){this.initialized=!0,this.initializeList();return}let i={...e.data,tooltip:this.getTooltipData(e.data),controls:this.getControls(e.data)},{participants:n,extras:o}=this.useStore("who-is-online-store");if(n.value.some(({id:h})=>h===e.data.id)){this.updateParticipant(i);return}if(o.value.some(({id:h})=>h===e.data.id)){this.updateExtra(i);return}if(n.value.length<4){n.publish([...n.value,i]);return}o.publish([...o.value,i])};this.onParticipantLeave=e=>{let{participants:i,extras:n}=this.useStore("who-is-online-store");if(i.value.findIndex(l=>l.id===e.id)===-1){let l=n.value.filter(c=>c.id!==e.id);n.publish(l);return}let u=i.value.filter(l=>l.id!==e.id);if(n.value.length){u.push(n.value[0]);let l=n.value.slice(1);n.publish(l)}i.publish(u)};this.updateParticipant=e=>{let{participants:i,extras:n}=this.useStore("who-is-online-store");if(e.isPrivate&&e.id!==this.localParticipantId){let u=i.value.filter(({id:c})=>c!==e.id),l=n.value.splice(0,1);i.publish([...u,...l]),n.publish([...n.value]);return}let o=i.value.map(u=>u.id===e.id?e:u);i.publish(o)};this.updateExtra=e=>{let{extras:i}=this.useStore("who-is-online-store");if(e.isPrivate&&e.id!==this.localParticipantId){let o=i.value.filter(({id:u})=>u!==e.id);i.publish(o);return}let n=i.value.map(o=>o.id===e.id?e:o);i.publish(n)};this.subscribeToLocalParticipantUpdates=e=>{if(!e.slot)return;this.localParticipantId=e.id;let{privateMode:i,joinedPresence:n}=this.useStore("who-is-online-store"),o=this.isInPresence(e.activeComponents);n.publish(o);let u=this.getParticipant(e);this.room.presence.update({...u,isPrivate:i.value})};this.goToMousePointer=e=>{var n,o;let i=((n=e.presence)==null?void 0:n.id)??((o=e.detail)==null?void 0:o.id);i!==this.localParticipantId&&(this.eventBus.publish("realtime.go-to-participant",i),this.publish("who-is-online.go-to-participant",i))};this.followMousePointer=({detail:e})=>{this.eventBus.publish("realtime.local-follow-participant",e.id),this.following&&this.publish("who-is-online.start-following-participant",this.following),this.following||this.publish("who-is-online.stop-following-participant"),e.source==="extras"&&this.highlightParticipantBeingFollowed(),this.updateParticipantsControls(e.id)};this.setPrivate=({detail:{isPrivate:e,id:i}})=>{let{privateMode:n,participants:o}=this.useStore("who-is-online-store"),u=o.value.find(l=>l.id===i);n.publish(e),this.eventBus.publish("realtime.private-mode",e),this.room.presence.update({...u,isPrivate:e}),e&&this.publish("who-is-online.enter-private-mode"),e||this.publish("who-is-online.leave-private-mode")};this.setFollow=e=>{let{id:i}=e.presence;if(i===this.localParticipantId)return;let{data:n}=e,{following:o}=this.useStore("who-is-online-store");o.publish(n),this.followMousePointer({detail:{id:n}})};this.follow=({detail:e})=>{let{everyoneFollowsMe:i}=this.useStore("who-is-online-store");i.publish(!!(e!=null&&e.id)),this.room.emit("who-is-online.start-follow-me",e),this.following&&this.publish("who-is-online.start-follow-me",this.following),this.following||this.publish("who-is-online.stop-follow-me"),this.updateParticipantsControls(e==null?void 0:e.id)};this.stopFollowing=e=>{var n;if(e.id!==((n=this.following)==null?void 0:n.id))return;let{following:i}=this.useStore("who-is-online-store");i.publish(void 0),this.eventBus.publish("realtime.local-follow-participant",void 0),this.publish("who-is-online.stop-following-participant")};this.gather=e=>{this.room.emit("who-is-online.gather-all",e.detail.id),this.publish("who-is-online.gather-all",e.detail.id)};this.onJoinedRoom=e=>{if(e.id!==this.localParticipantId)return;let{localParticipant:i}=this.useStore("global-store");i.subscribe(this.subscribeToLocalParticipantUpdates)};this.name="whoIsOnline",this.logger=new Ae("@superviz/sdk/who-is-online-component");let{disablePresenceControls:i,disableGoToParticipant:n,disableFollowParticipant:o,disablePrivateMode:u,disableGatherAll:l,disableFollowMe:c,following:h}=this.useStore("who-is-online-store");if(h.subscribe(),typeof e!="object"){this.position=e??"top-right";return}typeof e=="object"&&(this.position=e.position??"top-right",this.setStyles(e.styles),i.publish(e.disablePresenceControls),n.publish(e.disableGoToParticipant),o.publish(e.disableFollowParticipant),u.publish(e.disablePrivateMode),l.publish(e.disableGatherAll),c.publish(e.disableFollowMe))}start(){let{localParticipant:e}=this.useStore("global-store");this.localParticipantId=e.value.id,this.subscribeToRealtimeEvents(),this.positionWhoIsOnline(),this.addListeners()}destroy(){this.unsubscribeFromRealtimeEvents(),this.removeListeners(),this.element.remove(),this.element=null;let{destroy:e}=this.useStore("who-is-online-store");e()}addListeners(){this.element.addEventListener("realtime.local-follow-participant",this.followMousePointer),this.element.addEventListener("realtime.go-to-participant",this.goToMousePointer),this.element.addEventListener("realtime.private-mode",this.setPrivate),this.element.addEventListener("realtime.follow-participant",this.follow),this.element.addEventListener("realtime.gather",this.gather)}removeListeners(){this.element.removeEventListener("realtime.local-follow-participant",this.followMousePointer),this.element.removeEventListener("realtime.go-to-participant",this.goToMousePointer),this.element.removeEventListener("realtime.private-mode",this.setPrivate),this.element.removeEventListener("realtime.follow-participant",this.follow),this.element.removeEventListener("realtime.gather",this.gather)}subscribeToRealtimeEvents(){this.room.presence.on(te.UPDATE,this.onParticipantListUpdate),this.room.presence.on(te.LEAVE,this.onParticipantLeave),this.room.presence.on(te.LEAVE,this.stopFollowing),this.room.presence.on(te.JOINED_ROOM,this.onJoinedRoom),this.room.on("who-is-online.gather-all",this.goToMousePointer),this.room.on("who-is-online.start-follow-me",this.setFollow)}unsubscribeFromRealtimeEvents(){this.room.presence.off(te.UPDATE),this.room.presence.off(te.LEAVE),this.room.presence.off(te.JOINED_ROOM),this.room.off("who-is-online.gather-all",this.goToMousePointer),this.room.off("who-is-online.start-follow-me",this.setFollow)}initializeList(){let{participants:e,extras:i}=this.useStore("who-is-online-store");this.room.presence.get(n=>{let o=n.filter(h=>h.data.id).map(({data:h})=>{let m=h.avatar;m||(m=this.getAvatar({avatar:h.avatar,color:h.slot.color,name:h.name,letterColor:h.slot.textColor}));let b=this.getTooltipData(h),y=this.getControls(h);return{...h,tooltip:b,controls:y,avatar:m,isLocalParticipant:h.id===this.localParticipantId}});if(!o.length)return;let u=o.findIndex(h=>h.id===this.localParticipantId),l=o.splice(u,1)[0],c=o.splice(0,3);e.publish([l,...c]),i.publish(o)})}setStyles(e=""){if(!e)return;let i=document.createElement("style");i.textContent=e,i.id="superviz-who-is-online-styles",document.head.appendChild(i)}positionWhoIsOnline(){if(this.element=document.createElement("superviz-who-is-online"),Object.values(Aw).includes(this.position.toLowerCase())){document.body.appendChild(this.element);let[n,o]=this.position.split("-");this.element.position=`${n}: 20px; ${o}: 40px;`;return}let i=document.getElementById(this.position);if(!i){this.element.position="top: 20px; right: 40px;",document.body.appendChild(this.element);return}i.appendChild(this.element),this.element.position="position: relative;"}getParticipant(e){let{avatar:i,activeComponents:n,id:o,name:u,slot:{color:l,textColor:c}}=e,h=this.shouldDisableDropdown({activeComponents:n,participantId:o}),m=this.getAvatar({avatar:i,color:l,name:u,letterColor:c});return{id:o,name:u,avatar:m,disableDropdown:h,activeComponents:n,isPrivate:!1}}shouldDisableDropdown({activeComponents:e,participantId:i}){let{joinedPresence:{value:n},disablePresenceControls:{value:o},disableFollowMe:{value:u},disableFollowParticipant:{value:l},disableGoToParticipant:{value:c},disableGatherAll:{value:h},disablePrivateMode:{value:m}}=this.useStore("who-is-online-store");return n===!1||o===!0||i===this.localParticipantId&&u&&m&&h||i!==this.localParticipantId&&l&&c?!0:!(e!=null&&e.some(b=>b.toLowerCase().includes("presence")))}getTooltipData(e){let{name:i,disableDropdown:n,id:o}=e,u=o===this.localParticipantId,l={name:i};return u&&(l.name+=" (You)"),!n&&!u&&(l.info="Click to follow"),l}getAvatar({avatar:e,color:i,name:n,letterColor:o}){var c;let u=e==null?void 0:e.imageUrl,l=((c=n==null?void 0:n.at(0))==null?void 0:c.toUpperCase())??"A";return{imageUrl:u,firstLetter:l,color:i,letterColor:o}}getControls(e){let{disablePresenceControls:i}=this.useStore("who-is-online-store"),{disableDropdown:n,id:o}=e;return i.value||n?[]:o===this.localParticipantId?this.getLocalParticipantControls():this.getOtherParticipantsControls(o)}getOtherParticipantsControls(e){var l;let{disableGoToParticipant:i,disableFollowParticipant:n,following:o}=this.useStore("who-is-online-store"),u=[];if(i.value||u.push({label:"go to",icon:"place"}),!n.value){let c=((l=o.value)==null?void 0:l.id)===e,h=c?"unfollow":"follow",m=c?"send-off":"send";u.push({label:h,icon:m})}return u}getLocalParticipantControls(){let{disableFollowMe:{value:e},disableGatherAll:{value:i},disablePrivateMode:{value:n},everyoneFollowsMe:{value:o},privateMode:{value:u}}=this.useStore("who-is-online-store"),l=[];if(i||l.push({label:"gather all",icon:"gather"}),!e){let c=o?"send-off":"send",h=o?"stop followers":"everyone follows me";l.push({label:h,icon:c})}if(!n){let c=u?"eye_inative":"eye",h=u?"leave private mode":"private mode";l.push({label:h,icon:c})}return l}updateParticipantsControls(e){let{participants:i}=this.useStore("who-is-online-store"),n=i.value.map(o=>{if(e&&o.id!==e)return o;let{id:u}=o,l=this.getControls(o);return{...o,controls:l}});i.publish(n)}highlightParticipantBeingFollowed(){let{extras:e,participants:i,following:{value:n}}=this.useStore("who-is-online-store"),o=i.value[0],u=e.value.findIndex(h=>h.id===n.id),l=e.value.splice(u,1)[0];i.value.unshift(o),i.value[1]=l;let c=i.value.pop();e.value.push(c),e.publish(e.value),i.publish(i.value)}isInPresence(e){return e==null?void 0:e.some(i=>i.includes("presence"))}};p();ft();var Ja=class extends kt{constructor(e={}){super();this.fields={};this.fieldsOriginalOutline={};this.focusList={};this.enabledOutlineFields={};this.enabledRealtimeSyncFields={};this.flags={};this.allowedTagNames=["input","textarea"];this.allowedInputTypes=["text","email","date","color","datetime-local","month","number","password","range","search","tel","time","url","week","checkbox","radio"];this.throwError={onInvalidFieldsProp:e=>{throw new Error(`"Fields" property must be either a string or an array of strings. Received type: ${e}`)},onFieldNotFound:e=>{throw new Error(`You must pass the id of an existing element. Element with id ${e} not found`)},onInvalidTagName:e=>{throw new Error(`You can't register an element with tag ${e}. Only the tags "${this.allowedTagNames.join(", ")}" are allowed`)},onInvalidInputType:e=>{throw new Error(`You can't register an input element of type ${e}. Only the types "${this.allowedInputTypes.join(", ")}" are allowed`)},onDeregisterInvalidField:e=>{throw new Error(`You can't deregister field of id ${e}. No field was registered with id ${e} `)}};this.sync=e=>{var l,c;let i=this.fields[e],n=this.hasCheckedProperty(i),u={value:n?i.checked:i.value,color:this.localParticipant.slot.color,fieldId:e,showOutline:this.canUpdateColor(e),syncContent:this.canSyncContent(e),attribute:n?"checked":"value"};(l=this.room)==null||l.emit("field.content-change"+e,u),(c=this.room)==null||c.emit("field.interaction"+e,u)};this.handleInput=e=>{var u,l,c,h;let i=e.target;(l=this.room)==null||l.emit("field.interaction"+i.id,{fieldId:i.id,color:(u=this.localParticipant.slot)==null?void 0:u.color});let n=this.canSyncContent(i.id);if(!n)return;let o={value:i.value,color:(c=this.localParticipant.slot)==null?void 0:c.color,fieldId:i.id,showOutline:this.canUpdateColor(i.id),syncContent:n,attribute:"value"};(h=this.room)==null||h.emit("field.content-change"+i.id,o)};this.handleChange=e=>{var u;let i=e.target;if(!this.canSyncContent(i.id))return;let o={fieldId:i.id,value:i.checked,color:this.localParticipant.slot.color,showOutline:this.canUpdateColor(i.id),syncContent:this.canSyncContent(i.id),attribute:"checked"};(u=this.room)==null||u.emit("field.content-change"+i.id,o)};this.handleFocus=e=>{var o;let i=e.target,n={color:this.localParticipant.slot.color,fieldId:i.id};(o=this.room)==null||o.emit("field.focus"+i.id,n)};this.handleBlur=e=>{var o;let i=e.target,n={fieldId:i.id};(o=this.room)==null||o.emit("field.blur"+i.id,n)};this.removeFieldColor=({presence:e,data:{fieldId:i}})=>{var n;((n=this.focusList[i])==null?void 0:n.id)!==e.id||!this.fields[i]||(this.fields[i].style.outline=this.fieldsOriginalOutline[i]??"",delete this.fieldsOriginalOutline[i],delete this.focusList[i])};this.updateFieldColor=({presence:e,data:{color:i,fieldId:n},timestamp:o})=>{let u=this.focusList[n]??{},l=!u.id,c=e.id===this.localParticipant.id;if(l&&c){this.focusList[n]={id:e.id,color:i,firstInteraction:o,lastInteraction:o};return}if(u.id===e.id){this.focusList[n].lastInteraction=o;return}let m=o-u.lastInteraction>=3e3,b=o-u.firstInteraction>=1e4;if(!(m||b||l))return;this.focusList[n]={id:e.id,color:i,firstInteraction:o,lastInteraction:o};let w=c?this.fieldsOriginalOutline[n]:`1px solid ${i}`;this.fields[n].style.outline=w};this.updateFieldContent=({presence:e,data:{value:i,fieldId:n,color:o,showOutline:u,syncContent:l,attribute:c},timestamp:h,...m})=>{this.publish("field.content-change",{value:i,fieldId:n,attribute:c,userId:e.id,userName:e.name,timestamp:h}),l&&this.canSyncContent(n)&&e.id!==this.localParticipant.id&&(this.fields[n][c]=i),u&&this.canUpdateColor(n)&&this.updateFieldColor({presence:e,data:{color:o,fieldId:n},timestamp:h,...m})};this.publishTypedEvent=({presence:e,data:{fieldId:i,color:n}})=>{this.publish("field.interaction",{fieldId:i,userId:e.id,userName:e.name,color:n})};this.canSyncContent=e=>!this.flags.disableRealtimeSync&&this.enabledRealtimeSyncFields[e]!==!1||!!this.enabledRealtimeSyncFields[e];this.name="formElements",this.logger=new Ae("@superviz/sdk/presence-input-component");let{fields:i,...n}=e;if(this.flags=n??{},typeof i=="string"){this.validateField(i),this.fields[i]=null;return}if(Array.isArray(i)){i.forEach(o=>{this.validateField(o),this.fields[o]=null});return}i!==void 0&&this.throwError.onInvalidFieldsProp(typeof i)}enableOutline(e){let i=this.fields[e];i&&(this.enabledOutlineFields[e]=!0,this.fieldsOriginalOutline[e]=i.style.outline,i.addEventListener("focus",this.handleFocus),i.addEventListener("blur",this.handleBlur),this.room.on("field.focus"+e,this.updateFieldColor),this.room.on("field.blur"+e,this.removeFieldColor))}disableOutline(e){var n;let i=this.fields[e];i&&(this.enabledOutlineFields[e]=!1,i.style.outline=this.fieldsOriginalOutline[e]??"",i.removeEventListener("focus",this.handleFocus),i.removeEventListener("blur",this.handleBlur),this.room.off("field.focus"+e,this.updateFieldColor),this.room.off("field.blur"+e,this.removeFieldColor),(n=this.room)==null||n.emit("field.blur"+e,{fieldId:e}))}enableRealtimeSync(e){this.enabledRealtimeSyncFields[e]=!0}disableRealtimeSync(e){this.enabledRealtimeSyncFields[e]=!1}registerField(e){this.validateField(e);let i=document.getElementById(e);this.fields[e]=i,this.addListenersToField(i),this.addRealtimeListenersToField(e),this.fieldsOriginalOutline[e]=i.style.outline}deregisterField(e){var i;this.fields[e]||this.throwError.onDeregisterInvalidField(e),this.removeListenersFromField(this.fields[e]),this.removeRealtimeListenersFromField(e),this.fields[e].style.outline=this.fieldsOriginalOutline[e],this.fields[e]=void 0,delete this.enabledOutlineFields[e],delete this.enabledRealtimeSyncFields[e],delete this.fieldsOriginalOutline[e],delete this.focusList[e],(i=this.room)==null||i.emit("field.blur"+e,{fieldId:e})}start(){let{localParticipant:e}=this.useStore("global-store");e.subscribe(),Object.entries(this.fields).forEach(([i])=>{this.registerField(i)})}destroy(){this.restoreOutlines(),this.deregisterAllFields(),this.fieldsOriginalOutline=void 0,this.focusList=void 0}addListenersToField(e){let{type:i}=e;this.hasCheckedProperty(e)?e.addEventListener("change",this.handleChange):e.addEventListener("input",this.handleInput),!this.flags.disableOutline&&(e.addEventListener("focus",this.handleFocus),e.addEventListener("blur",this.handleBlur))}addRealtimeListenersToField(e){this.room&&(this.room.on("field.content-change"+e,this.updateFieldContent),this.room.on("field.interaction"+e,this.publishTypedEvent),!this.flags.disableOutline&&(this.room.on("field.focus"+e,this.updateFieldColor),this.room.on("field.blur"+e,this.removeFieldColor)))}removeListenersFromField(e){this.hasCheckedProperty(e)?e.removeEventListener("change",this.handleChange):e.removeEventListener("input",this.handleInput),!this.flags.disableOutline&&(e.removeEventListener("focus",this.handleFocus),e.removeEventListener("blur",this.handleBlur))}removeRealtimeListenersFromField(e){this.room&&(this.room.off("field.content-change"+e,this.updateFieldContent),this.room.off("field.interaction"+e,this.publishTypedEvent),!this.flags.disableOutline&&(this.room.off("field.focus"+e,this.updateFieldColor),this.room.off("field.blur"+e,this.removeFieldColor)))}deregisterAllFields(){Object.keys(this.fields).forEach(e=>{this.deregisterField(e)}),this.fields=void 0}validateField(e){this.validateFieldId(e);let i=document.getElementById(e);this.validateFieldTagName(i),this.validateFieldType(i)}validateFieldTagName(e){let i=e.tagName.toLowerCase();this.allowedTagNames.includes(i)||(this.logger.log("invalid element tagname"),this.throwError.onInvalidTagName(i))}validateFieldType(e){if(e.tagName.toLowerCase()!=="input")return;let i=e.getAttribute("type"),n=this.allowedInputTypes.includes(i);i&&!n&&(this.logger.log("invalid input type"),this.throwError.onInvalidInputType(i))}validateFieldId(e){document.getElementById(e)||this.throwError.onFieldNotFound(e)}restoreOutlines(){Object.entries(this.fields).forEach(([e])=>{this.fields[e].style.outline=this.fieldsOriginalOutline[e]})}hasCheckedProperty(e){let i=e.tagName.toLowerCase(),n=e.getAttribute("type");return i==="input"&&(n==="radio"||n==="checkbox")}canUpdateColor(e){return!this.flags.disableOutline&&this.enabledOutlineFields[e]!==!1||this.enabledOutlineFields[e]}};typeof window<"u"&&(window.SuperVizRoom={init:Zy,CommentEvent:zu,MeetingEvent:Is,DeviceEvent:Hd,RealtimeEvent:si,MeetingState:Uu,MeetingConnectionStatus:ks,MeetingControlsEvent:Rs,ParticipantEvent:Hu,FrameEvent:Ls,LayoutMode:sc,VideoConference:za,MousePointers:Va,Realtime:Ga,Comments:Wa,CanvasPin:Ua,HTMLPin:Ha,WhoIsOnline:Za,FormElements:Ja,ParticipantType:Eo,LayoutPosition:Ba,CamerasPosition:ac,RealtimeComponentState:uc,RealtimeComponentEvent:lc,ComponentLifeCycleEvent:so,WhoIsOnlineEvent:Vu,StoreType:nt,PresenceEvents:te,FieldEvents:cc,PinMode:Fo,Comment});var Pie=Zy;0&&(module.exports={CamerasPosition,CanvasPin,CommentEvent,Comments,ComponentLifeCycleEvent,DeviceEvent,FieldEvents,FormElements,FrameEvent,HTMLPin,LayoutMode,LayoutPosition,MeetingConnectionStatus,MeetingControlsEvent,MeetingEvent,MeetingState,MousePointers,ParticipantEvent,ParticipantType,PinMode,PresenceEvents,Realtime,RealtimeComponentEvent,RealtimeComponentState,RealtimeEvent,StoreType,VideoConference,WhoIsOnline,WhoIsOnlineEvent});
/*! Bundled license information:

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

@lit-labs/ssr-dom-shim/lib/element-internals.js:
  (**
   * @license
   * Copyright 2023 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit-labs/ssr-dom-shim/index.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/node/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit-labs/ssr-dom-shim/lib/element-internals.js:
  (**
   * @license
   * Copyright 2023 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit-labs/ssr-dom-shim/index.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-element/lit-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/node/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/custom-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/property.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/state.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/event-options.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/base.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/query.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/query-all.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/query-async.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/query-assigned-elements.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/query-assigned-nodes.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/node/directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/node/directives/class-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/node/directive-helpers.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/node/directives/repeat.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
//# sourceMappingURL=index.cjs.js.map
