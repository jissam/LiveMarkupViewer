import{a as b,k as g}from"./chunk-AY5577XS.js";import"./chunk-3ONINIVE.js";import"./chunk-UMKOLOIY.js";import{a as v}from"./chunk-XDQDK5AN.js";import"./chunk-RSMB47NK.js";import{a as y}from"./chunk-6U6BYUHV.js";import{a as f}from"./chunk-MLLFZOUT.js";import{a as p,e as h,f as u}from"./chunk-WH4S5YLH.js";import"./chunk-OQBMJDJ3.js";import{g as m,i as a}from"./chunk-3ZCZGH34.js";a();a();var d;function l(o){let t=o.querySelector("#superviz-comments");if(t&&!d){let e={childList:!0,attributes:!0,characterData:!0,subtree:!0};d=new MutationObserver(i=>{i.forEach(r=>{r.removedNodes.length&&r.removedNodes.forEach(s=>{s.id==="poweredby-footer"&&z(o)})})}),d.observe(t,e)}}function z(o){let t=document.createElement("div");t.id="poweredby-footer",t.className="footer";let e=document.createElement("div");e.className="powered-by powered-by--horizontal";let i=document.createElement("a");i.href="https://superviz.com/",i.target="_blank",i.className="link";let r=document.createElement("div");r.textContent="Powered by";let s=document.createElement("img");s.width=48,s.height=8.86,s.src="https://production.cdn.superviz.com/static/superviz-gray-logo.svg",e.appendChild(i),i.appendChild(r),r.appendChild(s),t.appendChild(e);let c=o.getElementById("superviz-comments");c&&c.appendChild(t),l(o)}var w=f(h),E=[w.styles,b,g],n=class extends w{constructor(){super(),this.annotations=[],this.annotationFilter="All comments",this.waterMarkState=!1,this.participantsList=[],this.side="left"}firstUpdated(t){super.firstUpdated(t),this.updateComplete.then(()=>{y.call(this,["comments"])})}updated(t){super.updated(t),this.updateComplete.then(()=>{this.waterMarkState&&l(this.shadowRoot),t.has("offset")&&this.applyOffset()})}participantsListed(t){this.participantsList=t}updateAnnotations(t){this.annotations=t}close(){this.emitEvent("close-threads",{})}waterMarkStatus(t){this.waterMarkState=t}setFilter({detail:t}){let{filter:{label:e}}=t;this.annotationFilter=e}getOffset(t){return t==null||t<0?"10px":`${t}px`}applyOffset(){let t=this.shadowRoot.querySelector(".superviz-comments");if(!t)return;let{left:e,right:i,top:r,bottom:s}=this.offset;t.style.setProperty("--offset-top",this.getOffset(r)),t.style.setProperty("--offset-bottom",this.getOffset(s)),t.style.setProperty("--offset-right",this.getOffset(i)),t.style.setProperty("--offset-left",this.getOffset(e))}get poweredBy(){return this.waterMarkState?p` <div id="poweredby-footer" class="footer">
      <div class="powered-by powered-by--horizontal">
        <a href="https://superviz.com/" target="_blank" class="link">
          <div class="">
            Powered by
            <img
              width="48px"
              height="8.86px"
              src="https://production.cdn.superviz.com/static/superviz-gray-logo.svg"
            />
          </div>
        </a>
      </div>
    </div>`:p``}render(){let t={"superviz-comments":!0,"threads-on-left-side":this.side==="left","threads-on-right-side":this.side==="right","hide-at-right":this.side==="right"&&!this.open,"hide-at-left":this.side==="left"&&!this.open};return p`
      <div id="superviz-comments" class=${v(t)}>
        <div class="header">
          <superviz-comments-topbar
            @close-threads=${this.close}
            side=${this.side.split(":")[0]}
          ></superviz-comments-topbar>
        </div>
        <superviz-comments-annotation-filter
          filter=${this.annotationFilter}
          @select=${this.setFilter}
        >
        </superviz-comments-annotation-filter>
        <superviz-comments-content
          annotations=${JSON.stringify(this.annotations)}
          annotationFilter=${this.annotationFilter}
          participantsList=${JSON.stringify(this.participantsList)}
          class="content"
        ></superviz-comments-content>
        ${this.poweredBy}
      </div>
    `}};n.styles=E,n.properties={open:{type:Boolean},annotations:{type:Object},annotationFilter:{type:String},waterMarkState:{type:Boolean},side:{type:String},participantsList:{type:Object},offset:{type:Object}},n=m([u("superviz-comments")],n);export{n as Comments};
//# sourceMappingURL=comments-FBHX5D24.js.map
