{
  "version": 3,
  "sources": ["../../src/web-components/comments/components/mention-list.ts"],
  "sourcesContent": ["import { CSSResultGroup, LitElement, PropertyValueMap, html } from 'lit';\n\nimport { repeat } from 'lit/directives/repeat.js';\n\nimport { ParticipantByGroupApi } from '../../../common/types/participant.types';\nimport { WebComponentsBase } from '../../base';\nimport { mentionListStyle } from '../css';\nimport { CreateElement } from '../../global/decorators/create-element.decorator';\n\nconst WebComponentsBaseElement = WebComponentsBase(LitElement);\nconst styles: CSSResultGroup[] = [WebComponentsBaseElement.styles, mentionListStyle];\n\n@CreateElement('superviz-comments-mention-list')\nexport class CommentsMentionList extends WebComponentsBaseElement {\n  constructor() {\n    super();\n    this.participants = [];\n  }\n\n  static styles = styles;\n\n  declare participants: ParticipantByGroupApi[];\n\n  static properties = {\n    participants: { type: Object },\n  };\n\n  protected updated(_changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>): void {\n    if (_changedProperties.has('participants') && this.participants.length > 0) {\n      this.showMentionList();\n      return;\n    }\n\n    this.hideMentionList();\n  }\n\n  showMentionList = () => {\n    const mentionList = this.shadowRoot?.getElementById('mention-list');\n    mentionList?.style.setProperty('display', 'block');\n    mentionList?.style.setProperty('margin-top', '1px');\n    mentionList.addEventListener('wheel', this.stopHandleZoom);\n  };\n\n  hideMentionList = () => {\n    const mentionList = this.shadowRoot?.getElementById('mention-list');\n    mentionList.removeEventListener('wheel', this.stopHandleZoom);\n    mentionList?.style.setProperty('display', 'none');\n  };\n\n  private selectParticipant = (participant) => {\n    this.emitEvent('participant-selected', participant, {\n      bubbles: false,\n      composed: false,\n    });\n\n    this.hideMentionList();\n  };\n\n  private stopHandleZoom = (event) => {\n    const menu = this.shadowRoot?.getElementById('mention-list');\n    menu.scrollTop += event.deltaY;\n    event.preventDefault();\n  };\n\n  private getAvatar(participant: ParticipantByGroupApi) {\n    if (participant.avatar) {\n      return html`<img class=\"avatar\" src=${participant.avatar} />`;\n    }\n\n    return html`<div class=\"default-avatar\">\n      <p class=\"text text-bold\">${participant.name[0]?.toUpperCase() || 'A'}</p>\n    </div>`;\n  }\n\n  protected render() {\n    const mentionItem = (participant) => html`\n      <div class=\"mention-item\" @click=${() => this.selectParticipant(participant)}>\n        ${this.getAvatar(participant)}\n        <div class=\"avatar-type\">${participant.name}</div>\n      </div>\n    `;\n\n    return html`\n      <div id=\"mention-list\">\n        ${repeat(\n          this.participants,\n          (participant: ParticipantByGroupApi) => participant.id,\n          (participant) => html` ${mentionItem(participant)} `,\n        )}\n      </div>\n    `;\n  }\n}\n"],
  "mappings": "qRAAAA,IASA,IAAMC,EAA2BC,EAAkBC,CAAU,EACvDC,EAA2B,CAACH,EAAyB,OAAQI,CAAgB,EAGtEC,EAAN,cAAkCL,CAAyB,CAChE,aAAc,CACZ,MAAM,EAqBR,qBAAkB,IAAM,CApC1B,IAAAM,EAqCI,IAAMC,GAAcD,EAAA,KAAK,aAAL,YAAAA,EAAiB,eAAe,gBACpDC,GAAA,MAAAA,EAAa,MAAM,YAAY,UAAW,SAC1CA,GAAA,MAAAA,EAAa,MAAM,YAAY,aAAc,OAC7CA,EAAY,iBAAiB,QAAS,KAAK,cAAc,CAC3D,EAEA,qBAAkB,IAAM,CA3C1B,IAAAD,EA4CI,IAAMC,GAAcD,EAAA,KAAK,aAAL,YAAAA,EAAiB,eAAe,gBACpDC,EAAY,oBAAoB,QAAS,KAAK,cAAc,EAC5DA,GAAA,MAAAA,EAAa,MAAM,YAAY,UAAW,OAC5C,EAEA,KAAQ,kBAAqBC,GAAgB,CAC3C,KAAK,UAAU,uBAAwBA,EAAa,CAClD,QAAS,GACT,SAAU,EACZ,CAAC,EAED,KAAK,gBAAgB,CACvB,EAEA,KAAQ,eAAkBC,GAAU,CA1DtC,IAAAH,EA2DI,IAAMI,GAAOJ,EAAA,KAAK,aAAL,YAAAA,EAAiB,eAAe,gBAC7CI,EAAK,WAAaD,EAAM,OACxBA,EAAM,eAAe,CACvB,EA9CE,KAAK,aAAe,CAAC,CACvB,CAUU,QAAQE,EAA6E,CAC7F,GAAIA,EAAmB,IAAI,cAAc,GAAK,KAAK,aAAa,OAAS,EAAG,CAC1E,KAAK,gBAAgB,EACrB,MACF,CAEA,KAAK,gBAAgB,CACvB,CA8BQ,UAAUH,EAAoC,CAhExD,IAAAF,EAiEI,OAAIE,EAAY,OACPI,4BAA+BJ,EAAY,MAAM,MAGnDI;AAAA,oCACuBN,EAAAE,EAAY,KAAK,CAAC,IAAlB,YAAAF,EAAqB,gBAAiB,GAAG;AAAA,WAEzE,CAEU,QAAS,CACjB,IAAMO,EAAeL,GAAgBI;AAAA,yCACA,IAAM,KAAK,kBAAkBJ,CAAW,CAAC;AAAA,UACxE,KAAK,UAAUA,CAAW,CAAC;AAAA,mCACFA,EAAY,IAAI;AAAA;AAAA,MAI/C,OAAOI;AAAA;AAAA,UAEDE,EACA,KAAK,aACJN,GAAuCA,EAAY,GACnDA,GAAgBI,KAAQC,EAAYL,CAAW,CAAC,GACnD,CAAC;AAAA;AAAA,KAGP,CACF,EA/EaH,EAMJ,OAASF,EANLE,EAUJ,WAAa,CAClB,aAAc,CAAE,KAAM,MAAO,CAC/B,EAZWA,EAANU,EAAA,CADNC,EAAc,gCAAgC,GAClCX",
  "names": ["init_define_process_env", "WebComponentsBaseElement", "WebComponentsBase", "s", "styles", "mentionListStyle", "CommentsMentionList", "_a", "mentionList", "participant", "event", "menu", "_changedProperties", "x", "mentionItem", "c", "__decorateClass", "CreateElement"]
}
