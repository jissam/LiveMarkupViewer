{
  "version": 3,
  "sources": ["../../src/web-components/comments/components/annotation-resolved.ts"],
  "sourcesContent": ["import { CSSResultGroup, LitElement, PropertyValueMap, html } from 'lit';\n\nimport { WebComponentsBase } from '../../base';\nimport importStyle from '../../base/utils/importStyle';\nimport { annotationResolvedStyle } from '../css';\nimport { CreateElement } from '../../global/decorators/create-element.decorator';\n\nconst WebComponentsBaseElement = WebComponentsBase(LitElement);\nconst styles: CSSResultGroup[] = [WebComponentsBaseElement.styles, annotationResolvedStyle];\n\nconst DEFAULT_SECONDS_TO_HIDE = 10 * 1000;\n\n@CreateElement('superviz-comments-annotation-resolved')\nexport class CommentsAnnotationResolved extends WebComponentsBaseElement {\n  constructor() {\n    super();\n    this.timeToHide = DEFAULT_SECONDS_TO_HIDE;\n    this.isCanceled = false;\n  }\n\n  static styles = styles;\n\n  private timeout;\n\n  declare timeToHide: number;\n  declare isCanceled: boolean;\n\n  static properties = {\n    timeToHide: { type: Number },\n    isCanceled: { type: Boolean },\n  };\n\n  protected firstUpdated(\n    _changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>,\n  ): void {\n    super.firstUpdated(_changedProperties);\n    this.updateComplete.then(() => {\n      importStyle.call(this, ['comments']);\n      this.setTimer();\n    });\n  }\n\n  private setTimer = () => {\n    clearTimeout(this.timeout);\n    this.isCanceled = false;\n\n    this.timeout = setTimeout(() => {\n      if (this.isCanceled) return;\n\n      this.timeToHide = 0;\n      this.isCanceled = false;\n      this.hide();\n    }, this.timeToHide);\n  };\n\n  private hide() {\n    this.emitEvent('hide', {}, { bubbles: false, composed: false });\n  }\n\n  private undone() {\n    this.isCanceled = true;\n    this.hide();\n\n    this.emitEvent(\n      'undo-resolve',\n      {\n        type: 'undo-resolve',\n        resolved: false,\n      },\n      { bubbles: false, composed: false },\n    );\n\n    clearTimeout(this.timeout);\n  }\n\n  protected render() {\n    if (this.timeToHide === 0) return html``;\n    if (this.isCanceled) return html``;\n\n    return html`\n      <div class=\"comments__annotation-resolved\">\n        <span class=\"text text-big sv-gray-700 comments__annotation-resolved__text\"\n          >You resolved this comment</span\n        >\n        <button\n          id=\"undone\"\n          @click=${this.undone}\n          class=\"icon-button icon-button--clickable icon-button--medium comments__annotation-resolved__unresolve_button\"\n        >\n          <superviz-icon name=\"undo\" size=\"md\"></superviz-icon>\n        </button>\n      </div>\n    `;\n  }\n}\n"],
  "mappings": "oPAAAA,IAOA,IAAMC,EAA2BC,EAAkBC,CAAU,EACvDC,EAA2B,CAACH,EAAyB,OAAQI,CAAuB,EAEpFC,EAA0B,GAAK,IAGxBC,EAAN,cAAyCN,CAAyB,CACvE,aAAc,CACZ,MAAM,EA2BR,KAAQ,SAAW,IAAM,CACvB,aAAa,KAAK,OAAO,EACzB,KAAK,WAAa,GAElB,KAAK,QAAU,WAAW,IAAM,CAC1B,KAAK,aAET,KAAK,WAAa,EAClB,KAAK,WAAa,GAClB,KAAK,KAAK,EACZ,EAAG,KAAK,UAAU,CACpB,EArCE,KAAK,WAAaK,EAClB,KAAK,WAAa,EACpB,CAcU,aACRE,EACM,CACN,MAAM,aAAaA,CAAkB,EACrC,KAAK,eAAe,KAAK,IAAM,CAC7BC,EAAY,KAAK,KAAM,CAAC,UAAU,CAAC,EACnC,KAAK,SAAS,CAChB,CAAC,CACH,CAeQ,MAAO,CACb,KAAK,UAAU,OAAQ,CAAC,EAAG,CAAE,QAAS,GAAO,SAAU,EAAM,CAAC,CAChE,CAEQ,QAAS,CACf,KAAK,WAAa,GAClB,KAAK,KAAK,EAEV,KAAK,UACH,eACA,CACE,KAAM,eACN,SAAU,EACZ,EACA,CAAE,QAAS,GAAO,SAAU,EAAM,CACpC,EAEA,aAAa,KAAK,OAAO,CAC3B,CAEU,QAAS,CACjB,OAAI,KAAK,aAAe,EAAUC,IAC9B,KAAK,WAAmBA,IAErBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAOQ,KAAK,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAO5B,CACF,EAjFaH,EAOJ,OAASH,EAPLG,EAcJ,WAAa,CAClB,WAAY,CAAE,KAAM,MAAO,EAC3B,WAAY,CAAE,KAAM,OAAQ,CAC9B,EAjBWA,EAANI,EAAA,CADNC,EAAc,uCAAuC,GACzCL",
  "names": ["init_define_process_env", "WebComponentsBaseElement", "WebComponentsBase", "s", "styles", "annotationResolvedStyle", "DEFAULT_SECONDS_TO_HIDE", "CommentsAnnotationResolved", "_changedProperties", "importStyle", "x", "__decorateClass", "CreateElement"]
}
