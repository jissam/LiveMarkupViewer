{
  "version": 3,
  "sources": ["../../src/web-components/tooltip/index.ts", "../../src/web-components/tooltip/index.style.ts", "../../src/web-components/tooltip/types.ts"],
  "sourcesContent": ["import { CSSResultGroup, LitElement, PropertyValueMap, html } from 'lit';\n\nimport { classMap } from 'lit/directives/class-map.js';\n\nimport { WebComponentsBase } from '../base';\nimport importStyle from '../base/utils/importStyle';\n\nimport { dropdownStyle } from './index.style';\nimport { Positions, PositionsEnum } from './types';\nimport { CreateElement } from '../global/decorators/create-element.decorator';\n\nconst WebComponentsBaseElement = WebComponentsBase(LitElement);\nconst styles: CSSResultGroup[] = [WebComponentsBaseElement.styles, dropdownStyle];\n\n@CreateElement('superviz-tooltip')\nexport class Tooltip extends WebComponentsBaseElement {\n  static styles = styles;\n\n  declare tooltipData: { name: string; info: string };\n\n  declare tooltip: HTMLElement;\n  declare tooltipOnLeft: boolean;\n  declare showTooltip: boolean;\n  declare tooltipVerticalPosition: Positions;\n  declare tooltipHorizontalPosition: Positions;\n  declare shiftTooltipLeft: boolean;\n  declare parentSizes: { height: number; width: number };\n  declare classesPrefix: string;\n  declare parentComponent: string;\n\n  private canAnimate: boolean;\n  private animationFrame: number;\n\n  static properties = {\n    tooltipData: { type: Object },\n    tooltipOnLeft: { type: Boolean },\n    showTooltip: { type: Boolean },\n    tooltip: { type: Object },\n    tooltipVerticalPosition: { type: String },\n    tooltipHorizontalPosition: { type: String },\n    parentSizes: { type: Object },\n    shiftTooltipLeft: { type: Boolean },\n    classesPrefix: { type: String },\n    parentComponent: { type: String },\n  };\n\n  constructor() {\n    super();\n    this.tooltipVerticalPosition = PositionsEnum['TOOLTIP-BOTTOM'];\n    this.tooltipHorizontalPosition = PositionsEnum['TOOLTIP-CENTER'];\n    this.showTooltip = false;\n    this.parentSizes = { height: 0, width: 0 };\n  }\n\n  protected firstUpdated(\n    _changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>,\n  ): void {\n    const { parentElement } = this;\n    parentElement?.addEventListener('mouseenter', this.show);\n    parentElement?.addEventListener('mouseleave', this.hide);\n    this.adjustTooltipPosition();\n    importStyle.call(this, this.parentComponent);\n  }\n\n  private positionFixedTooltip = () => {\n    if (!this.canAnimate || !this.parentElement) {\n      this.hide();\n      return;\n    }\n\n    this.adjustTooltipPosition();\n\n    const {\n      bottom: parentBottom,\n      left: parentLeft,\n      width: parentWidth,\n      right: parentRight,\n      top: parentTop,\n    } = this.parentElement.getBoundingClientRect();\n    const { width } = this.tooltip.getBoundingClientRect();\n\n    let top = 'auto';\n    let bottom = 'auto';\n    let left = 'auto';\n    let right = 'auto';\n    let transform = '';\n\n    const isLargeScreenSize = window.innerWidth > 780;\n    let verticalOffset = isLargeScreenSize ? 14 : 12;\n\n    if (this.tooltipHorizontalPosition.includes('right')) {\n      left = `${parentLeft + parentWidth / 2}px`;\n    }\n\n    if (this.tooltipHorizontalPosition.includes('left')) {\n      right = `${window.innerWidth - (parentRight - parentWidth / 2)}px`;\n    }\n\n    if (this.tooltipHorizontalPosition.includes('center')) {\n      left = `${parentLeft}px`;\n\n      transform = `translateX(-${(width - parentWidth) / 2}px)`;\n    }\n\n    if (this.tooltipVerticalPosition.includes('bottom')) {\n      top = `${parentBottom + verticalOffset}px`;\n      verticalOffset = -10;\n    }\n\n    if (this.tooltipVerticalPosition.includes('top')) {\n      bottom = `${window.innerHeight - (parentTop - verticalOffset)}px`;\n      verticalOffset = 10;\n    }\n\n    if (this.shiftTooltipLeft) {\n      const horizontalOffset = isLargeScreenSize ? 18 : 10;\n      transform = `translate(-${(width - horizontalOffset - 42) / 2}px, ${verticalOffset}px)`;\n    }\n\n    this.tooltip?.style.setProperty('top', top);\n    this.tooltip?.style.setProperty('left', left);\n    this.tooltip?.style.setProperty('right', right);\n    this.tooltip?.style.setProperty('bottom', bottom);\n    this.tooltip?.style.setProperty('transform', transform);\n\n    this.animationFrame = window.requestAnimationFrame(this.positionFixedTooltip);\n  };\n\n  private hide = () => {\n    this.canAnimate = false;\n    this.showTooltip = false;\n    window.cancelAnimationFrame(this.animationFrame);\n  };\n\n  private show = () => {\n    this.canAnimate = true;\n    this.showTooltip = true;\n    this.positionFixedTooltip();\n  };\n\n  disconnectedCallback(): void {\n    super.disconnectedCallback();\n\n    const { parentElement } = this;\n\n    parentElement?.removeEventListener('mouseenter', this.show);\n    parentElement?.removeEventListener('mouseleave', this.hide);\n  }\n\n  protected updated(changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>): void {\n    if (changedProperties.has('showTooltip') && this.showTooltip) {\n      const { parentElement } = this;\n      if (!parentElement) return;\n\n      const { height, width } = parentElement.getBoundingClientRect();\n\n      if (this.parentSizes.height !== height || this.parentSizes.width !== width) {\n        this.parentSizes = { height, width };\n      }\n    }\n  }\n\n  private adjustTooltipVerticalPosition = () => {\n    const { bottom, top, width } = this.tooltip.getBoundingClientRect();\n    const maxY = window.innerHeight;\n\n    if (this.tooltipVerticalPosition.includes('top') && top < 0) {\n      this.tooltipVerticalPosition = this.tooltipVerticalPosition.replace(\n        'top',\n        'bottom',\n      ) as Positions;\n      return;\n    }\n\n    if (this.tooltipVerticalPosition.includes('bottom') && bottom > maxY) {\n      this.tooltipVerticalPosition = this.tooltipVerticalPosition.replace(\n        'bottom',\n        'top',\n      ) as Positions;\n    }\n  };\n\n  private adjustTooltipHorizontalPosition = () => {\n    const { left, right, width } = this.tooltip.getBoundingClientRect();\n    const maxX = window.innerWidth;\n\n    const {\n      left: parentLeft,\n      width: parentWidth,\n      right: parentRight,\n    } = this.parentElement.getBoundingClientRect();\n\n    // check if both sides of tooltip would still be visible if it centered\n    const wouldFitScreenLeft = parentLeft + parentWidth / 2 - width / 2 > 0;\n    const wouldFitScreenRight = width / 2 + parentRight - parentWidth / 2 < maxX;\n\n    if (wouldFitScreenLeft && wouldFitScreenRight) {\n      this.tooltipHorizontalPosition = this.tooltipHorizontalPosition.replace(\n        /left|right/,\n        'center',\n      ) as Positions;\n      return;\n    }\n\n    if (left < 0) {\n      this.tooltipHorizontalPosition = this.tooltipHorizontalPosition.replace(\n        'center',\n        'right',\n      ) as Positions;\n      return;\n    }\n\n    if (right > maxX) {\n      this.tooltipHorizontalPosition = this.tooltipHorizontalPosition.replace(\n        'center',\n        'left',\n      ) as Positions;\n    }\n  };\n\n  private adjustTooltipPosition = () => {\n    if (!this.parentElement) {\n      this.hide();\n      return;\n    }\n\n    if (!this.tooltip) {\n      this.tooltip = this.shadowRoot.querySelector('.superviz-who-is-online__tooltip');\n    }\n\n    this.adjustTooltipVerticalPosition();\n    this.adjustTooltipHorizontalPosition();\n  };\n\n  private getClass(suffix: string) {\n    return suffix ? `${this.classesPrefix}__${suffix}` : this.classesPrefix;\n  }\n\n  private renderTooltip() {\n    const verticalPosition = this.tooltipVerticalPosition;\n    const horizontalPosition = this.tooltipHorizontalPosition;\n\n    const classList = {\n      'superviz-who-is-online__tooltip': true,\n      [this.getClass('')]: true,\n      [verticalPosition]: true,\n      [horizontalPosition]: true,\n      'tooltip-extras': this.tooltipOnLeft,\n      'show-tooltip': this.showTooltip,\n      'shift-left': this.shiftTooltipLeft,\n    };\n\n    return html`<div\n      class=${classMap(classList)}\n      style=\"--host-height: ${this.parentSizes?.height}px; --host-width: ${this.parentSizes\n        ?.width}px;\"\n    >\n      <p class=\"tooltip-name ${this.getClass('title')}\">${this.tooltipData?.name}</p>\n      ${this.tooltipData?.info\n        ? html`<p class=\"tooltip-action ${this.getClass('action')}\">${this.tooltipData?.info}</p>`\n        : ''}\n      <div class=\"superviz-who-is-online__tooltip-arrow ${this.getClass('')}\"></div>\n    </div>`;\n  }\n\n  protected render() {\n    return html`${this.renderTooltip()}`;\n  }\n}\n", "import { css } from 'lit';\n\nexport const dropdownStyle = css`\n  .superviz-who-is-online__tooltip {\n    --host-height: 0px;\n    --host-width: 0px;\n    --vertical-offset: 12px;\n\n    background-color: rgb(var(--sv-gray-600));\n    padding: 10px;\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    align-items: center;\n    position: fixed;\n    opacity: 0;\n    border-radius: 2px;\n    cursor: default;\n    visibility: hidden;\n    transition: opacity 0.2s ease-in-out display 0s;\n    z-index: 100;\n    overflow-x: clip;\n  }\n\n  .superviz-who-is-online__tooltip-arrow {\n    width: 13px;\n    height: 13px;\n    position: absolute;\n    background-color: rgb(var(--sv-gray-600));\n    transform: rotate(45deg);\n    border-top-left-radius: 1px;\n    border-bottom-right-radius: 1px;\n  }\n\n  .show-tooltip {\n    opacity: 1;\n    visibility: visible;\n  }\n\n  .tooltip-name,\n  .tooltip-action {\n    margin: 0;\n    font-family: roboto;\n    white-space: nowrap;\n    text-align: center;\n    line-height: 1.2;\n  }\n\n  .tooltip-name {\n    color: white;\n    font-size: 14px;\n  }\n\n  .tooltip-action {\n    color: rgb(var(--sv-gray-400));\n    font-size: 12px;\n  }\n\n  .tooltip-top {\n    bottom: calc(var(--host-height) + var(--vertical-offset));\n  }\n\n  .tooltip-bottom {\n    bottom: auto;\n  }\n\n  .tooltip-center {\n    right: auto;\n  }\n\n  .tooltip-bottom .superviz-who-is-online__tooltip-arrow {\n    top: -6.5px;\n  }\n\n  .tooltip-top .superviz-who-is-online__tooltip-arrow {\n    bottom: -6.5px;\n  }\n\n  .tooltip-center .superviz-who-is-online__tooltip-arrow {\n    left: 0;\n    margin-left: 50%;\n    translate: -50% 0;\n  }\n\n  .tooltip-left .superviz-who-is-online__tooltip-arrow {\n    translate: 50% 0;\n    border-radius: 0;\n    right: 0;\n  }\n\n  .tooltip-right .superviz-who-is-online__tooltip-arrow {\n    translate: -50% 0;\n    border-radius: 0;\n    left: 0;\n  }\n\n  .shift-left {\n    --vertical-offset: 2px;\n  }\n`;\n", "export enum PositionsEnum {\n  'TOOLTIP-BOTTOM' = 'tooltip-bottom',\n  'TOOLTIP-TOP' = 'tooltip-top',\n  'TOOLTIP-LEFT' = 'tooltip-left',\n  'TOOLTIP-RIGHT' = 'tooltip-right',\n  'TOOLTIP-CENTER' = 'tooltip-center',\n}\n\nexport type Positions = PositionsEnum | `${PositionsEnum}`;\n"],
  "mappings": "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",
  "names": ["init_define_process_env", "init_define_process_env", "dropdownStyle", "i", "init_define_process_env", "WebComponentsBaseElement", "WebComponentsBase", "s", "styles", "dropdownStyle", "Tooltip", "_a", "_b", "_c", "_d", "_e", "parentBottom", "parentLeft", "parentWidth", "parentRight", "parentTop", "width", "top", "bottom", "left", "right", "transform", "isLargeScreenSize", "verticalOffset", "maxY", "maxX", "wouldFitScreenLeft", "wouldFitScreenRight", "_changedProperties", "parentElement", "importStyle", "changedProperties", "height", "suffix", "verticalPosition", "horizontalPosition", "classList", "x", "e", "__decorateClass", "CreateElement"]
}
